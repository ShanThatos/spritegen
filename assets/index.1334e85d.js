(function(){const ne=document.createElement("link").relList;if(ne&&ne.supports&&ne.supports("modulepreload"))return;for(const D of document.querySelectorAll('link[rel="modulepreload"]'))y(D);new MutationObserver(D=>{for(const _ of D)if(_.type==="childList")for(const w of _.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&y(w)}).observe(document,{childList:!0,subtree:!0});function re(D){const _={};return D.integrity&&(_.integrity=D.integrity),D.referrerpolicy&&(_.referrerPolicy=D.referrerpolicy),D.crossorigin==="use-credentials"?_.credentials="include":D.crossorigin==="anonymous"?_.credentials="omit":_.credentials="same-origin",_}function y(D){if(D.ep)return;D.ep=!0;const _=re(D);fetch(D.href,_)}})();const $e={},br=($,ne)=>$===ne,rt=Symbol("solid-proxy"),Dt=Symbol("solid-track"),Mt={equals:br};let yr=lr;const lt=1,Ct=2,ir={owned:null,cleanups:null,context:null,owner:null};var Xe=null;let st=null,Ze=null,Ke=null,ft=null,Ut=0;function At($,ne){const re=Ze,y=Xe,D=$.length===0,_=D?ir:{owned:null,cleanups:null,context:null,owner:ne||y},w=D?$:()=>$(()=>ut(()=>jt(_)));Xe=_,Ze=null;try{return pt(w,!0)}finally{Ze=re,Xe=y}}function Rt($,ne){ne=ne?Object.assign({},Mt,ne):Mt;const re={value:$,observers:null,observerSlots:null,comparator:ne.equals||void 0},y=D=>(typeof D=="function"&&(D=D(re.value)),or(re,D));return[ar.bind(re),y]}function it($,ne,re){const y=sr($,ne,!1,lt);It(y)}function _t($,ne,re){re=re?Object.assign({},Mt,re):Mt;const y=sr($,ne,!0,0);return y.observers=null,y.observerSlots=null,y.comparator=re.equals||void 0,It(y),ar.bind(y)}function wr($){return pt($,!1)}function ut($){let ne,re=Ze;return Ze=null,ne=$(),Ze=re,ne}function xr($){return Xe===null||(Xe.cleanups===null?Xe.cleanups=[$]:Xe.cleanups.push($)),$}function nr(){return Ze}function ar(){const $=st;if(this.sources&&(this.state||$))if(this.state===lt||$)It(this);else{const ne=Ke;Ke=null,pt(()=>Tt(this),!1),Ke=ne}if(Ze){const ne=this.observers?this.observers.length:0;Ze.sources?(Ze.sources.push(this),Ze.sourceSlots.push(ne)):(Ze.sources=[this],Ze.sourceSlots=[ne]),this.observers?(this.observers.push(Ze),this.observerSlots.push(Ze.sources.length-1)):(this.observers=[Ze],this.observerSlots=[Ze.sources.length-1])}return this.value}function or($,ne,re){let y=$.value;return(!$.comparator||!$.comparator(y,ne))&&($.value=ne,$.observers&&$.observers.length&&pt(()=>{for(let D=0;D<$.observers.length;D+=1){const _=$.observers[D],w=st&&st.running;w&&st.disposed.has(_),(w&&!_.tState||!w&&!_.state)&&(_.pure?Ke.push(_):ft.push(_),_.observers&&ur(_)),w||(_.state=lt)}if(Ke.length>1e6)throw Ke=[],new Error},!1)),ne}function It($){if(!$.fn)return;jt($);const ne=Xe,re=Ze,y=Ut;Ze=Xe=$,Er($,$.value,y),Ze=re,Xe=ne}function Er($,ne,re){let y;try{y=$.fn(ne)}catch(D){$.pure&&($.state=lt),hr(D)}(!$.updatedAt||$.updatedAt<=re)&&($.updatedAt!=null&&"observers"in $?or($,y):$.value=y,$.updatedAt=re)}function sr($,ne,re,y=lt,D){const _={fn:$,state:y,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:ne,owner:Xe,context:null,pure:re};return Xe===null||Xe!==ir&&(Xe.owned?Xe.owned.push(_):Xe.owned=[_]),_}function fr($){const ne=st;if($.state===0||ne)return;if($.state===Ct||ne)return Tt($);if($.suspense&&ut($.suspense.inFallback))return $.suspense.effects.push($);const re=[$];for(;($=$.owner)&&(!$.updatedAt||$.updatedAt<Ut);)($.state||ne)&&re.push($);for(let y=re.length-1;y>=0;y--)if($=re[y],$.state===lt||ne)It($);else if($.state===Ct||ne){const D=Ke;Ke=null,pt(()=>Tt($,re[0]),!1),Ke=D}}function pt($,ne){if(Ke)return $();let re=!1;ne||(Ke=[]),ft?re=!0:ft=[],Ut++;try{const y=$();return Sr(re),y}catch(y){Ke||(ft=null),hr(y)}}function Sr($){if(Ke&&(lr(Ke),Ke=null),$)return;const ne=ft;ft=null,ne.length&&pt(()=>yr(ne),!1)}function lr($){for(let ne=0;ne<$.length;ne++)fr($[ne])}function Tt($,ne){const re=st;$.state=0;for(let y=0;y<$.sources.length;y+=1){const D=$.sources[y];D.sources&&(D.state===lt||re?D!==ne&&fr(D):(D.state===Ct||re)&&Tt(D,ne))}}function ur($){const ne=st;for(let re=0;re<$.observers.length;re+=1){const y=$.observers[re];(!y.state||ne)&&(y.state=Ct,y.pure?Ke.push(y):ft.push(y),y.observers&&ur(y))}}function jt($){let ne;if($.sources)for(;$.sources.length;){const re=$.sources.pop(),y=$.sourceSlots.pop(),D=re.observers;if(D&&D.length){const _=D.pop(),w=re.observerSlots.pop();y<D.length&&(_.sourceSlots[w]=y,D[y]=_,re.observerSlots[y]=w)}}if($.owned){for(ne=0;ne<$.owned.length;ne++)jt($.owned[ne]);$.owned=null}if($.cleanups){for(ne=0;ne<$.cleanups.length;ne++)$.cleanups[ne]();$.cleanups=null}$.state=0,$.context=null}function Ar($){return $ instanceof Error||typeof $=="string"?$:new Error("Unknown error")}function hr($){throw $=Ar($),$}const Mr=Symbol("fallback");function Kt($){for(let ne=0;ne<$.length;ne++)$[ne]()}function Cr($,ne,re={}){let y=[],D=[],_=[],w=0,h=ne.length>1?[]:null;return xr(()=>Kt(_)),()=>{let m=$()||[],d,o;return m[Dt],ut(()=>{let n=m.length,t,e,a,l,i,f,r,u,c;if(n===0)w!==0&&(Kt(_),_=[],y=[],D=[],w=0,h&&(h=[])),re.fallback&&(y=[Mr],D[0]=At(v=>(_[0]=v,re.fallback())),w=1);else if(w===0){for(D=new Array(n),o=0;o<n;o++)y[o]=m[o],D[o]=At(s);w=n}else{for(a=new Array(n),l=new Array(n),h&&(i=new Array(n)),f=0,r=Math.min(w,n);f<r&&y[f]===m[f];f++);for(r=w-1,u=n-1;r>=f&&u>=f&&y[r]===m[u];r--,u--)a[u]=D[r],l[u]=_[r],h&&(i[u]=h[r]);for(t=new Map,e=new Array(u+1),o=u;o>=f;o--)c=m[o],d=t.get(c),e[o]=d===void 0?-1:d,t.set(c,o);for(d=f;d<=r;d++)c=y[d],o=t.get(c),o!==void 0&&o!==-1?(a[o]=D[d],l[o]=_[d],h&&(i[o]=h[d]),o=e[o],t.set(c,o)):_[d]();for(o=f;o<n;o++)o in a?(D[o]=a[o],_[o]=l[o],h&&(h[o]=i[o],h[o](o))):D[o]=At(s);D=D.slice(0,w=n),y=m.slice(0)}return D});function s(n){if(_[o]=n,h){const[t,e]=Rt(o);return h[o]=e,ne(m[o],t)}return ne(m[o])}}}function et($,ne){return ut(()=>$(ne||{}))}function Et(){return!0}const cr={get($,ne,re){return ne===rt?re:$.get(ne)},has($,ne){return $.has(ne)},set:Et,deleteProperty:Et,getOwnPropertyDescriptor($,ne){return{configurable:!0,enumerable:!0,get(){return $.get(ne)},set:Et,deleteProperty:Et}},ownKeys($){return $.keys()}};function Bt($){return($=typeof $=="function"?$():$)==null?{}:$}function Rr(...$){if($.some(re=>re&&(rt in re||typeof re=="function")))return new Proxy({get(re){for(let y=$.length-1;y>=0;y--){const D=Bt($[y])[re];if(D!==void 0)return D}},has(re){for(let y=$.length-1;y>=0;y--)if(re in Bt($[y]))return!0;return!1},keys(){const re=[];for(let y=0;y<$.length;y++)re.push(...Object.keys(Bt($[y])));return[...new Set(re)]}},cr);const ne={};for(let re=$.length-1;re>=0;re--)if($[re]){const y=Object.getOwnPropertyDescriptors($[re]);for(const D in y)D in ne||Object.defineProperty(ne,D,{enumerable:!0,get(){for(let _=$.length-1;_>=0;_--){const w=($[_]||{})[D];if(w!==void 0)return w}}})}return ne}function Tr($,...ne){const re=new Set(ne.flat()),y=Object.getOwnPropertyDescriptors($),D=rt in $;D||ne.push(Object.keys(y).filter(w=>!re.has(w)));const _=ne.map(w=>{const h={};for(let m=0;m<w.length;m++){const d=w[m];!D&&!(d in $)||Object.defineProperty(h,d,y[d]?y[d]:{get(){return $[d]},set(){return!0},enumerable:!0})}return h});return D&&_.push(new Proxy({get(w){return re.has(w)?void 0:$[w]},has(w){return re.has(w)?!1:w in $},keys(){return Object.keys($).filter(w=>!re.has(w))}},cr)),_}function Or($){const ne="fallback"in $&&{fallback:()=>$.fallback};return _t(Cr(()=>$.each,$.children,ne||void 0))}function Pr($){let ne=!1;const re=$.keyed,y=_t(()=>$.when,void 0,{equals:(D,_)=>ne?D===_:!D==!_});return _t(()=>{const D=y();if(D){const _=$.children,w=typeof _=="function"&&_.length>0;return ne=re||w,w?ut(()=>_(D)):_}return $.fallback})}const Lr=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],kr=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Lr]),Ir=new Set(["innerHTML","textContent","innerText","children"]),Br=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Qt=Object.assign(Object.create(null),{class:"className",formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"}),Dr=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Fr=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),Nr={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function zr($,ne,re){let y=re.length,D=ne.length,_=y,w=0,h=0,m=ne[D-1].nextSibling,d=null;for(;w<D||h<_;){if(ne[w]===re[h]){w++,h++;continue}for(;ne[D-1]===re[_-1];)D--,_--;if(D===w){const o=_<y?h?re[h-1].nextSibling:re[_-h]:m;for(;h<_;)$.insertBefore(re[h++],o)}else if(_===h)for(;w<D;)(!d||!d.has(ne[w]))&&ne[w].remove(),w++;else if(ne[w]===re[_-1]&&re[h]===ne[D-1]){const o=ne[--D].nextSibling;$.insertBefore(re[h++],ne[w++].nextSibling),$.insertBefore(re[--_],o),ne[D]=re[_]}else{if(!d){d=new Map;let s=h;for(;s<_;)d.set(re[s],s++)}const o=d.get(ne[w]);if(o!=null)if(h<o&&o<_){let s=w,n=1,t;for(;++s<D&&s<_&&!((t=d.get(ne[s]))==null||t!==o+n);)n++;if(n>o-h){const e=ne[w];for(;h<o;)$.insertBefore(re[h++],e)}else $.replaceChild(re[h++],ne[w++])}else w++;else ne[w++].remove()}}}const $t="_$DX_DELEGATE";function Ur($,ne,re,y={}){let D;return At(_=>{D=_,ne===document?$():ct(ne,$(),ne.firstChild?null:void 0,re)},y.owner),()=>{D(),ne.textContent=""}}function yt($,ne,re){const y=document.createElement("template");y.innerHTML=$;let D=y.content.firstChild;return re&&(D=D.firstChild),D}function jr($,ne=window.document){const re=ne[$t]||(ne[$t]=new Set);for(let y=0,D=$.length;y<D;y++){const _=$[y];re.has(_)||(re.add(_),ne.addEventListener(_,Jr))}}function mt($,ne,re){re==null?$.removeAttribute(ne):$.setAttribute(ne,re)}function Gr($,ne,re,y){y==null?$.removeAttributeNS(ne,re):$.setAttributeNS(ne,re,y)}function Hr($,ne){ne==null?$.removeAttribute("class"):$.className=ne}function Wr($,ne,re,y){if(y)Array.isArray(re)?($[`$$${ne}`]=re[0],$[`$$${ne}Data`]=re[1]):$[`$$${ne}`]=re;else if(Array.isArray(re)){const D=re[0];$.addEventListener(ne,re[0]=_=>D.call($,re[1],_))}else $.addEventListener(ne,re)}function Zr($,ne,re={}){const y=Object.keys(ne||{}),D=Object.keys(re);let _,w;for(_=0,w=D.length;_<w;_++){const h=D[_];!h||h==="undefined"||ne[h]||(Jt($,h,!1),delete re[h])}for(_=0,w=y.length;_<w;_++){const h=y[_],m=!!ne[h];!h||h==="undefined"||re[h]===m||!m||(Jt($,h,!0),re[h]=m)}return re}function Yr($,ne,re){if(!ne)return re?mt($,"style"):ne;const y=$.style;if(typeof ne=="string")return y.cssText=ne;typeof re=="string"&&(y.cssText=re=void 0),re||(re={}),ne||(ne={});let D,_;for(_ in re)ne[_]==null&&y.removeProperty(_),delete re[_];for(_ in ne)D=ne[_],D!==re[_]&&(y.setProperty(_,D),re[_]=D);return re}function Vr($,ne={},re,y){const D={};return y||it(()=>D.children=dt($,ne.children,D.children)),it(()=>ne.ref&&ne.ref($)),it(()=>Kr($,ne,re,!0,D,!0)),D}function Xr($,ne,re){return ut(()=>$(ne,re))}function ct($,ne,re,y){if(re!==void 0&&!y&&(y=[]),typeof ne!="function")return dt($,ne,y,re);it(D=>dt($,ne(),D,re),y)}function Kr($,ne,re,y,D={},_=!1){ne||(ne={});for(const w in D)if(!(w in ne)){if(w==="children")continue;D[w]=qt($,w,null,D[w],re,_)}for(const w in ne){if(w==="children"){y||dt($,ne.children);continue}const h=ne[w];D[w]=qt($,w,h,D[w],re,_)}}function Qr($){let ne,re;return!$e.context||!(ne=$e.registry.get(re=qr()))?$.cloneNode(!0):($e.completed&&$e.completed.add(ne),$e.registry.delete(re),ne)}function $r($){return $.toLowerCase().replace(/-([a-z])/g,(ne,re)=>re.toUpperCase())}function Jt($,ne,re){const y=ne.trim().split(/\s+/);for(let D=0,_=y.length;D<_;D++)$.classList.toggle(y[D],re)}function qt($,ne,re,y,D,_){let w,h,m;if(ne==="style")return Yr($,re,y);if(ne==="classList")return Zr($,re,y);if(re===y)return y;if(ne==="ref")_||re($);else if(ne.slice(0,3)==="on:"){const d=ne.slice(3);y&&$.removeEventListener(d,y),re&&$.addEventListener(d,re)}else if(ne.slice(0,10)==="oncapture:"){const d=ne.slice(10);y&&$.removeEventListener(d,y,!0),re&&$.addEventListener(d,re,!0)}else if(ne.slice(0,2)==="on"){const d=ne.slice(2).toLowerCase(),o=Dr.has(d);if(!o&&y){const s=Array.isArray(y)?y[0]:y;$.removeEventListener(d,s)}(o||re)&&(Wr($,d,re,o),o&&jr([d]))}else if((m=Ir.has(ne))||!D&&(Qt[ne]||(h=kr.has(ne)))||(w=$.nodeName.includes("-")))ne==="class"||ne==="className"?Hr($,re):w&&!h&&!m?$[$r(ne)]=re:$[Qt[ne]||ne]=re;else{const d=D&&ne.indexOf(":")>-1&&Nr[ne.split(":")[0]];d?Gr($,d,ne,re):mt($,Br[ne]||ne,re)}return re}function Jr($){const ne=`$$${$.type}`;let re=$.composedPath&&$.composedPath()[0]||$.target;for($.target!==re&&Object.defineProperty($,"target",{configurable:!0,value:re}),Object.defineProperty($,"currentTarget",{configurable:!0,get(){return re||document}}),$e.registry&&!$e.done&&($e.done=!0,document.querySelectorAll("[id^=pl-]").forEach(y=>y.remove()));re!==null;){const y=re[ne];if(y&&!re.disabled){const D=re[`${ne}Data`];if(D!==void 0?y.call(re,D,$):y.call(re,$),$.cancelBubble)return}re=re.host&&re.host!==re&&re.host instanceof Node?re.host:re.parentNode}}function dt($,ne,re,y,D){for($e.context&&!re&&(re=[...$.childNodes]);typeof re=="function";)re=re();if(ne===re)return re;const _=typeof ne,w=y!==void 0;if($=w&&re[0]&&re[0].parentNode||$,_==="string"||_==="number"){if($e.context)return re;if(_==="number"&&(ne=ne.toString()),w){let h=re[0];h&&h.nodeType===3?h.data=ne:h=document.createTextNode(ne),re=ht($,re,y,h)}else re!==""&&typeof re=="string"?re=$.firstChild.data=ne:re=$.textContent=ne}else if(ne==null||_==="boolean"){if($e.context)return re;re=ht($,re,y)}else{if(_==="function")return it(()=>{let h=ne();for(;typeof h=="function";)h=h();re=dt($,h,re,y)}),()=>re;if(Array.isArray(ne)){const h=[],m=re&&Array.isArray(re);if(Ft(h,ne,re,D))return it(()=>re=dt($,h,re,y,!0)),()=>re;if($e.context){if(!h.length)return re;for(let d=0;d<h.length;d++)if(h[d].parentNode)return re=h}if(h.length===0){if(re=ht($,re,y),w)return re}else m?re.length===0?er($,h,y):zr($,re,h):(re&&ht($),er($,h));re=h}else if(ne instanceof Node){if($e.context&&ne.parentNode)return re=w?[ne]:ne;if(Array.isArray(re)){if(w)return re=ht($,re,y,ne);ht($,re,null,ne)}else re==null||re===""||!$.firstChild?$.appendChild(ne):$.replaceChild(ne,$.firstChild);re=ne}}return re}function Ft($,ne,re,y){let D=!1;for(let _=0,w=ne.length;_<w;_++){let h=ne[_],m=re&&re[_];if(h instanceof Node)$.push(h);else if(!(h==null||h===!0||h===!1))if(Array.isArray(h))D=Ft($,h,m)||D;else if(typeof h=="function")if(y){for(;typeof h=="function";)h=h();D=Ft($,Array.isArray(h)?h:[h],Array.isArray(m)?m:[m])||D}else $.push(h),D=!0;else{const d=String(h);m&&m.nodeType===3&&m.data===d?$.push(m):$.push(document.createTextNode(d))}}return D}function er($,ne,re=null){for(let y=0,D=ne.length;y<D;y++)$.insertBefore(ne[y],re)}function ht($,ne,re,y){if(re===void 0)return $.textContent="";const D=y||document.createTextNode("");if(ne.length){let _=!1;for(let w=ne.length-1;w>=0;w--){const h=ne[w];if(D!==h){const m=h.parentNode===$;!_&&!w?m?$.replaceChild(D,h):$.insertBefore(D,re):m&&h.remove()}else _=!0}}else $.insertBefore(D,re);return[D]}function qr(){const $=$e.context;return`${$.id}${$.count++}`}const ei="http://www.w3.org/2000/svg";function ti($,ne=!1){return ne?document.createElementNS(ei,$):document.createElement($)}function ri($){const[ne,re]=Tr($,["component"]),y=_t(()=>ne.component);return _t(()=>{const D=y();switch(typeof D){case"function":return ut(()=>D(re));case"string":const _=Fr.has(D),w=$e.context?Qr():ti(D,_);return Vr(w,re,_),w}})}var je=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ii($){return $&&$.__esModule&&Object.prototype.hasOwnProperty.call($,"default")?$.default:$}function St($){throw new Error('Could not dynamically require "'+$+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var dr={exports:{}};(function($,ne){if((typeof re>"u"||!re)&&typeof self<"u")var re=self;(function(y){$.exports=y()})(function(){return function(){function y(D,_,w){function h(o,s){if(!_[o]){if(!D[o]){var n=typeof St=="function"&&St;if(!s&&n)return n(o,!0);if(m)return m(o,!0);var t=new Error("Cannot find module '"+o+"'");throw t.code="MODULE_NOT_FOUND",t}var e=_[o]={exports:{}};D[o][0].call(e.exports,function(a){var l=D[o][1][a];return h(l||a)},e,e.exports,y,D,_,w)}return _[o].exports}for(var m=typeof St=="function"&&St,d=0;d<w.length;d++)h(w[d]);return h}return y}()({1:[function(y,D,_){function w(h){if(Array.isArray(h))return h}D.exports=w},{}],2:[function(y,D,_){function w(h){if(Array.isArray(h)){for(var m=0,d=new Array(h.length);m<h.length;m++)d[m]=h[m];return d}}D.exports=w},{}],3:[function(y,D,_){function w(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}D.exports=w},{}],4:[function(y,D,_){function w(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}D.exports=w},{}],5:[function(y,D,_){var w=y("./setPrototypeOf");function h(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function m(d,o,s){return h()?D.exports=m=Reflect.construct:D.exports=m=function(t,e,a){var l=[null];l.push.apply(l,e);var i=Function.bind.apply(t,l),f=new i;return a&&w(f,a.prototype),f},m.apply(null,arguments)}D.exports=m},{"./setPrototypeOf":18}],6:[function(y,D,_){function w(m,d){for(var o=0;o<d.length;o++){var s=d[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(m,s.key,s)}}function h(m,d,o){return d&&w(m.prototype,d),o&&w(m,o),m}D.exports=h},{}],7:[function(y,D,_){function w(h,m,d){return m in h?Object.defineProperty(h,m,{value:d,enumerable:!0,configurable:!0,writable:!0}):h[m]=d,h}D.exports=w},{}],8:[function(y,D,_){function w(){return D.exports=w=Object.assign||function(h){for(var m=1;m<arguments.length;m++){var d=arguments[m];for(var o in d)Object.prototype.hasOwnProperty.call(d,o)&&(h[o]=d[o])}return h},w.apply(this,arguments)}D.exports=w},{}],9:[function(y,D,_){function w(h){return D.exports=w=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)},w(h)}D.exports=w},{}],10:[function(y,D,_){var w=y("./setPrototypeOf");function h(m,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(d&&d.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),d&&w(m,d)}D.exports=h},{"./setPrototypeOf":18}],11:[function(y,D,_){function w(h){return h&&h.__esModule?h:{default:h}}D.exports=w},{}],12:[function(y,D,_){var w=y("../helpers/typeof");function h(){if(typeof WeakMap!="function")return null;var d=new WeakMap;return h=function(){return d},d}function m(d){if(d&&d.__esModule)return d;if(d===null||w(d)!=="object"&&typeof d!="function")return{default:d};var o=h();if(o&&o.has(d))return o.get(d);var s={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var t in d)if(Object.prototype.hasOwnProperty.call(d,t)){var e=n?Object.getOwnPropertyDescriptor(d,t):null;e&&(e.get||e.set)?Object.defineProperty(s,t,e):s[t]=d[t]}return s.default=d,o&&o.set(d,s),s}D.exports=m},{"../helpers/typeof":21}],13:[function(y,D,_){function w(h){if(Symbol.iterator in Object(h)||Object.prototype.toString.call(h)==="[object Arguments]")return Array.from(h)}D.exports=w},{}],14:[function(y,D,_){function w(h,m){if(Symbol.iterator in Object(h)||Object.prototype.toString.call(h)==="[object Arguments]"){var d=[],o=!0,s=!1,n=void 0;try{for(var t=h[Symbol.iterator](),e;!(o=(e=t.next()).done)&&(d.push(e.value),!(m&&d.length===m));o=!0);}catch(a){s=!0,n=a}finally{try{!o&&t.return!=null&&t.return()}finally{if(s)throw n}}return d}}D.exports=w},{}],15:[function(y,D,_){function w(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}D.exports=w},{}],16:[function(y,D,_){function w(){throw new TypeError("Invalid attempt to spread non-iterable instance")}D.exports=w},{}],17:[function(y,D,_){var w=y("../helpers/typeof"),h=y("./assertThisInitialized");function m(d,o){return o&&(w(o)==="object"||typeof o=="function")?o:h(d)}D.exports=m},{"../helpers/typeof":21,"./assertThisInitialized":3}],18:[function(y,D,_){function w(h,m){return D.exports=w=Object.setPrototypeOf||function(o,s){return o.__proto__=s,o},w(h,m)}D.exports=w},{}],19:[function(y,D,_){var w=y("./arrayWithHoles"),h=y("./iterableToArrayLimit"),m=y("./nonIterableRest");function d(o,s){return w(o)||h(o,s)||m()}D.exports=d},{"./arrayWithHoles":1,"./iterableToArrayLimit":14,"./nonIterableRest":15}],20:[function(y,D,_){var w=y("./arrayWithoutHoles"),h=y("./iterableToArray"),m=y("./nonIterableSpread");function d(o){return w(o)||h(o)||m()}D.exports=d},{"./arrayWithoutHoles":2,"./iterableToArray":13,"./nonIterableSpread":16}],21:[function(y,D,_){function w(m){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?w=function(o){return typeof o}:w=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},w(m)}function h(m){return typeof Symbol=="function"&&w(Symbol.iterator)==="symbol"?D.exports=h=function(o){return w(o)}:D.exports=h=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":w(o)},h(m)}D.exports=h},{}],22:[function(y,D,_){D.exports=y("regenerator-runtime")},{"regenerator-runtime":153}],23:[function(y,D,_){var w=y("./src/converter");function h(m,d){var o=new w(m,d);return function(s){return o.convert(s)}}h.BIN="01",h.OCT="01234567",h.DEC="0123456789",h.HEX="0123456789abcdef",D.exports=h},{"./src/converter":24}],24:[function(y,D,_){function w(h,m){if(!h||!m||!h.length||!m.length)throw new Error("Bad alphabet");this.srcAlphabet=h,this.dstAlphabet=m}w.prototype.convert=function(h){var m,d,o,s={},n=this.srcAlphabet.length,t=this.dstAlphabet.length,e=h.length,a=typeof h=="string"?"":[];if(!this.isValid(h))throw new Error('Number "'+h+'" contains of non-alphabetic digits ('+this.srcAlphabet+")");if(this.srcAlphabet===this.dstAlphabet)return h;for(m=0;m<e;m++)s[m]=this.srcAlphabet.indexOf(h[m]);do{for(d=0,o=0,m=0;m<e;m++)d=d*n+s[m],d>=t?(s[o++]=parseInt(d/t,10),d=d%t):o>0&&(s[o++]=0);e=o,a=this.dstAlphabet.slice(d,d+1).concat(a)}while(o!==0);return a},w.prototype.isValid=function(h){for(var m=0;m<h.length;++m)if(this.srcAlphabet.indexOf(h[m])===-1)return!1;return!0},D.exports=w},{}],25:[function(y,D,_){(function(w){var h=y("object-assign");/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function m(I,O){if(I===O)return 0;for(var B=I.length,Y=O.length,q=0,ie=Math.min(B,Y);q<ie;++q)if(I[q]!==O[q]){B=I[q],Y=O[q];break}return B<Y?-1:Y<B?1:0}function d(I){return w.Buffer&&typeof w.Buffer.isBuffer=="function"?w.Buffer.isBuffer(I):!!(I!=null&&I._isBuffer)}var o=y("util/"),s=Object.prototype.hasOwnProperty,n=Array.prototype.slice,t=function(){return function(){}.name==="foo"}();function e(I){return Object.prototype.toString.call(I)}function a(I){return d(I)||typeof w.ArrayBuffer!="function"?!1:typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(I):I?!!(I instanceof DataView||I.buffer&&I.buffer instanceof ArrayBuffer):!1}var l=D.exports=g,i=/\s*function\s+([^\(\s]*)\s*/;function f(I){if(!!o.isFunction(I)){if(t)return I.name;var O=I.toString(),B=O.match(i);return B&&B[1]}}l.AssertionError=function(O){this.name="AssertionError",this.actual=O.actual,this.expected=O.expected,this.operator=O.operator,O.message?(this.message=O.message,this.generatedMessage=!1):(this.message=c(this),this.generatedMessage=!0);var B=O.stackStartFunction||v;if(Error.captureStackTrace)Error.captureStackTrace(this,B);else{var Y=new Error;if(Y.stack){var q=Y.stack,ie=f(B),ee=q.indexOf(`
`+ie);if(ee>=0){var G=q.indexOf(`
`,ee+1);q=q.substring(G+1)}this.stack=q}}},o.inherits(l.AssertionError,Error);function r(I,O){return typeof I=="string"?I.length<O?I:I.slice(0,O):I}function u(I){if(t||!o.isFunction(I))return o.inspect(I);var O=f(I),B=O?": "+O:"";return"[Function"+B+"]"}function c(I){return r(u(I.actual),128)+" "+I.operator+" "+r(u(I.expected),128)}function v(I,O,B,Y,q){throw new l.AssertionError({message:B,actual:I,expected:O,operator:Y,stackStartFunction:q})}l.fail=v;function g(I,O){I||v(I,!0,O,"==",l.ok)}l.ok=g,l.equal=function(O,B,Y){O!=B&&v(O,B,Y,"==",l.equal)},l.notEqual=function(O,B,Y){O==B&&v(O,B,Y,"!=",l.notEqual)},l.deepEqual=function(O,B,Y){b(O,B,!1)||v(O,B,Y,"deepEqual",l.deepEqual)},l.deepStrictEqual=function(O,B,Y){b(O,B,!0)||v(O,B,Y,"deepStrictEqual",l.deepStrictEqual)};function b(I,O,B,Y){if(I===O)return!0;if(d(I)&&d(O))return m(I,O)===0;if(o.isDate(I)&&o.isDate(O))return I.getTime()===O.getTime();if(o.isRegExp(I)&&o.isRegExp(O))return I.source===O.source&&I.global===O.global&&I.multiline===O.multiline&&I.lastIndex===O.lastIndex&&I.ignoreCase===O.ignoreCase;if((I===null||typeof I!="object")&&(O===null||typeof O!="object"))return B?I===O:I==O;if(a(I)&&a(O)&&e(I)===e(O)&&!(I instanceof Float32Array||I instanceof Float64Array))return m(new Uint8Array(I.buffer),new Uint8Array(O.buffer))===0;if(d(I)!==d(O))return!1;Y=Y||{actual:[],expected:[]};var q=Y.actual.indexOf(I);return q!==-1&&q===Y.expected.indexOf(O)?!0:(Y.actual.push(I),Y.expected.push(O),E(I,O,B,Y))}function x(I){return Object.prototype.toString.call(I)=="[object Arguments]"}function E(I,O,B,Y){if(I==null||O===null||O===void 0)return!1;if(o.isPrimitive(I)||o.isPrimitive(O))return I===O;if(B&&Object.getPrototypeOf(I)!==Object.getPrototypeOf(O))return!1;var q=x(I),ie=x(O);if(q&&!ie||!q&&ie)return!1;if(q)return I=n.call(I),O=n.call(O),b(I,O,B);var ee=U(I),G=U(O),V,W;if(ee.length!==G.length)return!1;for(ee.sort(),G.sort(),W=ee.length-1;W>=0;W--)if(ee[W]!==G[W])return!1;for(W=ee.length-1;W>=0;W--)if(V=ee[W],!b(I[V],O[V],B,Y))return!1;return!0}l.notDeepEqual=function(O,B,Y){b(O,B,!1)&&v(O,B,Y,"notDeepEqual",l.notDeepEqual)},l.notDeepStrictEqual=S;function S(I,O,B){b(I,O,!0)&&v(I,O,B,"notDeepStrictEqual",S)}l.strictEqual=function(O,B,Y){O!==B&&v(O,B,Y,"===",l.strictEqual)},l.notStrictEqual=function(O,B,Y){O===B&&v(O,B,Y,"!==",l.notStrictEqual)};function A(I,O){if(!I||!O)return!1;if(Object.prototype.toString.call(O)=="[object RegExp]")return O.test(I);try{if(I instanceof O)return!0}catch{}return Error.isPrototypeOf(O)?!1:O.call({},I)===!0}function F(I){var O;try{I()}catch(B){O=B}return O}function M(I,O,B,Y){var q;if(typeof O!="function")throw new TypeError('"block" argument must be a function');typeof B=="string"&&(Y=B,B=null),q=F(O),Y=(B&&B.name?" ("+B.name+").":".")+(Y?" "+Y:"."),I&&!q&&v(q,B,"Missing expected exception"+Y);var ie=typeof Y=="string",ee=!I&&o.isError(q),G=!I&&q&&!B;if((ee&&ie&&A(q,B)||G)&&v(q,B,"Got unwanted exception"+Y),I&&q&&B&&!A(q,B)||!I&&q)throw q}l.throws=function(I,O,B){M(!0,I,O,B)},l.doesNotThrow=function(I,O,B){M(!1,I,O,B)},l.ifError=function(I){if(I)throw I};function z(I,O){I||v(I,!0,O,"==",z)}l.strict=h(z,l,{equal:l.strictEqual,deepEqual:l.deepStrictEqual,notEqual:l.notStrictEqual,notDeepEqual:l.notDeepStrictEqual}),l.strict.strict=l.strict;var U=Object.keys||function(I){var O=[];for(var B in I)s.call(I,B)&&O.push(B);return O}}).call(this,typeof je<"u"?je:typeof self<"u"?self:typeof re<"u"?re:{})},{"object-assign":84,"util/":28}],26:[function(y,D,_){typeof Object.create=="function"?D.exports=function(h,m){h.super_=m,h.prototype=Object.create(m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}})}:D.exports=function(h,m){h.super_=m;var d=function(){};d.prototype=m.prototype,h.prototype=new d,h.prototype.constructor=h}},{}],27:[function(y,D,_){D.exports=function(h){return h&&typeof h=="object"&&typeof h.copy=="function"&&typeof h.fill=="function"&&typeof h.readUInt8=="function"}},{}],28:[function(y,D,_){(function(w,h){var m=/%[sdj%]/g;_.format=function(G){if(!E(G)){for(var V=[],W=0;W<arguments.length;W++)V.push(s(arguments[W]));return V.join(" ")}for(var W=1,Q=arguments,oe=Q.length,ve=String(G).replace(m,function(de){if(de==="%%")return"%";if(W>=oe)return de;switch(de){case"%s":return String(Q[W++]);case"%d":return Number(Q[W++]);case"%j":try{return JSON.stringify(Q[W++])}catch{return"[Circular]"}default:return de}}),fe=Q[W];W<oe;fe=Q[++W])g(fe)||!M(fe)?ve+=" "+fe:ve+=" "+s(fe);return ve},_.deprecate=function(G,V){if(A(h.process))return function(){return _.deprecate(G,V).apply(this,arguments)};if(w.noDeprecation===!0)return G;var W=!1;function Q(){if(!W){if(w.throwDeprecation)throw new Error(V);w.traceDeprecation?console.trace(V):console.error(V),W=!0}return G.apply(this,arguments)}return Q};var d={},o;_.debuglog=function(G){if(A(o)&&(o=w.env.NODE_DEBUG||""),G=G.toUpperCase(),!d[G])if(new RegExp("\\b"+G+"\\b","i").test(o)){var V=w.pid;d[G]=function(){var W=_.format.apply(_,arguments);console.error("%s %d: %s",G,V,W)}}else d[G]=function(){};return d[G]};function s(G,V){var W={seen:[],stylize:t};return arguments.length>=3&&(W.depth=arguments[2]),arguments.length>=4&&(W.colors=arguments[3]),v(V)?W.showHidden=V:V&&_._extend(W,V),A(W.showHidden)&&(W.showHidden=!1),A(W.depth)&&(W.depth=2),A(W.colors)&&(W.colors=!1),A(W.customInspect)&&(W.customInspect=!0),W.colors&&(W.stylize=n),a(W,G,W.depth)}_.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function n(G,V){var W=s.styles[V];return W?"\x1B["+s.colors[W][0]+"m"+G+"\x1B["+s.colors[W][1]+"m":G}function t(G,V){return G}function e(G){var V={};return G.forEach(function(W,Q){V[W]=!0}),V}function a(G,V,W){if(G.customInspect&&V&&I(V.inspect)&&V.inspect!==_.inspect&&!(V.constructor&&V.constructor.prototype===V)){var Q=V.inspect(W,G);return E(Q)||(Q=a(G,Q,W)),Q}var oe=l(G,V);if(oe)return oe;var ve=Object.keys(V),fe=e(ve);if(G.showHidden&&(ve=Object.getOwnPropertyNames(V)),U(V)&&(ve.indexOf("message")>=0||ve.indexOf("description")>=0))return i(V);if(ve.length===0){if(I(V)){var de=V.name?": "+V.name:"";return G.stylize("[Function"+de+"]","special")}if(F(V))return G.stylize(RegExp.prototype.toString.call(V),"regexp");if(z(V))return G.stylize(Date.prototype.toString.call(V),"date");if(U(V))return i(V)}var be="",le=!1,se=["{","}"];if(c(V)&&(le=!0,se=["[","]"]),I(V)){var X=V.name?": "+V.name:"";be=" [Function"+X+"]"}if(F(V)&&(be=" "+RegExp.prototype.toString.call(V)),z(V)&&(be=" "+Date.prototype.toUTCString.call(V)),U(V)&&(be=" "+i(V)),ve.length===0&&(!le||V.length==0))return se[0]+be+se[1];if(W<0)return F(V)?G.stylize(RegExp.prototype.toString.call(V),"regexp"):G.stylize("[Object]","special");G.seen.push(V);var J;return le?J=f(G,V,W,fe,ve):J=ve.map(function(te){return r(G,V,W,fe,te,le)}),G.seen.pop(),u(J,be,se)}function l(G,V){if(A(V))return G.stylize("undefined","undefined");if(E(V)){var W="'"+JSON.stringify(V).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return G.stylize(W,"string")}if(x(V))return G.stylize(""+V,"number");if(v(V))return G.stylize(""+V,"boolean");if(g(V))return G.stylize("null","null")}function i(G){return"["+Error.prototype.toString.call(G)+"]"}function f(G,V,W,Q,oe){for(var ve=[],fe=0,de=V.length;fe<de;++fe)ee(V,String(fe))?ve.push(r(G,V,W,Q,String(fe),!0)):ve.push("");return oe.forEach(function(be){be.match(/^\d+$/)||ve.push(r(G,V,W,Q,be,!0))}),ve}function r(G,V,W,Q,oe,ve){var fe,de,be;if(be=Object.getOwnPropertyDescriptor(V,oe)||{value:V[oe]},be.get?be.set?de=G.stylize("[Getter/Setter]","special"):de=G.stylize("[Getter]","special"):be.set&&(de=G.stylize("[Setter]","special")),ee(Q,oe)||(fe="["+oe+"]"),de||(G.seen.indexOf(be.value)<0?(g(W)?de=a(G,be.value,null):de=a(G,be.value,W-1),de.indexOf(`
`)>-1&&(ve?de=de.split(`
`).map(function(le){return"  "+le}).join(`
`).substr(2):de=`
`+de.split(`
`).map(function(le){return"   "+le}).join(`
`))):de=G.stylize("[Circular]","special")),A(fe)){if(ve&&oe.match(/^\d+$/))return de;fe=JSON.stringify(""+oe),fe.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(fe=fe.substr(1,fe.length-2),fe=G.stylize(fe,"name")):(fe=fe.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),fe=G.stylize(fe,"string"))}return fe+": "+de}function u(G,V,W){var Q=G.reduce(function(oe,ve){return ve.indexOf(`
`)>=0,oe+ve.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Q>60?W[0]+(V===""?"":V+`
 `)+" "+G.join(`,
  `)+" "+W[1]:W[0]+V+" "+G.join(", ")+" "+W[1]}function c(G){return Array.isArray(G)}_.isArray=c;function v(G){return typeof G=="boolean"}_.isBoolean=v;function g(G){return G===null}_.isNull=g;function b(G){return G==null}_.isNullOrUndefined=b;function x(G){return typeof G=="number"}_.isNumber=x;function E(G){return typeof G=="string"}_.isString=E;function S(G){return typeof G=="symbol"}_.isSymbol=S;function A(G){return G===void 0}_.isUndefined=A;function F(G){return M(G)&&B(G)==="[object RegExp]"}_.isRegExp=F;function M(G){return typeof G=="object"&&G!==null}_.isObject=M;function z(G){return M(G)&&B(G)==="[object Date]"}_.isDate=z;function U(G){return M(G)&&(B(G)==="[object Error]"||G instanceof Error)}_.isError=U;function I(G){return typeof G=="function"}_.isFunction=I;function O(G){return G===null||typeof G=="boolean"||typeof G=="number"||typeof G=="string"||typeof G=="symbol"||typeof G>"u"}_.isPrimitive=O,_.isBuffer=y("./support/isBuffer");function B(G){return Object.prototype.toString.call(G)}function Y(G){return G<10?"0"+G.toString(10):G.toString(10)}var q=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ie(){var G=new Date,V=[Y(G.getHours()),Y(G.getMinutes()),Y(G.getSeconds())].join(":");return[G.getDate(),q[G.getMonth()],V].join(" ")}_.log=function(){console.log("%s - %s",ie(),_.format.apply(_,arguments))},_.inherits=y("inherits"),_._extend=function(G,V){if(!V||!M(V))return G;for(var W=Object.keys(V),Q=W.length;Q--;)G[W[Q]]=V[W[Q]];return G};function ee(G,V){return Object.prototype.hasOwnProperty.call(G,V)}}).call(this,y("_process"),typeof je<"u"?je:typeof self<"u"?self:typeof re<"u"?re:{})},{"./support/isBuffer":27,_process:133,inherits:26}],29:[function(y,D,_){_.byteLength=t,_.toByteArray=a,_.fromByteArray=f;for(var w=[],h=[],m=typeof Uint8Array<"u"?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,s=d.length;o<s;++o)w[o]=d[o],h[d.charCodeAt(o)]=o;h["-".charCodeAt(0)]=62,h["_".charCodeAt(0)]=63;function n(r){var u=r.length;if(u%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=r.indexOf("=");c===-1&&(c=u);var v=c===u?0:4-c%4;return[c,v]}function t(r){var u=n(r),c=u[0],v=u[1];return(c+v)*3/4-v}function e(r,u,c){return(u+c)*3/4-c}function a(r){var u,c=n(r),v=c[0],g=c[1],b=new m(e(r,v,g)),x=0,E=g>0?v-4:v,S;for(S=0;S<E;S+=4)u=h[r.charCodeAt(S)]<<18|h[r.charCodeAt(S+1)]<<12|h[r.charCodeAt(S+2)]<<6|h[r.charCodeAt(S+3)],b[x++]=u>>16&255,b[x++]=u>>8&255,b[x++]=u&255;return g===2&&(u=h[r.charCodeAt(S)]<<2|h[r.charCodeAt(S+1)]>>4,b[x++]=u&255),g===1&&(u=h[r.charCodeAt(S)]<<10|h[r.charCodeAt(S+1)]<<4|h[r.charCodeAt(S+2)]>>2,b[x++]=u>>8&255,b[x++]=u&255),b}function l(r){return w[r>>18&63]+w[r>>12&63]+w[r>>6&63]+w[r&63]}function i(r,u,c){for(var v,g=[],b=u;b<c;b+=3)v=(r[b]<<16&16711680)+(r[b+1]<<8&65280)+(r[b+2]&255),g.push(l(v));return g.join("")}function f(r){for(var u,c=r.length,v=c%3,g=[],b=16383,x=0,E=c-v;x<E;x+=b)g.push(i(r,x,x+b>E?E:x+b));return v===1?(u=r[c-1],g.push(w[u>>2]+w[u<<4&63]+"==")):v===2&&(u=(r[c-2]<<8)+r[c-1],g.push(w[u>>10]+w[u>>4&63]+w[u<<2&63]+"=")),g.join("")}},{}],30:[function(y,D,_){var w=y("./lib/encoder"),h=y("./lib/decoder");D.exports={encode:w,decode:h}},{"./lib/decoder":31,"./lib/encoder":32}],31:[function(y,D,_){(function(w){function h(m,d){if(this.pos=0,this.buffer=m,this.is_with_alpha=!!d,this.bottom_up=!0,this.flag=this.buffer.toString("utf-8",0,this.pos+=2),this.flag!="BM")throw new Error("Invalid BMP File");this.parseHeader(),this.parseRGBA()}h.prototype.parseHeader=function(){if(this.fileSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.reserved=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.offset=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.headerSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.width=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.height=this.buffer.readInt32LE(this.pos),this.pos+=4,this.planes=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.bitPP=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.compress=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.rawSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.hr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.vr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.colors=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.importantColors=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var m=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(m);for(var d=0;d<m;d++){var o=this.buffer.readUInt8(this.pos++),s=this.buffer.readUInt8(this.pos++),n=this.buffer.readUInt8(this.pos++),t=this.buffer.readUInt8(this.pos++);this.palette[d]={red:n,green:s,blue:o,quad:t}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},h.prototype.parseRGBA=function(){var m="bit"+this.bitPP,d=this.width*this.height*4;this.data=new w(d),this[m]()},h.prototype.bit1=function(){for(var m=Math.ceil(this.width/8),d=m%4,o=this.height>=0?this.height-1:-this.height,o=this.height-1;o>=0;o--){for(var s=this.bottom_up?o:this.height-1-o,n=0;n<m;n++)for(var t=this.buffer.readUInt8(this.pos++),e=s*this.width*4+n*8*4,a=0;a<8&&n*8+a<this.width;a++){var l=this.palette[t>>7-a&1];this.data[e+a*4]=0,this.data[e+a*4+1]=l.blue,this.data[e+a*4+2]=l.green,this.data[e+a*4+3]=l.red}d!=0&&(this.pos+=4-d)}},h.prototype.bit4=function(){if(this.compress==2){let b=function(x){var E=this.palette[x];this.data[m]=0,this.data[m+1]=E.blue,this.data[m+2]=E.green,this.data[m+3]=E.red,m+=4};var g=b;this.data.fill(255);for(var m=0,d=this.bottom_up?this.height-1:0,o=!1;m<this.data.length;){var s=this.buffer.readUInt8(this.pos++),n=this.buffer.readUInt8(this.pos++);if(s==0)if(n==0){this.bottom_up?d--:d++,m=d*this.width*4,o=!1;continue}else{if(n==1)break;if(n==2){var t=this.buffer.readUInt8(this.pos++),e=this.buffer.readUInt8(this.pos++);this.bottom_up?d-=e:d+=e,m+=e*this.width*4+t*4}else{for(var a=this.buffer.readUInt8(this.pos++),l=0;l<n;l++)o?b.call(this,a&15):b.call(this,(a&240)>>4),l&1&&l+1<n&&(a=this.buffer.readUInt8(this.pos++)),o=!o;(n+1>>1&1)==1&&this.pos++}}else for(var l=0;l<s;l++)o?b.call(this,n&15):b.call(this,(n&240)>>4),o=!o}}else for(var i=Math.ceil(this.width/2),f=i%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,t=0;t<i;t++){var n=this.buffer.readUInt8(this.pos++),m=r*this.width*4+t*2*4,u=n>>4,c=n&15,v=this.palette[u];if(this.data[m]=0,this.data[m+1]=v.blue,this.data[m+2]=v.green,this.data[m+3]=v.red,t*2+1>=this.width)break;v=this.palette[c],this.data[m+4]=0,this.data[m+4+1]=v.blue,this.data[m+4+2]=v.green,this.data[m+4+3]=v.red}f!=0&&(this.pos+=4-f)}},h.prototype.bit8=function(){if(this.compress==1){let u=function(c){var v=this.palette[c];this.data[m]=0,this.data[m+1]=v.blue,this.data[m+2]=v.green,this.data[m+3]=v.red,m+=4};var r=u;this.data.fill(255);for(var m=0,d=this.bottom_up?this.height-1:0;m<this.data.length;){var o=this.buffer.readUInt8(this.pos++),s=this.buffer.readUInt8(this.pos++);if(o==0)if(s==0){this.bottom_up?d--:d++,m=d*this.width*4;continue}else{if(s==1)break;if(s==2){var n=this.buffer.readUInt8(this.pos++),t=this.buffer.readUInt8(this.pos++);this.bottom_up?d-=t:d+=t,m+=t*this.width*4+n*4}else{for(var e=0;e<s;e++){var a=this.buffer.readUInt8(this.pos++);u.call(this,a)}s&!0&&this.pos++}}else for(var e=0;e<o;e++)u.call(this,s)}}else for(var l=this.width%4,t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.buffer.readUInt8(this.pos++),m=i*this.width*4+n*4;if(s<this.palette.length){var f=this.palette[s];this.data[m]=0,this.data[m+1]=f.blue,this.data[m+2]=f.green,this.data[m+3]=f.red}else this.data[m]=0,this.data[m+1]=255,this.data[m+2]=255,this.data[m+3]=255}l!=0&&(this.pos+=4-l)}},h.prototype.bit15=function(){for(var m=this.width%3,d=parseInt("11111",2),o=d,s=this.height-1;s>=0;s--){for(var n=this.bottom_up?s:this.height-1-s,t=0;t<this.width;t++){var e=this.buffer.readUInt16LE(this.pos);this.pos+=2;var a=(e&o)/o*255|0,l=(e>>5&o)/o*255|0,i=(e>>10&o)/o*255|0,f=e>>15?255:0,r=n*this.width*4+t*4;this.data[r]=f,this.data[r+1]=a,this.data[r+2]=l,this.data[r+3]=i}this.pos+=m}},h.prototype.bit16=function(){var m=this.width%2*2;this.maskRed=31744,this.maskGreen=992,this.maskBlue=31,this.mask0=0,this.compress==3&&(this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4);for(var d=[0,0,0],o=0;o<16;o++)this.maskRed>>o&1&&d[0]++,this.maskGreen>>o&1&&d[1]++,this.maskBlue>>o&1&&d[2]++;d[1]+=d[0],d[2]+=d[1],d[0]=8-d[0],d[1]-=8,d[2]-=8;for(var s=this.height-1;s>=0;s--){for(var n=this.bottom_up?s:this.height-1-s,t=0;t<this.width;t++){var e=this.buffer.readUInt16LE(this.pos);this.pos+=2;var a=(e&this.maskBlue)<<d[0],l=(e&this.maskGreen)>>d[1],i=(e&this.maskRed)>>d[2],f=n*this.width*4+t*4;this.data[f]=0,this.data[f+1]=a,this.data[f+2]=l,this.data[f+3]=i}this.pos+=m}},h.prototype.bit24=function(){for(var m=this.height-1;m>=0;m--){for(var d=this.bottom_up?m:this.height-1-m,o=0;o<this.width;o++){var s=this.buffer.readUInt8(this.pos++),n=this.buffer.readUInt8(this.pos++),t=this.buffer.readUInt8(this.pos++),e=d*this.width*4+o*4;this.data[e]=0,this.data[e+1]=s,this.data[e+2]=n,this.data[e+3]=t}this.pos+=this.width%4}},h.prototype.bit32=function(){if(this.compress==3){this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4;for(var m=this.height-1;m>=0;m--)for(var d=this.bottom_up?m:this.height-1-m,o=0;o<this.width;o++){var s=this.buffer.readUInt8(this.pos++),n=this.buffer.readUInt8(this.pos++),t=this.buffer.readUInt8(this.pos++),e=this.buffer.readUInt8(this.pos++),a=d*this.width*4+o*4;this.data[a]=s,this.data[a+1]=n,this.data[a+2]=t,this.data[a+3]=e}}else for(var m=this.height-1;m>=0;m--)for(var d=this.bottom_up?m:this.height-1-m,o=0;o<this.width;o++){var n=this.buffer.readUInt8(this.pos++),t=this.buffer.readUInt8(this.pos++),e=this.buffer.readUInt8(this.pos++),s=this.buffer.readUInt8(this.pos++),a=d*this.width*4+o*4;this.data[a]=s,this.data[a+1]=n,this.data[a+2]=t,this.data[a+3]=e}},h.prototype.getData=function(){return this.data},D.exports=function(m){var d=new h(m);return d}}).call(this,y("buffer").Buffer)},{buffer:48}],32:[function(y,D,_){(function(w){function h(m){this.buffer=m.data,this.width=m.width,this.height=m.height,this.extraBytes=this.width%4,this.rgbSize=this.height*(3*this.width+this.extraBytes),this.headerInfoSize=40,this.data=[],this.flag="BM",this.reserved=0,this.offset=54,this.fileSize=this.rgbSize+this.offset,this.planes=1,this.bitPP=24,this.compress=0,this.hr=0,this.vr=0,this.colors=0,this.importantColors=0}h.prototype.encode=function(){var m=new w(this.offset+this.rgbSize);this.pos=0,m.write(this.flag,this.pos,2),this.pos+=2,m.writeUInt32LE(this.fileSize,this.pos),this.pos+=4,m.writeUInt32LE(this.reserved,this.pos),this.pos+=4,m.writeUInt32LE(this.offset,this.pos),this.pos+=4,m.writeUInt32LE(this.headerInfoSize,this.pos),this.pos+=4,m.writeUInt32LE(this.width,this.pos),this.pos+=4,m.writeInt32LE(-this.height,this.pos),this.pos+=4,m.writeUInt16LE(this.planes,this.pos),this.pos+=2,m.writeUInt16LE(this.bitPP,this.pos),this.pos+=2,m.writeUInt32LE(this.compress,this.pos),this.pos+=4,m.writeUInt32LE(this.rgbSize,this.pos),this.pos+=4,m.writeUInt32LE(this.hr,this.pos),this.pos+=4,m.writeUInt32LE(this.vr,this.pos),this.pos+=4,m.writeUInt32LE(this.colors,this.pos),this.pos+=4,m.writeUInt32LE(this.importantColors,this.pos),this.pos+=4;for(var d=0,o=3*this.width+this.extraBytes,s=0;s<this.height;s++){for(var n=0;n<this.width;n++){var t=this.pos+s*o+n*3;d++,m[t]=this.buffer[d++],m[t+1]=this.buffer[d++],m[t+2]=this.buffer[d++]}if(this.extraBytes>0){var e=this.pos+s*o+this.width*3;m.fill(0,e,e+this.extraBytes)}}return m},D.exports=function(m,d){var o=new h(m),s=o.encode();return{data:s,width:m.width,height:m.height}}}).call(this,y("buffer").Buffer)},{buffer:48}],33:[function(y,D,_){},{}],34:[function(y,D,_){(function(w,h){var m=y("assert"),d=y("pako/lib/zlib/zstream"),o=y("pako/lib/zlib/deflate.js"),s=y("pako/lib/zlib/inflate.js"),n=y("pako/lib/zlib/constants");for(var t in n)_[t]=n[t];_.NONE=0,_.DEFLATE=1,_.INFLATE=2,_.GZIP=3,_.GUNZIP=4,_.DEFLATERAW=5,_.INFLATERAW=6,_.UNZIP=7;var e=31,a=139;function l(i){if(typeof i!="number"||i<_.DEFLATE||i>_.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=i,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}l.prototype.close=function(){if(this.write_in_progress){this.pending_close=!0;return}this.pending_close=!1,m(this.init_done,"close before init"),m(this.mode<=_.UNZIP),this.mode===_.DEFLATE||this.mode===_.GZIP||this.mode===_.DEFLATERAW?o.deflateEnd(this.strm):(this.mode===_.INFLATE||this.mode===_.GUNZIP||this.mode===_.INFLATERAW||this.mode===_.UNZIP)&&s.inflateEnd(this.strm),this.mode=_.NONE,this.dictionary=null},l.prototype.write=function(i,f,r,u,c,v,g){return this._write(!0,i,f,r,u,c,v,g)},l.prototype.writeSync=function(i,f,r,u,c,v,g){return this._write(!1,i,f,r,u,c,v,g)},l.prototype._write=function(i,f,r,u,c,v,g,b){if(m.equal(arguments.length,8),m(this.init_done,"write before init"),m(this.mode!==_.NONE,"already finalized"),m.equal(!1,this.write_in_progress,"write already in progress"),m.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,m.equal(!1,f===void 0,"must provide flush value"),this.write_in_progress=!0,f!==_.Z_NO_FLUSH&&f!==_.Z_PARTIAL_FLUSH&&f!==_.Z_SYNC_FLUSH&&f!==_.Z_FULL_FLUSH&&f!==_.Z_FINISH&&f!==_.Z_BLOCK)throw new Error("Invalid flush value");if(r==null&&(r=h.alloc(0),c=0,u=0),this.strm.avail_in=c,this.strm.input=r,this.strm.next_in=u,this.strm.avail_out=b,this.strm.output=v,this.strm.next_out=g,this.flush=f,!i)return this._process(),this._checkError()?this._afterSync():void 0;var x=this;return w.nextTick(function(){x._process(),x._after()}),this},l.prototype._afterSync=function(){var i=this.strm.avail_out,f=this.strm.avail_in;return this.write_in_progress=!1,[f,i]},l.prototype._process=function(){var i=null;switch(this.mode){case _.DEFLATE:case _.GZIP:case _.DEFLATERAW:this.err=o.deflate(this.strm,this.flush);break;case _.UNZIP:switch(this.strm.avail_in>0&&(i=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(i===null)break;if(this.strm.input[i]===e){if(this.gzip_id_bytes_read=1,i++,this.strm.avail_in===1)break}else{this.mode=_.INFLATE;break}case 1:if(i===null)break;this.strm.input[i]===a?(this.gzip_id_bytes_read=2,this.mode=_.GUNZIP):this.mode=_.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case _.INFLATE:case _.GUNZIP:case _.INFLATERAW:for(this.err=s.inflate(this.strm,this.flush),this.err===_.Z_NEED_DICT&&this.dictionary&&(this.err=s.inflateSetDictionary(this.strm,this.dictionary),this.err===_.Z_OK?this.err=s.inflate(this.strm,this.flush):this.err===_.Z_DATA_ERROR&&(this.err=_.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===_.GUNZIP&&this.err===_.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=s.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},l.prototype._checkError=function(){switch(this.err){case _.Z_OK:case _.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===_.Z_FINISH)return this._error("unexpected end of file"),!1;break;case _.Z_STREAM_END:break;case _.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},l.prototype._after=function(){if(!!this._checkError()){var i=this.strm.avail_out,f=this.strm.avail_in;this.write_in_progress=!1,this.callback(f,i),this.pending_close&&this.close()}},l.prototype._error=function(i){this.strm.msg&&(i=this.strm.msg),this.onerror(i,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},l.prototype.init=function(i,f,r,u,c){m(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),m(i>=8&&i<=15,"invalid windowBits"),m(f>=-1&&f<=9,"invalid compression level"),m(r>=1&&r<=9,"invalid memlevel"),m(u===_.Z_FILTERED||u===_.Z_HUFFMAN_ONLY||u===_.Z_RLE||u===_.Z_FIXED||u===_.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(f,i,r,u,c),this._setDictionary()},l.prototype.params=function(){throw new Error("deflateParams Not supported")},l.prototype.reset=function(){this._reset(),this._setDictionary()},l.prototype._init=function(i,f,r,u,c){switch(this.level=i,this.windowBits=f,this.memLevel=r,this.strategy=u,this.flush=_.Z_NO_FLUSH,this.err=_.Z_OK,(this.mode===_.GZIP||this.mode===_.GUNZIP)&&(this.windowBits+=16),this.mode===_.UNZIP&&(this.windowBits+=32),(this.mode===_.DEFLATERAW||this.mode===_.INFLATERAW)&&(this.windowBits=-1*this.windowBits),this.strm=new d,this.mode){case _.DEFLATE:case _.GZIP:case _.DEFLATERAW:this.err=o.deflateInit2(this.strm,this.level,_.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case _.INFLATE:case _.GUNZIP:case _.INFLATERAW:case _.UNZIP:this.err=s.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==_.Z_OK&&this._error("Init error"),this.dictionary=c,this.write_in_progress=!1,this.init_done=!0},l.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=_.Z_OK,this.mode){case _.DEFLATE:case _.DEFLATERAW:this.err=o.deflateSetDictionary(this.strm,this.dictionary);break}this.err!==_.Z_OK&&this._error("Failed to set dictionary")}},l.prototype._reset=function(){switch(this.err=_.Z_OK,this.mode){case _.DEFLATE:case _.DEFLATERAW:case _.GZIP:this.err=o.deflateReset(this.strm);break;case _.INFLATE:case _.INFLATERAW:case _.GUNZIP:this.err=s.inflateReset(this.strm);break}this.err!==_.Z_OK&&this._error("Failed to reset stream")},_.Zlib=l}).call(this,y("_process"),y("buffer").Buffer)},{_process:133,assert:25,buffer:48,"pako/lib/zlib/constants":38,"pako/lib/zlib/deflate.js":40,"pako/lib/zlib/inflate.js":42,"pako/lib/zlib/zstream":46}],35:[function(y,D,_){(function(w){var h=y("buffer").Buffer,m=y("stream").Transform,d=y("./binding"),o=y("util"),s=y("assert").ok,n=y("buffer").kMaxLength,t="Cannot create final Buffer. It would be larger than 0x"+n.toString(16)+" bytes";d.Z_MIN_WINDOWBITS=8,d.Z_MAX_WINDOWBITS=15,d.Z_DEFAULT_WINDOWBITS=15,d.Z_MIN_CHUNK=64,d.Z_MAX_CHUNK=1/0,d.Z_DEFAULT_CHUNK=16*1024,d.Z_MIN_MEMLEVEL=1,d.Z_MAX_MEMLEVEL=9,d.Z_DEFAULT_MEMLEVEL=8,d.Z_MIN_LEVEL=-1,d.Z_MAX_LEVEL=9,d.Z_DEFAULT_LEVEL=d.Z_DEFAULT_COMPRESSION;for(var e=Object.keys(d),a=0;a<e.length;a++){var l=e[a];l.match(/^Z/)&&Object.defineProperty(_,l,{enumerable:!0,value:d[l],writable:!1})}for(var i={Z_OK:d.Z_OK,Z_STREAM_END:d.Z_STREAM_END,Z_NEED_DICT:d.Z_NEED_DICT,Z_ERRNO:d.Z_ERRNO,Z_STREAM_ERROR:d.Z_STREAM_ERROR,Z_DATA_ERROR:d.Z_DATA_ERROR,Z_MEM_ERROR:d.Z_MEM_ERROR,Z_BUF_ERROR:d.Z_BUF_ERROR,Z_VERSION_ERROR:d.Z_VERSION_ERROR},f=Object.keys(i),r=0;r<f.length;r++){var u=f[r];i[i[u]]=u}Object.defineProperty(_,"codes",{enumerable:!0,value:Object.freeze(i),writable:!1}),_.Deflate=g,_.Inflate=b,_.Gzip=x,_.Gunzip=E,_.DeflateRaw=S,_.InflateRaw=A,_.Unzip=F,_.createDeflate=function(O){return new g(O)},_.createInflate=function(O){return new b(O)},_.createDeflateRaw=function(O){return new S(O)},_.createInflateRaw=function(O){return new A(O)},_.createGzip=function(O){return new x(O)},_.createGunzip=function(O){return new E(O)},_.createUnzip=function(O){return new F(O)},_.deflate=function(O,B,Y){return typeof B=="function"&&(Y=B,B={}),c(new g(B),O,Y)},_.deflateSync=function(O,B){return v(new g(B),O)},_.gzip=function(O,B,Y){return typeof B=="function"&&(Y=B,B={}),c(new x(B),O,Y)},_.gzipSync=function(O,B){return v(new x(B),O)},_.deflateRaw=function(O,B,Y){return typeof B=="function"&&(Y=B,B={}),c(new S(B),O,Y)},_.deflateRawSync=function(O,B){return v(new S(B),O)},_.unzip=function(O,B,Y){return typeof B=="function"&&(Y=B,B={}),c(new F(B),O,Y)},_.unzipSync=function(O,B){return v(new F(B),O)},_.inflate=function(O,B,Y){return typeof B=="function"&&(Y=B,B={}),c(new b(B),O,Y)},_.inflateSync=function(O,B){return v(new b(B),O)},_.gunzip=function(O,B,Y){return typeof B=="function"&&(Y=B,B={}),c(new E(B),O,Y)},_.gunzipSync=function(O,B){return v(new E(B),O)},_.inflateRaw=function(O,B,Y){return typeof B=="function"&&(Y=B,B={}),c(new A(B),O,Y)},_.inflateRawSync=function(O,B){return v(new A(B),O)};function c(O,B,Y){var q=[],ie=0;O.on("error",G),O.on("end",V),O.end(B),ee();function ee(){for(var W;(W=O.read())!==null;)q.push(W),ie+=W.length;O.once("readable",ee)}function G(W){O.removeListener("end",V),O.removeListener("readable",ee),Y(W)}function V(){var W,Q=null;ie>=n?Q=new RangeError(t):W=h.concat(q,ie),q=[],O.close(),Y(Q,W)}}function v(O,B){if(typeof B=="string"&&(B=h.from(B)),!h.isBuffer(B))throw new TypeError("Not a string or buffer");var Y=O._finishFlushFlag;return O._processChunk(B,Y)}function g(O){if(!(this instanceof g))return new g(O);z.call(this,O,d.DEFLATE)}function b(O){if(!(this instanceof b))return new b(O);z.call(this,O,d.INFLATE)}function x(O){if(!(this instanceof x))return new x(O);z.call(this,O,d.GZIP)}function E(O){if(!(this instanceof E))return new E(O);z.call(this,O,d.GUNZIP)}function S(O){if(!(this instanceof S))return new S(O);z.call(this,O,d.DEFLATERAW)}function A(O){if(!(this instanceof A))return new A(O);z.call(this,O,d.INFLATERAW)}function F(O){if(!(this instanceof F))return new F(O);z.call(this,O,d.UNZIP)}function M(O){return O===d.Z_NO_FLUSH||O===d.Z_PARTIAL_FLUSH||O===d.Z_SYNC_FLUSH||O===d.Z_FULL_FLUSH||O===d.Z_FINISH||O===d.Z_BLOCK}function z(O,B){var Y=this;if(this._opts=O=O||{},this._chunkSize=O.chunkSize||_.Z_DEFAULT_CHUNK,m.call(this,O),O.flush&&!M(O.flush))throw new Error("Invalid flush flag: "+O.flush);if(O.finishFlush&&!M(O.finishFlush))throw new Error("Invalid flush flag: "+O.finishFlush);if(this._flushFlag=O.flush||d.Z_NO_FLUSH,this._finishFlushFlag=typeof O.finishFlush<"u"?O.finishFlush:d.Z_FINISH,O.chunkSize&&(O.chunkSize<_.Z_MIN_CHUNK||O.chunkSize>_.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+O.chunkSize);if(O.windowBits&&(O.windowBits<_.Z_MIN_WINDOWBITS||O.windowBits>_.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+O.windowBits);if(O.level&&(O.level<_.Z_MIN_LEVEL||O.level>_.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+O.level);if(O.memLevel&&(O.memLevel<_.Z_MIN_MEMLEVEL||O.memLevel>_.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+O.memLevel);if(O.strategy&&O.strategy!=_.Z_FILTERED&&O.strategy!=_.Z_HUFFMAN_ONLY&&O.strategy!=_.Z_RLE&&O.strategy!=_.Z_FIXED&&O.strategy!=_.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+O.strategy);if(O.dictionary&&!h.isBuffer(O.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new d.Zlib(B);var q=this;this._hadError=!1,this._handle.onerror=function(G,V){U(q),q._hadError=!0;var W=new Error(G);W.errno=V,W.code=_.codes[V],q.emit("error",W)};var ie=_.Z_DEFAULT_COMPRESSION;typeof O.level=="number"&&(ie=O.level);var ee=_.Z_DEFAULT_STRATEGY;typeof O.strategy=="number"&&(ee=O.strategy),this._handle.init(O.windowBits||_.Z_DEFAULT_WINDOWBITS,ie,O.memLevel||_.Z_DEFAULT_MEMLEVEL,ee,O.dictionary),this._buffer=h.allocUnsafe(this._chunkSize),this._offset=0,this._level=ie,this._strategy=ee,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!Y._handle},configurable:!0,enumerable:!0})}o.inherits(z,m),z.prototype.params=function(O,B,Y){if(O<_.Z_MIN_LEVEL||O>_.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+O);if(B!=_.Z_FILTERED&&B!=_.Z_HUFFMAN_ONLY&&B!=_.Z_RLE&&B!=_.Z_FIXED&&B!=_.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+B);if(this._level!==O||this._strategy!==B){var q=this;this.flush(d.Z_SYNC_FLUSH,function(){s(q._handle,"zlib binding closed"),q._handle.params(O,B),q._hadError||(q._level=O,q._strategy=B,Y&&Y())})}else w.nextTick(Y)},z.prototype.reset=function(){return s(this._handle,"zlib binding closed"),this._handle.reset()},z.prototype._flush=function(O){this._transform(h.alloc(0),"",O)},z.prototype.flush=function(O,B){var Y=this,q=this._writableState;(typeof O=="function"||O===void 0&&!B)&&(B=O,O=d.Z_FULL_FLUSH),q.ended?B&&w.nextTick(B):q.ending?B&&this.once("end",B):q.needDrain?B&&this.once("drain",function(){return Y.flush(O,B)}):(this._flushFlag=O,this.write(h.alloc(0),"",B))},z.prototype.close=function(O){U(this,O),w.nextTick(I,this)};function U(O,B){B&&w.nextTick(B),O._handle&&(O._handle.close(),O._handle=null)}function I(O){O.emit("close")}z.prototype._transform=function(O,B,Y){var q,ie=this._writableState,ee=ie.ending||ie.ended,G=ee&&(!O||ie.length===O.length);if(O!==null&&!h.isBuffer(O))return Y(new Error("invalid input"));if(!this._handle)return Y(new Error("zlib binding closed"));G?q=this._finishFlushFlag:(q=this._flushFlag,O.length>=ie.length&&(this._flushFlag=this._opts.flush||d.Z_NO_FLUSH)),this._processChunk(O,q,Y)},z.prototype._processChunk=function(O,B,Y){var q=O&&O.length,ie=this._chunkSize-this._offset,ee=0,G=this,V=typeof Y=="function";if(!V){var W=[],Q=0,oe;this.on("error",function(le){oe=le}),s(this._handle,"zlib binding closed");do var ve=this._handle.writeSync(B,O,ee,q,this._buffer,this._offset,ie);while(!this._hadError&&be(ve[0],ve[1]));if(this._hadError)throw oe;if(Q>=n)throw U(this),new RangeError(t);var fe=h.concat(W,Q);return U(this),fe}s(this._handle,"zlib binding closed");var de=this._handle.write(B,O,ee,q,this._buffer,this._offset,ie);de.buffer=O,de.callback=be;function be(le,se){if(this&&(this.buffer=null,this.callback=null),!G._hadError){var X=ie-se;if(s(X>=0,"have should not go down"),X>0){var J=G._buffer.slice(G._offset,G._offset+X);G._offset+=X,V?G.push(J):(W.push(J),Q+=J.length)}if((se===0||G._offset>=G._chunkSize)&&(ie=G._chunkSize,G._offset=0,G._buffer=h.allocUnsafe(G._chunkSize)),se===0){if(ee+=q-le,q=le,!V)return!0;var te=G._handle.write(B,O,ee,q,G._buffer,G._offset,G._chunkSize);te.callback=be,te.buffer=O;return}if(!V)return!1;Y()}}},o.inherits(g,z),o.inherits(b,z),o.inherits(x,z),o.inherits(E,z),o.inherits(S,z),o.inherits(A,z),o.inherits(F,z)}).call(this,y("_process"))},{"./binding":34,_process:133,assert:25,buffer:48,stream:155,util:186}],36:[function(y,D,_){var w=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function h(o,s){return Object.prototype.hasOwnProperty.call(o,s)}_.assign=function(o){for(var s=Array.prototype.slice.call(arguments,1);s.length;){var n=s.shift();if(!!n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(var t in n)h(n,t)&&(o[t]=n[t])}}return o},_.shrinkBuf=function(o,s){return o.length===s?o:o.subarray?o.subarray(0,s):(o.length=s,o)};var m={arraySet:function(o,s,n,t,e){if(s.subarray&&o.subarray){o.set(s.subarray(n,n+t),e);return}for(var a=0;a<t;a++)o[e+a]=s[n+a]},flattenChunks:function(o){var s,n,t,e,a,l;for(t=0,s=0,n=o.length;s<n;s++)t+=o[s].length;for(l=new Uint8Array(t),e=0,s=0,n=o.length;s<n;s++)a=o[s],l.set(a,e),e+=a.length;return l}},d={arraySet:function(o,s,n,t,e){for(var a=0;a<t;a++)o[e+a]=s[n+a]},flattenChunks:function(o){return[].concat.apply([],o)}};_.setTyped=function(o){o?(_.Buf8=Uint8Array,_.Buf16=Uint16Array,_.Buf32=Int32Array,_.assign(_,m)):(_.Buf8=Array,_.Buf16=Array,_.Buf32=Array,_.assign(_,d))},_.setTyped(w)},{}],37:[function(y,D,_){function w(h,m,d,o){for(var s=h&65535|0,n=h>>>16&65535|0,t=0;d!==0;){t=d>2e3?2e3:d,d-=t;do s=s+m[o++]|0,n=n+s|0;while(--t);s%=65521,n%=65521}return s|n<<16|0}D.exports=w},{}],38:[function(y,D,_){D.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],39:[function(y,D,_){function w(){for(var d,o=[],s=0;s<256;s++){d=s;for(var n=0;n<8;n++)d=d&1?3988292384^d>>>1:d>>>1;o[s]=d}return o}var h=w();function m(d,o,s,n){var t=h,e=n+s;d^=-1;for(var a=n;a<e;a++)d=d>>>8^t[(d^o[a])&255];return d^-1}D.exports=m},{}],40:[function(y,D,_){var w=y("../utils/common"),h=y("./trees"),m=y("./adler32"),d=y("./crc32"),o=y("./messages"),s=0,n=1,t=3,e=4,a=5,l=0,i=1,f=-2,r=-3,u=-5,c=-1,v=1,g=2,b=3,x=4,E=0,S=2,A=8,F=9,M=15,z=8,U=29,I=256,O=I+1+U,B=30,Y=19,q=2*O+1,ie=15,ee=3,G=258,V=G+ee+1,W=32,Q=42,oe=69,ve=73,fe=91,de=103,be=113,le=666,se=1,X=2,J=3,te=4,j=3;function P(p,he){return p.msg=o[he],he}function R(p){return(p<<1)-(p>4?9:0)}function Z(p){for(var he=p.length;--he>=0;)p[he]=0}function N(p){var he=p.state,ge=he.pending;ge>p.avail_out&&(ge=p.avail_out),ge!==0&&(w.arraySet(p.output,he.pending_buf,he.pending_out,ge,p.next_out),p.next_out+=ge,he.pending_out+=ge,p.total_out+=ge,p.avail_out-=ge,he.pending-=ge,he.pending===0&&(he.pending_out=0))}function C(p,he){h._tr_flush_block(p,p.block_start>=0?p.block_start:-1,p.strstart-p.block_start,he),p.block_start=p.strstart,N(p.strm)}function T(p,he){p.pending_buf[p.pending++]=he}function H(p,he){p.pending_buf[p.pending++]=he>>>8&255,p.pending_buf[p.pending++]=he&255}function ue(p,he,ge,L){var ae=p.avail_in;return ae>L&&(ae=L),ae===0?0:(p.avail_in-=ae,w.arraySet(he,p.input,p.next_in,ae,ge),p.state.wrap===1?p.adler=m(p.adler,he,ae,ge):p.state.wrap===2&&(p.adler=d(p.adler,he,ae,ge)),p.next_in+=ae,p.total_in+=ae,ae)}function me(p,he){var ge=p.max_chain_length,L=p.strstart,ae,xe,Ce=p.prev_length,Ae=p.nice_match,Be=p.strstart>p.w_size-V?p.strstart-(p.w_size-V):0,Fe=p.window,Ye=p.w_mask,ze=p.prev,Ne=p.strstart+G,Ue=Fe[L+Ce-1],We=Fe[L+Ce];p.prev_length>=p.good_match&&(ge>>=2),Ae>p.lookahead&&(Ae=p.lookahead);do if(ae=he,!(Fe[ae+Ce]!==We||Fe[ae+Ce-1]!==Ue||Fe[ae]!==Fe[L]||Fe[++ae]!==Fe[L+1])){L+=2,ae++;do;while(Fe[++L]===Fe[++ae]&&Fe[++L]===Fe[++ae]&&Fe[++L]===Fe[++ae]&&Fe[++L]===Fe[++ae]&&Fe[++L]===Fe[++ae]&&Fe[++L]===Fe[++ae]&&Fe[++L]===Fe[++ae]&&Fe[++L]===Fe[++ae]&&L<Ne);if(xe=G-(Ne-L),L=Ne-G,xe>Ce){if(p.match_start=he,Ce=xe,xe>=Ae)break;Ue=Fe[L+Ce-1],We=Fe[L+Ce]}}while((he=ze[he&Ye])>Be&&--ge!==0);return Ce<=p.lookahead?Ce:p.lookahead}function ye(p){var he=p.w_size,ge,L,ae,xe,Ce;do{if(xe=p.window_size-p.lookahead-p.strstart,p.strstart>=he+(he-V)){w.arraySet(p.window,p.window,he,he,0),p.match_start-=he,p.strstart-=he,p.block_start-=he,L=p.hash_size,ge=L;do ae=p.head[--ge],p.head[ge]=ae>=he?ae-he:0;while(--L);L=he,ge=L;do ae=p.prev[--ge],p.prev[ge]=ae>=he?ae-he:0;while(--L);xe+=he}if(p.strm.avail_in===0)break;if(L=ue(p.strm,p.window,p.strstart+p.lookahead,xe),p.lookahead+=L,p.lookahead+p.insert>=ee)for(Ce=p.strstart-p.insert,p.ins_h=p.window[Ce],p.ins_h=(p.ins_h<<p.hash_shift^p.window[Ce+1])&p.hash_mask;p.insert&&(p.ins_h=(p.ins_h<<p.hash_shift^p.window[Ce+ee-1])&p.hash_mask,p.prev[Ce&p.w_mask]=p.head[p.ins_h],p.head[p.ins_h]=Ce,Ce++,p.insert--,!(p.lookahead+p.insert<ee)););}while(p.lookahead<V&&p.strm.avail_in!==0)}function Me(p,he){var ge=65535;for(ge>p.pending_buf_size-5&&(ge=p.pending_buf_size-5);;){if(p.lookahead<=1){if(ye(p),p.lookahead===0&&he===s)return se;if(p.lookahead===0)break}p.strstart+=p.lookahead,p.lookahead=0;var L=p.block_start+ge;if((p.strstart===0||p.strstart>=L)&&(p.lookahead=p.strstart-L,p.strstart=L,C(p,!1),p.strm.avail_out===0)||p.strstart-p.block_start>=p.w_size-V&&(C(p,!1),p.strm.avail_out===0))return se}return p.insert=0,he===e?(C(p,!0),p.strm.avail_out===0?J:te):(p.strstart>p.block_start&&(C(p,!1),p.strm.avail_out===0),se)}function ke(p,he){for(var ge,L;;){if(p.lookahead<V){if(ye(p),p.lookahead<V&&he===s)return se;if(p.lookahead===0)break}if(ge=0,p.lookahead>=ee&&(p.ins_h=(p.ins_h<<p.hash_shift^p.window[p.strstart+ee-1])&p.hash_mask,ge=p.prev[p.strstart&p.w_mask]=p.head[p.ins_h],p.head[p.ins_h]=p.strstart),ge!==0&&p.strstart-ge<=p.w_size-V&&(p.match_length=me(p,ge)),p.match_length>=ee)if(L=h._tr_tally(p,p.strstart-p.match_start,p.match_length-ee),p.lookahead-=p.match_length,p.match_length<=p.max_lazy_match&&p.lookahead>=ee){p.match_length--;do p.strstart++,p.ins_h=(p.ins_h<<p.hash_shift^p.window[p.strstart+ee-1])&p.hash_mask,ge=p.prev[p.strstart&p.w_mask]=p.head[p.ins_h],p.head[p.ins_h]=p.strstart;while(--p.match_length!==0);p.strstart++}else p.strstart+=p.match_length,p.match_length=0,p.ins_h=p.window[p.strstart],p.ins_h=(p.ins_h<<p.hash_shift^p.window[p.strstart+1])&p.hash_mask;else L=h._tr_tally(p,0,p.window[p.strstart]),p.lookahead--,p.strstart++;if(L&&(C(p,!1),p.strm.avail_out===0))return se}return p.insert=p.strstart<ee-1?p.strstart:ee-1,he===e?(C(p,!0),p.strm.avail_out===0?J:te):p.last_lit&&(C(p,!1),p.strm.avail_out===0)?se:X}function Oe(p,he){for(var ge,L,ae;;){if(p.lookahead<V){if(ye(p),p.lookahead<V&&he===s)return se;if(p.lookahead===0)break}if(ge=0,p.lookahead>=ee&&(p.ins_h=(p.ins_h<<p.hash_shift^p.window[p.strstart+ee-1])&p.hash_mask,ge=p.prev[p.strstart&p.w_mask]=p.head[p.ins_h],p.head[p.ins_h]=p.strstart),p.prev_length=p.match_length,p.prev_match=p.match_start,p.match_length=ee-1,ge!==0&&p.prev_length<p.max_lazy_match&&p.strstart-ge<=p.w_size-V&&(p.match_length=me(p,ge),p.match_length<=5&&(p.strategy===v||p.match_length===ee&&p.strstart-p.match_start>4096)&&(p.match_length=ee-1)),p.prev_length>=ee&&p.match_length<=p.prev_length){ae=p.strstart+p.lookahead-ee,L=h._tr_tally(p,p.strstart-1-p.prev_match,p.prev_length-ee),p.lookahead-=p.prev_length-1,p.prev_length-=2;do++p.strstart<=ae&&(p.ins_h=(p.ins_h<<p.hash_shift^p.window[p.strstart+ee-1])&p.hash_mask,ge=p.prev[p.strstart&p.w_mask]=p.head[p.ins_h],p.head[p.ins_h]=p.strstart);while(--p.prev_length!==0);if(p.match_available=0,p.match_length=ee-1,p.strstart++,L&&(C(p,!1),p.strm.avail_out===0))return se}else if(p.match_available){if(L=h._tr_tally(p,0,p.window[p.strstart-1]),L&&C(p,!1),p.strstart++,p.lookahead--,p.strm.avail_out===0)return se}else p.match_available=1,p.strstart++,p.lookahead--}return p.match_available&&(L=h._tr_tally(p,0,p.window[p.strstart-1]),p.match_available=0),p.insert=p.strstart<ee-1?p.strstart:ee-1,he===e?(C(p,!0),p.strm.avail_out===0?J:te):p.last_lit&&(C(p,!1),p.strm.avail_out===0)?se:X}function Te(p,he){for(var ge,L,ae,xe,Ce=p.window;;){if(p.lookahead<=G){if(ye(p),p.lookahead<=G&&he===s)return se;if(p.lookahead===0)break}if(p.match_length=0,p.lookahead>=ee&&p.strstart>0&&(ae=p.strstart-1,L=Ce[ae],L===Ce[++ae]&&L===Ce[++ae]&&L===Ce[++ae])){xe=p.strstart+G;do;while(L===Ce[++ae]&&L===Ce[++ae]&&L===Ce[++ae]&&L===Ce[++ae]&&L===Ce[++ae]&&L===Ce[++ae]&&L===Ce[++ae]&&L===Ce[++ae]&&ae<xe);p.match_length=G-(xe-ae),p.match_length>p.lookahead&&(p.match_length=p.lookahead)}if(p.match_length>=ee?(ge=h._tr_tally(p,1,p.match_length-ee),p.lookahead-=p.match_length,p.strstart+=p.match_length,p.match_length=0):(ge=h._tr_tally(p,0,p.window[p.strstart]),p.lookahead--,p.strstart++),ge&&(C(p,!1),p.strm.avail_out===0))return se}return p.insert=0,he===e?(C(p,!0),p.strm.avail_out===0?J:te):p.last_lit&&(C(p,!1),p.strm.avail_out===0)?se:X}function Re(p,he){for(var ge;;){if(p.lookahead===0&&(ye(p),p.lookahead===0)){if(he===s)return se;break}if(p.match_length=0,ge=h._tr_tally(p,0,p.window[p.strstart]),p.lookahead--,p.strstart++,ge&&(C(p,!1),p.strm.avail_out===0))return se}return p.insert=0,he===e?(C(p,!0),p.strm.avail_out===0?J:te):p.last_lit&&(C(p,!1),p.strm.avail_out===0)?se:X}function Le(p,he,ge,L,ae){this.good_length=p,this.max_lazy=he,this.nice_length=ge,this.max_chain=L,this.func=ae}var Pe;Pe=[new Le(0,0,0,0,Me),new Le(4,4,8,4,ke),new Le(4,5,16,8,ke),new Le(4,6,32,32,ke),new Le(4,4,16,16,Oe),new Le(8,16,32,32,Oe),new Le(8,16,128,128,Oe),new Le(8,32,128,256,Oe),new Le(32,128,258,1024,Oe),new Le(32,258,258,4096,Oe)];function Ie(p){p.window_size=2*p.w_size,Z(p.head),p.max_lazy_match=Pe[p.level].max_lazy,p.good_match=Pe[p.level].good_length,p.nice_match=Pe[p.level].nice_length,p.max_chain_length=Pe[p.level].max_chain,p.strstart=0,p.block_start=0,p.lookahead=0,p.insert=0,p.match_length=p.prev_length=ee-1,p.match_available=0,p.ins_h=0}function k(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=A,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new w.Buf16(q*2),this.dyn_dtree=new w.Buf16((2*B+1)*2),this.bl_tree=new w.Buf16((2*Y+1)*2),Z(this.dyn_ltree),Z(this.dyn_dtree),Z(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new w.Buf16(ie+1),this.heap=new w.Buf16(2*O+1),Z(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new w.Buf16(2*O+1),Z(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function pe(p){var he;return!p||!p.state?P(p,f):(p.total_in=p.total_out=0,p.data_type=S,he=p.state,he.pending=0,he.pending_out=0,he.wrap<0&&(he.wrap=-he.wrap),he.status=he.wrap?Q:be,p.adler=he.wrap===2?0:1,he.last_flush=s,h._tr_init(he),l)}function _e(p){var he=pe(p);return he===l&&Ie(p.state),he}function Ee(p,he){return!p||!p.state||p.state.wrap!==2?f:(p.state.gzhead=he,l)}function ce(p,he,ge,L,ae,xe){if(!p)return f;var Ce=1;if(he===c&&(he=6),L<0?(Ce=0,L=-L):L>15&&(Ce=2,L-=16),ae<1||ae>F||ge!==A||L<8||L>15||he<0||he>9||xe<0||xe>x)return P(p,f);L===8&&(L=9);var Ae=new k;return p.state=Ae,Ae.strm=p,Ae.wrap=Ce,Ae.gzhead=null,Ae.w_bits=L,Ae.w_size=1<<Ae.w_bits,Ae.w_mask=Ae.w_size-1,Ae.hash_bits=ae+7,Ae.hash_size=1<<Ae.hash_bits,Ae.hash_mask=Ae.hash_size-1,Ae.hash_shift=~~((Ae.hash_bits+ee-1)/ee),Ae.window=new w.Buf8(Ae.w_size*2),Ae.head=new w.Buf16(Ae.hash_size),Ae.prev=new w.Buf16(Ae.w_size),Ae.lit_bufsize=1<<ae+6,Ae.pending_buf_size=Ae.lit_bufsize*4,Ae.pending_buf=new w.Buf8(Ae.pending_buf_size),Ae.d_buf=1*Ae.lit_bufsize,Ae.l_buf=(1+2)*Ae.lit_bufsize,Ae.level=he,Ae.strategy=xe,Ae.method=ge,_e(p)}function we(p,he){return ce(p,he,A,M,z,E)}function K(p,he){var ge,L,ae,xe;if(!p||!p.state||he>a||he<0)return p?P(p,f):f;if(L=p.state,!p.output||!p.input&&p.avail_in!==0||L.status===le&&he!==e)return P(p,p.avail_out===0?u:f);if(L.strm=p,ge=L.last_flush,L.last_flush=he,L.status===Q)if(L.wrap===2)p.adler=0,T(L,31),T(L,139),T(L,8),L.gzhead?(T(L,(L.gzhead.text?1:0)+(L.gzhead.hcrc?2:0)+(L.gzhead.extra?4:0)+(L.gzhead.name?8:0)+(L.gzhead.comment?16:0)),T(L,L.gzhead.time&255),T(L,L.gzhead.time>>8&255),T(L,L.gzhead.time>>16&255),T(L,L.gzhead.time>>24&255),T(L,L.level===9?2:L.strategy>=g||L.level<2?4:0),T(L,L.gzhead.os&255),L.gzhead.extra&&L.gzhead.extra.length&&(T(L,L.gzhead.extra.length&255),T(L,L.gzhead.extra.length>>8&255)),L.gzhead.hcrc&&(p.adler=d(p.adler,L.pending_buf,L.pending,0)),L.gzindex=0,L.status=oe):(T(L,0),T(L,0),T(L,0),T(L,0),T(L,0),T(L,L.level===9?2:L.strategy>=g||L.level<2?4:0),T(L,j),L.status=be);else{var Ce=A+(L.w_bits-8<<4)<<8,Ae=-1;L.strategy>=g||L.level<2?Ae=0:L.level<6?Ae=1:L.level===6?Ae=2:Ae=3,Ce|=Ae<<6,L.strstart!==0&&(Ce|=W),Ce+=31-Ce%31,L.status=be,H(L,Ce),L.strstart!==0&&(H(L,p.adler>>>16),H(L,p.adler&65535)),p.adler=1}if(L.status===oe)if(L.gzhead.extra){for(ae=L.pending;L.gzindex<(L.gzhead.extra.length&65535)&&!(L.pending===L.pending_buf_size&&(L.gzhead.hcrc&&L.pending>ae&&(p.adler=d(p.adler,L.pending_buf,L.pending-ae,ae)),N(p),ae=L.pending,L.pending===L.pending_buf_size));)T(L,L.gzhead.extra[L.gzindex]&255),L.gzindex++;L.gzhead.hcrc&&L.pending>ae&&(p.adler=d(p.adler,L.pending_buf,L.pending-ae,ae)),L.gzindex===L.gzhead.extra.length&&(L.gzindex=0,L.status=ve)}else L.status=ve;if(L.status===ve)if(L.gzhead.name){ae=L.pending;do{if(L.pending===L.pending_buf_size&&(L.gzhead.hcrc&&L.pending>ae&&(p.adler=d(p.adler,L.pending_buf,L.pending-ae,ae)),N(p),ae=L.pending,L.pending===L.pending_buf_size)){xe=1;break}L.gzindex<L.gzhead.name.length?xe=L.gzhead.name.charCodeAt(L.gzindex++)&255:xe=0,T(L,xe)}while(xe!==0);L.gzhead.hcrc&&L.pending>ae&&(p.adler=d(p.adler,L.pending_buf,L.pending-ae,ae)),xe===0&&(L.gzindex=0,L.status=fe)}else L.status=fe;if(L.status===fe)if(L.gzhead.comment){ae=L.pending;do{if(L.pending===L.pending_buf_size&&(L.gzhead.hcrc&&L.pending>ae&&(p.adler=d(p.adler,L.pending_buf,L.pending-ae,ae)),N(p),ae=L.pending,L.pending===L.pending_buf_size)){xe=1;break}L.gzindex<L.gzhead.comment.length?xe=L.gzhead.comment.charCodeAt(L.gzindex++)&255:xe=0,T(L,xe)}while(xe!==0);L.gzhead.hcrc&&L.pending>ae&&(p.adler=d(p.adler,L.pending_buf,L.pending-ae,ae)),xe===0&&(L.status=de)}else L.status=de;if(L.status===de&&(L.gzhead.hcrc?(L.pending+2>L.pending_buf_size&&N(p),L.pending+2<=L.pending_buf_size&&(T(L,p.adler&255),T(L,p.adler>>8&255),p.adler=0,L.status=be)):L.status=be),L.pending!==0){if(N(p),p.avail_out===0)return L.last_flush=-1,l}else if(p.avail_in===0&&R(he)<=R(ge)&&he!==e)return P(p,u);if(L.status===le&&p.avail_in!==0)return P(p,u);if(p.avail_in!==0||L.lookahead!==0||he!==s&&L.status!==le){var Be=L.strategy===g?Re(L,he):L.strategy===b?Te(L,he):Pe[L.level].func(L,he);if((Be===J||Be===te)&&(L.status=le),Be===se||Be===J)return p.avail_out===0&&(L.last_flush=-1),l;if(Be===X&&(he===n?h._tr_align(L):he!==a&&(h._tr_stored_block(L,0,0,!1),he===t&&(Z(L.head),L.lookahead===0&&(L.strstart=0,L.block_start=0,L.insert=0))),N(p),p.avail_out===0))return L.last_flush=-1,l}return he!==e?l:L.wrap<=0?i:(L.wrap===2?(T(L,p.adler&255),T(L,p.adler>>8&255),T(L,p.adler>>16&255),T(L,p.adler>>24&255),T(L,p.total_in&255),T(L,p.total_in>>8&255),T(L,p.total_in>>16&255),T(L,p.total_in>>24&255)):(H(L,p.adler>>>16),H(L,p.adler&65535)),N(p),L.wrap>0&&(L.wrap=-L.wrap),L.pending!==0?l:i)}function Se(p){var he;return!p||!p.state?f:(he=p.state.status,he!==Q&&he!==oe&&he!==ve&&he!==fe&&he!==de&&he!==be&&he!==le?P(p,f):(p.state=null,he===be?P(p,r):l))}function De(p,he){var ge=he.length,L,ae,xe,Ce,Ae,Be,Fe,Ye;if(!p||!p.state||(L=p.state,Ce=L.wrap,Ce===2||Ce===1&&L.status!==Q||L.lookahead))return f;for(Ce===1&&(p.adler=m(p.adler,he,ge,0)),L.wrap=0,ge>=L.w_size&&(Ce===0&&(Z(L.head),L.strstart=0,L.block_start=0,L.insert=0),Ye=new w.Buf8(L.w_size),w.arraySet(Ye,he,ge-L.w_size,L.w_size,0),he=Ye,ge=L.w_size),Ae=p.avail_in,Be=p.next_in,Fe=p.input,p.avail_in=ge,p.next_in=0,p.input=he,ye(L);L.lookahead>=ee;){ae=L.strstart,xe=L.lookahead-(ee-1);do L.ins_h=(L.ins_h<<L.hash_shift^L.window[ae+ee-1])&L.hash_mask,L.prev[ae&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=ae,ae++;while(--xe);L.strstart=ae,L.lookahead=ee-1,ye(L)}return L.strstart+=L.lookahead,L.block_start=L.strstart,L.insert=L.lookahead,L.lookahead=0,L.match_length=L.prev_length=ee-1,L.match_available=0,p.next_in=Be,p.input=Fe,p.avail_in=Ae,L.wrap=Ce,l}_.deflateInit=we,_.deflateInit2=ce,_.deflateReset=_e,_.deflateResetKeep=pe,_.deflateSetHeader=Ee,_.deflate=K,_.deflateEnd=Se,_.deflateSetDictionary=De,_.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":36,"./adler32":37,"./crc32":39,"./messages":44,"./trees":45}],41:[function(y,D,_){var w=30,h=12;D.exports=function(d,o){var s,n,t,e,a,l,i,f,r,u,c,v,g,b,x,E,S,A,F,M,z,U,I,O,B;s=d.state,n=d.next_in,O=d.input,t=n+(d.avail_in-5),e=d.next_out,B=d.output,a=e-(o-d.avail_out),l=e+(d.avail_out-257),i=s.dmax,f=s.wsize,r=s.whave,u=s.wnext,c=s.window,v=s.hold,g=s.bits,b=s.lencode,x=s.distcode,E=(1<<s.lenbits)-1,S=(1<<s.distbits)-1;e:do{g<15&&(v+=O[n++]<<g,g+=8,v+=O[n++]<<g,g+=8),A=b[v&E];t:for(;;){if(F=A>>>24,v>>>=F,g-=F,F=A>>>16&255,F===0)B[e++]=A&65535;else if(F&16){M=A&65535,F&=15,F&&(g<F&&(v+=O[n++]<<g,g+=8),M+=v&(1<<F)-1,v>>>=F,g-=F),g<15&&(v+=O[n++]<<g,g+=8,v+=O[n++]<<g,g+=8),A=x[v&S];r:for(;;){if(F=A>>>24,v>>>=F,g-=F,F=A>>>16&255,F&16){if(z=A&65535,F&=15,g<F&&(v+=O[n++]<<g,g+=8,g<F&&(v+=O[n++]<<g,g+=8)),z+=v&(1<<F)-1,z>i){d.msg="invalid distance too far back",s.mode=w;break e}if(v>>>=F,g-=F,F=e-a,z>F){if(F=z-F,F>r&&s.sane){d.msg="invalid distance too far back",s.mode=w;break e}if(U=0,I=c,u===0){if(U+=f-F,F<M){M-=F;do B[e++]=c[U++];while(--F);U=e-z,I=B}}else if(u<F){if(U+=f+u-F,F-=u,F<M){M-=F;do B[e++]=c[U++];while(--F);if(U=0,u<M){F=u,M-=F;do B[e++]=c[U++];while(--F);U=e-z,I=B}}}else if(U+=u-F,F<M){M-=F;do B[e++]=c[U++];while(--F);U=e-z,I=B}for(;M>2;)B[e++]=I[U++],B[e++]=I[U++],B[e++]=I[U++],M-=3;M&&(B[e++]=I[U++],M>1&&(B[e++]=I[U++]))}else{U=e-z;do B[e++]=B[U++],B[e++]=B[U++],B[e++]=B[U++],M-=3;while(M>2);M&&(B[e++]=B[U++],M>1&&(B[e++]=B[U++]))}}else if((F&64)===0){A=x[(A&65535)+(v&(1<<F)-1)];continue r}else{d.msg="invalid distance code",s.mode=w;break e}break}}else if((F&64)===0){A=b[(A&65535)+(v&(1<<F)-1)];continue t}else if(F&32){s.mode=h;break e}else{d.msg="invalid literal/length code",s.mode=w;break e}break}}while(n<t&&e<l);M=g>>3,n-=M,g-=M<<3,v&=(1<<g)-1,d.next_in=n,d.next_out=e,d.avail_in=n<t?5+(t-n):5-(n-t),d.avail_out=e<l?257+(l-e):257-(e-l),s.hold=v,s.bits=g}},{}],42:[function(y,D,_){var w=y("../utils/common"),h=y("./adler32"),m=y("./crc32"),d=y("./inffast"),o=y("./inftrees"),s=0,n=1,t=2,e=4,a=5,l=6,i=0,f=1,r=2,u=-2,c=-3,v=-4,g=-5,b=8,x=1,E=2,S=3,A=4,F=5,M=6,z=7,U=8,I=9,O=10,B=11,Y=12,q=13,ie=14,ee=15,G=16,V=17,W=18,Q=19,oe=20,ve=21,fe=22,de=23,be=24,le=25,se=26,X=27,J=28,te=29,j=30,P=31,R=32,Z=852,N=592,C=15,T=C;function H(ce){return(ce>>>24&255)+(ce>>>8&65280)+((ce&65280)<<8)+((ce&255)<<24)}function ue(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new w.Buf16(320),this.work=new w.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function me(ce){var we;return!ce||!ce.state?u:(we=ce.state,ce.total_in=ce.total_out=we.total=0,ce.msg="",we.wrap&&(ce.adler=we.wrap&1),we.mode=x,we.last=0,we.havedict=0,we.dmax=32768,we.head=null,we.hold=0,we.bits=0,we.lencode=we.lendyn=new w.Buf32(Z),we.distcode=we.distdyn=new w.Buf32(N),we.sane=1,we.back=-1,i)}function ye(ce){var we;return!ce||!ce.state?u:(we=ce.state,we.wsize=0,we.whave=0,we.wnext=0,me(ce))}function Me(ce,we){var K,Se;return!ce||!ce.state||(Se=ce.state,we<0?(K=0,we=-we):(K=(we>>4)+1,we<48&&(we&=15)),we&&(we<8||we>15))?u:(Se.window!==null&&Se.wbits!==we&&(Se.window=null),Se.wrap=K,Se.wbits=we,ye(ce))}function ke(ce,we){var K,Se;return ce?(Se=new ue,ce.state=Se,Se.window=null,K=Me(ce,we),K!==i&&(ce.state=null),K):u}function Oe(ce){return ke(ce,T)}var Te=!0,Re,Le;function Pe(ce){if(Te){var we;for(Re=new w.Buf32(512),Le=new w.Buf32(32),we=0;we<144;)ce.lens[we++]=8;for(;we<256;)ce.lens[we++]=9;for(;we<280;)ce.lens[we++]=7;for(;we<288;)ce.lens[we++]=8;for(o(n,ce.lens,0,288,Re,0,ce.work,{bits:9}),we=0;we<32;)ce.lens[we++]=5;o(t,ce.lens,0,32,Le,0,ce.work,{bits:5}),Te=!1}ce.lencode=Re,ce.lenbits=9,ce.distcode=Le,ce.distbits=5}function Ie(ce,we,K,Se){var De,p=ce.state;return p.window===null&&(p.wsize=1<<p.wbits,p.wnext=0,p.whave=0,p.window=new w.Buf8(p.wsize)),Se>=p.wsize?(w.arraySet(p.window,we,K-p.wsize,p.wsize,0),p.wnext=0,p.whave=p.wsize):(De=p.wsize-p.wnext,De>Se&&(De=Se),w.arraySet(p.window,we,K-Se,De,p.wnext),Se-=De,Se?(w.arraySet(p.window,we,K-Se,Se,0),p.wnext=Se,p.whave=p.wsize):(p.wnext+=De,p.wnext===p.wsize&&(p.wnext=0),p.whave<p.wsize&&(p.whave+=De))),0}function k(ce,we){var K,Se,De,p,he,ge,L,ae,xe,Ce,Ae,Be,Fe,Ye,ze=0,Ne,Ue,We,Ve,nt,at,Ge,Je,He=new w.Buf8(4),qe,Qe,ot=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!ce||!ce.state||!ce.output||!ce.input&&ce.avail_in!==0)return u;K=ce.state,K.mode===Y&&(K.mode=q),he=ce.next_out,De=ce.output,L=ce.avail_out,p=ce.next_in,Se=ce.input,ge=ce.avail_in,ae=K.hold,xe=K.bits,Ce=ge,Ae=L,Je=i;e:for(;;)switch(K.mode){case x:if(K.wrap===0){K.mode=q;break}for(;xe<16;){if(ge===0)break e;ge--,ae+=Se[p++]<<xe,xe+=8}if(K.wrap&2&&ae===35615){K.check=0,He[0]=ae&255,He[1]=ae>>>8&255,K.check=m(K.check,He,2,0),ae=0,xe=0,K.mode=E;break}if(K.flags=0,K.head&&(K.head.done=!1),!(K.wrap&1)||(((ae&255)<<8)+(ae>>8))%31){ce.msg="incorrect header check",K.mode=j;break}if((ae&15)!==b){ce.msg="unknown compression method",K.mode=j;break}if(ae>>>=4,xe-=4,Ge=(ae&15)+8,K.wbits===0)K.wbits=Ge;else if(Ge>K.wbits){ce.msg="invalid window size",K.mode=j;break}K.dmax=1<<Ge,ce.adler=K.check=1,K.mode=ae&512?O:Y,ae=0,xe=0;break;case E:for(;xe<16;){if(ge===0)break e;ge--,ae+=Se[p++]<<xe,xe+=8}if(K.flags=ae,(K.flags&255)!==b){ce.msg="unknown compression method",K.mode=j;break}if(K.flags&57344){ce.msg="unknown header flags set",K.mode=j;break}K.head&&(K.head.text=ae>>8&1),K.flags&512&&(He[0]=ae&255,He[1]=ae>>>8&255,K.check=m(K.check,He,2,0)),ae=0,xe=0,K.mode=S;case S:for(;xe<32;){if(ge===0)break e;ge--,ae+=Se[p++]<<xe,xe+=8}K.head&&(K.head.time=ae),K.flags&512&&(He[0]=ae&255,He[1]=ae>>>8&255,He[2]=ae>>>16&255,He[3]=ae>>>24&255,K.check=m(K.check,He,4,0)),ae=0,xe=0,K.mode=A;case A:for(;xe<16;){if(ge===0)break e;ge--,ae+=Se[p++]<<xe,xe+=8}K.head&&(K.head.xflags=ae&255,K.head.os=ae>>8),K.flags&512&&(He[0]=ae&255,He[1]=ae>>>8&255,K.check=m(K.check,He,2,0)),ae=0,xe=0,K.mode=F;case F:if(K.flags&1024){for(;xe<16;){if(ge===0)break e;ge--,ae+=Se[p++]<<xe,xe+=8}K.length=ae,K.head&&(K.head.extra_len=ae),K.flags&512&&(He[0]=ae&255,He[1]=ae>>>8&255,K.check=m(K.check,He,2,0)),ae=0,xe=0}else K.head&&(K.head.extra=null);K.mode=M;case M:if(K.flags&1024&&(Be=K.length,Be>ge&&(Be=ge),Be&&(K.head&&(Ge=K.head.extra_len-K.length,K.head.extra||(K.head.extra=new Array(K.head.extra_len)),w.arraySet(K.head.extra,Se,p,Be,Ge)),K.flags&512&&(K.check=m(K.check,Se,Be,p)),ge-=Be,p+=Be,K.length-=Be),K.length))break e;K.length=0,K.mode=z;case z:if(K.flags&2048){if(ge===0)break e;Be=0;do Ge=Se[p+Be++],K.head&&Ge&&K.length<65536&&(K.head.name+=String.fromCharCode(Ge));while(Ge&&Be<ge);if(K.flags&512&&(K.check=m(K.check,Se,Be,p)),ge-=Be,p+=Be,Ge)break e}else K.head&&(K.head.name=null);K.length=0,K.mode=U;case U:if(K.flags&4096){if(ge===0)break e;Be=0;do Ge=Se[p+Be++],K.head&&Ge&&K.length<65536&&(K.head.comment+=String.fromCharCode(Ge));while(Ge&&Be<ge);if(K.flags&512&&(K.check=m(K.check,Se,Be,p)),ge-=Be,p+=Be,Ge)break e}else K.head&&(K.head.comment=null);K.mode=I;case I:if(K.flags&512){for(;xe<16;){if(ge===0)break e;ge--,ae+=Se[p++]<<xe,xe+=8}if(ae!==(K.check&65535)){ce.msg="header crc mismatch",K.mode=j;break}ae=0,xe=0}K.head&&(K.head.hcrc=K.flags>>9&1,K.head.done=!0),ce.adler=K.check=0,K.mode=Y;break;case O:for(;xe<32;){if(ge===0)break e;ge--,ae+=Se[p++]<<xe,xe+=8}ce.adler=K.check=H(ae),ae=0,xe=0,K.mode=B;case B:if(K.havedict===0)return ce.next_out=he,ce.avail_out=L,ce.next_in=p,ce.avail_in=ge,K.hold=ae,K.bits=xe,r;ce.adler=K.check=1,K.mode=Y;case Y:if(we===a||we===l)break e;case q:if(K.last){ae>>>=xe&7,xe-=xe&7,K.mode=X;break}for(;xe<3;){if(ge===0)break e;ge--,ae+=Se[p++]<<xe,xe+=8}switch(K.last=ae&1,ae>>>=1,xe-=1,ae&3){case 0:K.mode=ie;break;case 1:if(Pe(K),K.mode=oe,we===l){ae>>>=2,xe-=2;break e}break;case 2:K.mode=V;break;case 3:ce.msg="invalid block type",K.mode=j}ae>>>=2,xe-=2;break;case ie:for(ae>>>=xe&7,xe-=xe&7;xe<32;){if(ge===0)break e;ge--,ae+=Se[p++]<<xe,xe+=8}if((ae&65535)!==(ae>>>16^65535)){ce.msg="invalid stored block lengths",K.mode=j;break}if(K.length=ae&65535,ae=0,xe=0,K.mode=ee,we===l)break e;case ee:K.mode=G;case G:if(Be=K.length,Be){if(Be>ge&&(Be=ge),Be>L&&(Be=L),Be===0)break e;w.arraySet(De,Se,p,Be,he),ge-=Be,p+=Be,L-=Be,he+=Be,K.length-=Be;break}K.mode=Y;break;case V:for(;xe<14;){if(ge===0)break e;ge--,ae+=Se[p++]<<xe,xe+=8}if(K.nlen=(ae&31)+257,ae>>>=5,xe-=5,K.ndist=(ae&31)+1,ae>>>=5,xe-=5,K.ncode=(ae&15)+4,ae>>>=4,xe-=4,K.nlen>286||K.ndist>30){ce.msg="too many length or distance symbols",K.mode=j;break}K.have=0,K.mode=W;case W:for(;K.have<K.ncode;){for(;xe<3;){if(ge===0)break e;ge--,ae+=Se[p++]<<xe,xe+=8}K.lens[ot[K.have++]]=ae&7,ae>>>=3,xe-=3}for(;K.have<19;)K.lens[ot[K.have++]]=0;if(K.lencode=K.lendyn,K.lenbits=7,qe={bits:K.lenbits},Je=o(s,K.lens,0,19,K.lencode,0,K.work,qe),K.lenbits=qe.bits,Je){ce.msg="invalid code lengths set",K.mode=j;break}K.have=0,K.mode=Q;case Q:for(;K.have<K.nlen+K.ndist;){for(;ze=K.lencode[ae&(1<<K.lenbits)-1],Ne=ze>>>24,Ue=ze>>>16&255,We=ze&65535,!(Ne<=xe);){if(ge===0)break e;ge--,ae+=Se[p++]<<xe,xe+=8}if(We<16)ae>>>=Ne,xe-=Ne,K.lens[K.have++]=We;else{if(We===16){for(Qe=Ne+2;xe<Qe;){if(ge===0)break e;ge--,ae+=Se[p++]<<xe,xe+=8}if(ae>>>=Ne,xe-=Ne,K.have===0){ce.msg="invalid bit length repeat",K.mode=j;break}Ge=K.lens[K.have-1],Be=3+(ae&3),ae>>>=2,xe-=2}else if(We===17){for(Qe=Ne+3;xe<Qe;){if(ge===0)break e;ge--,ae+=Se[p++]<<xe,xe+=8}ae>>>=Ne,xe-=Ne,Ge=0,Be=3+(ae&7),ae>>>=3,xe-=3}else{for(Qe=Ne+7;xe<Qe;){if(ge===0)break e;ge--,ae+=Se[p++]<<xe,xe+=8}ae>>>=Ne,xe-=Ne,Ge=0,Be=11+(ae&127),ae>>>=7,xe-=7}if(K.have+Be>K.nlen+K.ndist){ce.msg="invalid bit length repeat",K.mode=j;break}for(;Be--;)K.lens[K.have++]=Ge}}if(K.mode===j)break;if(K.lens[256]===0){ce.msg="invalid code -- missing end-of-block",K.mode=j;break}if(K.lenbits=9,qe={bits:K.lenbits},Je=o(n,K.lens,0,K.nlen,K.lencode,0,K.work,qe),K.lenbits=qe.bits,Je){ce.msg="invalid literal/lengths set",K.mode=j;break}if(K.distbits=6,K.distcode=K.distdyn,qe={bits:K.distbits},Je=o(t,K.lens,K.nlen,K.ndist,K.distcode,0,K.work,qe),K.distbits=qe.bits,Je){ce.msg="invalid distances set",K.mode=j;break}if(K.mode=oe,we===l)break e;case oe:K.mode=ve;case ve:if(ge>=6&&L>=258){ce.next_out=he,ce.avail_out=L,ce.next_in=p,ce.avail_in=ge,K.hold=ae,K.bits=xe,d(ce,Ae),he=ce.next_out,De=ce.output,L=ce.avail_out,p=ce.next_in,Se=ce.input,ge=ce.avail_in,ae=K.hold,xe=K.bits,K.mode===Y&&(K.back=-1);break}for(K.back=0;ze=K.lencode[ae&(1<<K.lenbits)-1],Ne=ze>>>24,Ue=ze>>>16&255,We=ze&65535,!(Ne<=xe);){if(ge===0)break e;ge--,ae+=Se[p++]<<xe,xe+=8}if(Ue&&(Ue&240)===0){for(Ve=Ne,nt=Ue,at=We;ze=K.lencode[at+((ae&(1<<Ve+nt)-1)>>Ve)],Ne=ze>>>24,Ue=ze>>>16&255,We=ze&65535,!(Ve+Ne<=xe);){if(ge===0)break e;ge--,ae+=Se[p++]<<xe,xe+=8}ae>>>=Ve,xe-=Ve,K.back+=Ve}if(ae>>>=Ne,xe-=Ne,K.back+=Ne,K.length=We,Ue===0){K.mode=se;break}if(Ue&32){K.back=-1,K.mode=Y;break}if(Ue&64){ce.msg="invalid literal/length code",K.mode=j;break}K.extra=Ue&15,K.mode=fe;case fe:if(K.extra){for(Qe=K.extra;xe<Qe;){if(ge===0)break e;ge--,ae+=Se[p++]<<xe,xe+=8}K.length+=ae&(1<<K.extra)-1,ae>>>=K.extra,xe-=K.extra,K.back+=K.extra}K.was=K.length,K.mode=de;case de:for(;ze=K.distcode[ae&(1<<K.distbits)-1],Ne=ze>>>24,Ue=ze>>>16&255,We=ze&65535,!(Ne<=xe);){if(ge===0)break e;ge--,ae+=Se[p++]<<xe,xe+=8}if((Ue&240)===0){for(Ve=Ne,nt=Ue,at=We;ze=K.distcode[at+((ae&(1<<Ve+nt)-1)>>Ve)],Ne=ze>>>24,Ue=ze>>>16&255,We=ze&65535,!(Ve+Ne<=xe);){if(ge===0)break e;ge--,ae+=Se[p++]<<xe,xe+=8}ae>>>=Ve,xe-=Ve,K.back+=Ve}if(ae>>>=Ne,xe-=Ne,K.back+=Ne,Ue&64){ce.msg="invalid distance code",K.mode=j;break}K.offset=We,K.extra=Ue&15,K.mode=be;case be:if(K.extra){for(Qe=K.extra;xe<Qe;){if(ge===0)break e;ge--,ae+=Se[p++]<<xe,xe+=8}K.offset+=ae&(1<<K.extra)-1,ae>>>=K.extra,xe-=K.extra,K.back+=K.extra}if(K.offset>K.dmax){ce.msg="invalid distance too far back",K.mode=j;break}K.mode=le;case le:if(L===0)break e;if(Be=Ae-L,K.offset>Be){if(Be=K.offset-Be,Be>K.whave&&K.sane){ce.msg="invalid distance too far back",K.mode=j;break}Be>K.wnext?(Be-=K.wnext,Fe=K.wsize-Be):Fe=K.wnext-Be,Be>K.length&&(Be=K.length),Ye=K.window}else Ye=De,Fe=he-K.offset,Be=K.length;Be>L&&(Be=L),L-=Be,K.length-=Be;do De[he++]=Ye[Fe++];while(--Be);K.length===0&&(K.mode=ve);break;case se:if(L===0)break e;De[he++]=K.length,L--,K.mode=ve;break;case X:if(K.wrap){for(;xe<32;){if(ge===0)break e;ge--,ae|=Se[p++]<<xe,xe+=8}if(Ae-=L,ce.total_out+=Ae,K.total+=Ae,Ae&&(ce.adler=K.check=K.flags?m(K.check,De,Ae,he-Ae):h(K.check,De,Ae,he-Ae)),Ae=L,(K.flags?ae:H(ae))!==K.check){ce.msg="incorrect data check",K.mode=j;break}ae=0,xe=0}K.mode=J;case J:if(K.wrap&&K.flags){for(;xe<32;){if(ge===0)break e;ge--,ae+=Se[p++]<<xe,xe+=8}if(ae!==(K.total&4294967295)){ce.msg="incorrect length check",K.mode=j;break}ae=0,xe=0}K.mode=te;case te:Je=f;break e;case j:Je=c;break e;case P:return v;case R:default:return u}return ce.next_out=he,ce.avail_out=L,ce.next_in=p,ce.avail_in=ge,K.hold=ae,K.bits=xe,(K.wsize||Ae!==ce.avail_out&&K.mode<j&&(K.mode<X||we!==e))&&Ie(ce,ce.output,ce.next_out,Ae-ce.avail_out),Ce-=ce.avail_in,Ae-=ce.avail_out,ce.total_in+=Ce,ce.total_out+=Ae,K.total+=Ae,K.wrap&&Ae&&(ce.adler=K.check=K.flags?m(K.check,De,Ae,ce.next_out-Ae):h(K.check,De,Ae,ce.next_out-Ae)),ce.data_type=K.bits+(K.last?64:0)+(K.mode===Y?128:0)+(K.mode===oe||K.mode===ee?256:0),(Ce===0&&Ae===0||we===e)&&Je===i&&(Je=g),Je}function pe(ce){if(!ce||!ce.state)return u;var we=ce.state;return we.window&&(we.window=null),ce.state=null,i}function _e(ce,we){var K;return!ce||!ce.state||(K=ce.state,(K.wrap&2)===0)?u:(K.head=we,we.done=!1,i)}function Ee(ce,we){var K=we.length,Se,De,p;return!ce||!ce.state||(Se=ce.state,Se.wrap!==0&&Se.mode!==B)?u:Se.mode===B&&(De=1,De=h(De,we,K,0),De!==Se.check)?c:(p=Ie(ce,we,K,K),p?(Se.mode=P,v):(Se.havedict=1,i))}_.inflateReset=ye,_.inflateReset2=Me,_.inflateResetKeep=me,_.inflateInit=Oe,_.inflateInit2=ke,_.inflate=k,_.inflateEnd=pe,_.inflateGetHeader=_e,_.inflateSetDictionary=Ee,_.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":36,"./adler32":37,"./crc32":39,"./inffast":41,"./inftrees":43}],43:[function(y,D,_){var w=y("../utils/common"),h=15,m=852,d=592,o=0,s=1,n=2,t=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],e=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];D.exports=function(f,r,u,c,v,g,b,x){var E=x.bits,S=0,A=0,F=0,M=0,z=0,U=0,I=0,O=0,B=0,Y=0,q,ie,ee,G,V,W=null,Q=0,oe,ve=new w.Buf16(h+1),fe=new w.Buf16(h+1),de=null,be=0,le,se,X;for(S=0;S<=h;S++)ve[S]=0;for(A=0;A<c;A++)ve[r[u+A]]++;for(z=E,M=h;M>=1&&ve[M]===0;M--);if(z>M&&(z=M),M===0)return v[g++]=1<<24|64<<16|0,v[g++]=1<<24|64<<16|0,x.bits=1,0;for(F=1;F<M&&ve[F]===0;F++);for(z<F&&(z=F),O=1,S=1;S<=h;S++)if(O<<=1,O-=ve[S],O<0)return-1;if(O>0&&(f===o||M!==1))return-1;for(fe[1]=0,S=1;S<h;S++)fe[S+1]=fe[S]+ve[S];for(A=0;A<c;A++)r[u+A]!==0&&(b[fe[r[u+A]]++]=A);if(f===o?(W=de=b,oe=19):f===s?(W=t,Q-=257,de=e,be-=257,oe=256):(W=a,de=l,oe=-1),Y=0,A=0,S=F,V=g,U=z,I=0,ee=-1,B=1<<z,G=B-1,f===s&&B>m||f===n&&B>d)return 1;for(;;){le=S-I,b[A]<oe?(se=0,X=b[A]):b[A]>oe?(se=de[be+b[A]],X=W[Q+b[A]]):(se=32+64,X=0),q=1<<S-I,ie=1<<U,F=ie;do ie-=q,v[V+(Y>>I)+ie]=le<<24|se<<16|X|0;while(ie!==0);for(q=1<<S-1;Y&q;)q>>=1;if(q!==0?(Y&=q-1,Y+=q):Y=0,A++,--ve[S]===0){if(S===M)break;S=r[u+b[A]]}if(S>z&&(Y&G)!==ee){for(I===0&&(I=z),V+=F,U=S-I,O=1<<U;U+I<M&&(O-=ve[U+I],!(O<=0));)U++,O<<=1;if(B+=1<<U,f===s&&B>m||f===n&&B>d)return 1;ee=Y&G,v[ee]=z<<24|U<<16|V-g|0}}return Y!==0&&(v[V+Y]=S-I<<24|64<<16|0),x.bits=z,0}},{"../utils/common":36}],44:[function(y,D,_){D.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],45:[function(y,D,_){var w=y("../utils/common"),h=4,m=0,d=1,o=2;function s(k){for(var pe=k.length;--pe>=0;)k[pe]=0}var n=0,t=1,e=2,a=3,l=258,i=29,f=256,r=f+1+i,u=30,c=19,v=2*r+1,g=15,b=16,x=7,E=256,S=16,A=17,F=18,M=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],U=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],O=512,B=new Array((r+2)*2);s(B);var Y=new Array(u*2);s(Y);var q=new Array(O);s(q);var ie=new Array(l-a+1);s(ie);var ee=new Array(i);s(ee);var G=new Array(u);s(G);function V(k,pe,_e,Ee,ce){this.static_tree=k,this.extra_bits=pe,this.extra_base=_e,this.elems=Ee,this.max_length=ce,this.has_stree=k&&k.length}var W,Q,oe;function ve(k,pe){this.dyn_tree=k,this.max_code=0,this.stat_desc=pe}function fe(k){return k<256?q[k]:q[256+(k>>>7)]}function de(k,pe){k.pending_buf[k.pending++]=pe&255,k.pending_buf[k.pending++]=pe>>>8&255}function be(k,pe,_e){k.bi_valid>b-_e?(k.bi_buf|=pe<<k.bi_valid&65535,de(k,k.bi_buf),k.bi_buf=pe>>b-k.bi_valid,k.bi_valid+=_e-b):(k.bi_buf|=pe<<k.bi_valid&65535,k.bi_valid+=_e)}function le(k,pe,_e){be(k,_e[pe*2],_e[pe*2+1])}function se(k,pe){var _e=0;do _e|=k&1,k>>>=1,_e<<=1;while(--pe>0);return _e>>>1}function X(k){k.bi_valid===16?(de(k,k.bi_buf),k.bi_buf=0,k.bi_valid=0):k.bi_valid>=8&&(k.pending_buf[k.pending++]=k.bi_buf&255,k.bi_buf>>=8,k.bi_valid-=8)}function J(k,pe){var _e=pe.dyn_tree,Ee=pe.max_code,ce=pe.stat_desc.static_tree,we=pe.stat_desc.has_stree,K=pe.stat_desc.extra_bits,Se=pe.stat_desc.extra_base,De=pe.stat_desc.max_length,p,he,ge,L,ae,xe,Ce=0;for(L=0;L<=g;L++)k.bl_count[L]=0;for(_e[k.heap[k.heap_max]*2+1]=0,p=k.heap_max+1;p<v;p++)he=k.heap[p],L=_e[_e[he*2+1]*2+1]+1,L>De&&(L=De,Ce++),_e[he*2+1]=L,!(he>Ee)&&(k.bl_count[L]++,ae=0,he>=Se&&(ae=K[he-Se]),xe=_e[he*2],k.opt_len+=xe*(L+ae),we&&(k.static_len+=xe*(ce[he*2+1]+ae)));if(Ce!==0){do{for(L=De-1;k.bl_count[L]===0;)L--;k.bl_count[L]--,k.bl_count[L+1]+=2,k.bl_count[De]--,Ce-=2}while(Ce>0);for(L=De;L!==0;L--)for(he=k.bl_count[L];he!==0;)ge=k.heap[--p],!(ge>Ee)&&(_e[ge*2+1]!==L&&(k.opt_len+=(L-_e[ge*2+1])*_e[ge*2],_e[ge*2+1]=L),he--)}}function te(k,pe,_e){var Ee=new Array(g+1),ce=0,we,K;for(we=1;we<=g;we++)Ee[we]=ce=ce+_e[we-1]<<1;for(K=0;K<=pe;K++){var Se=k[K*2+1];Se!==0&&(k[K*2]=se(Ee[Se]++,Se))}}function j(){var k,pe,_e,Ee,ce,we=new Array(g+1);for(_e=0,Ee=0;Ee<i-1;Ee++)for(ee[Ee]=_e,k=0;k<1<<M[Ee];k++)ie[_e++]=Ee;for(ie[_e-1]=Ee,ce=0,Ee=0;Ee<16;Ee++)for(G[Ee]=ce,k=0;k<1<<z[Ee];k++)q[ce++]=Ee;for(ce>>=7;Ee<u;Ee++)for(G[Ee]=ce<<7,k=0;k<1<<z[Ee]-7;k++)q[256+ce++]=Ee;for(pe=0;pe<=g;pe++)we[pe]=0;for(k=0;k<=143;)B[k*2+1]=8,k++,we[8]++;for(;k<=255;)B[k*2+1]=9,k++,we[9]++;for(;k<=279;)B[k*2+1]=7,k++,we[7]++;for(;k<=287;)B[k*2+1]=8,k++,we[8]++;for(te(B,r+1,we),k=0;k<u;k++)Y[k*2+1]=5,Y[k*2]=se(k,5);W=new V(B,M,f+1,r,g),Q=new V(Y,z,0,u,g),oe=new V(new Array(0),U,0,c,x)}function P(k){var pe;for(pe=0;pe<r;pe++)k.dyn_ltree[pe*2]=0;for(pe=0;pe<u;pe++)k.dyn_dtree[pe*2]=0;for(pe=0;pe<c;pe++)k.bl_tree[pe*2]=0;k.dyn_ltree[E*2]=1,k.opt_len=k.static_len=0,k.last_lit=k.matches=0}function R(k){k.bi_valid>8?de(k,k.bi_buf):k.bi_valid>0&&(k.pending_buf[k.pending++]=k.bi_buf),k.bi_buf=0,k.bi_valid=0}function Z(k,pe,_e,Ee){R(k),Ee&&(de(k,_e),de(k,~_e)),w.arraySet(k.pending_buf,k.window,pe,_e,k.pending),k.pending+=_e}function N(k,pe,_e,Ee){var ce=pe*2,we=_e*2;return k[ce]<k[we]||k[ce]===k[we]&&Ee[pe]<=Ee[_e]}function C(k,pe,_e){for(var Ee=k.heap[_e],ce=_e<<1;ce<=k.heap_len&&(ce<k.heap_len&&N(pe,k.heap[ce+1],k.heap[ce],k.depth)&&ce++,!N(pe,Ee,k.heap[ce],k.depth));)k.heap[_e]=k.heap[ce],_e=ce,ce<<=1;k.heap[_e]=Ee}function T(k,pe,_e){var Ee,ce,we=0,K,Se;if(k.last_lit!==0)do Ee=k.pending_buf[k.d_buf+we*2]<<8|k.pending_buf[k.d_buf+we*2+1],ce=k.pending_buf[k.l_buf+we],we++,Ee===0?le(k,ce,pe):(K=ie[ce],le(k,K+f+1,pe),Se=M[K],Se!==0&&(ce-=ee[K],be(k,ce,Se)),Ee--,K=fe(Ee),le(k,K,_e),Se=z[K],Se!==0&&(Ee-=G[K],be(k,Ee,Se)));while(we<k.last_lit);le(k,E,pe)}function H(k,pe){var _e=pe.dyn_tree,Ee=pe.stat_desc.static_tree,ce=pe.stat_desc.has_stree,we=pe.stat_desc.elems,K,Se,De=-1,p;for(k.heap_len=0,k.heap_max=v,K=0;K<we;K++)_e[K*2]!==0?(k.heap[++k.heap_len]=De=K,k.depth[K]=0):_e[K*2+1]=0;for(;k.heap_len<2;)p=k.heap[++k.heap_len]=De<2?++De:0,_e[p*2]=1,k.depth[p]=0,k.opt_len--,ce&&(k.static_len-=Ee[p*2+1]);for(pe.max_code=De,K=k.heap_len>>1;K>=1;K--)C(k,_e,K);p=we;do K=k.heap[1],k.heap[1]=k.heap[k.heap_len--],C(k,_e,1),Se=k.heap[1],k.heap[--k.heap_max]=K,k.heap[--k.heap_max]=Se,_e[p*2]=_e[K*2]+_e[Se*2],k.depth[p]=(k.depth[K]>=k.depth[Se]?k.depth[K]:k.depth[Se])+1,_e[K*2+1]=_e[Se*2+1]=p,k.heap[1]=p++,C(k,_e,1);while(k.heap_len>=2);k.heap[--k.heap_max]=k.heap[1],J(k,pe),te(_e,De,k.bl_count)}function ue(k,pe,_e){var Ee,ce=-1,we,K=pe[0*2+1],Se=0,De=7,p=4;for(K===0&&(De=138,p=3),pe[(_e+1)*2+1]=65535,Ee=0;Ee<=_e;Ee++)we=K,K=pe[(Ee+1)*2+1],!(++Se<De&&we===K)&&(Se<p?k.bl_tree[we*2]+=Se:we!==0?(we!==ce&&k.bl_tree[we*2]++,k.bl_tree[S*2]++):Se<=10?k.bl_tree[A*2]++:k.bl_tree[F*2]++,Se=0,ce=we,K===0?(De=138,p=3):we===K?(De=6,p=3):(De=7,p=4))}function me(k,pe,_e){var Ee,ce=-1,we,K=pe[0*2+1],Se=0,De=7,p=4;for(K===0&&(De=138,p=3),Ee=0;Ee<=_e;Ee++)if(we=K,K=pe[(Ee+1)*2+1],!(++Se<De&&we===K)){if(Se<p)do le(k,we,k.bl_tree);while(--Se!==0);else we!==0?(we!==ce&&(le(k,we,k.bl_tree),Se--),le(k,S,k.bl_tree),be(k,Se-3,2)):Se<=10?(le(k,A,k.bl_tree),be(k,Se-3,3)):(le(k,F,k.bl_tree),be(k,Se-11,7));Se=0,ce=we,K===0?(De=138,p=3):we===K?(De=6,p=3):(De=7,p=4)}}function ye(k){var pe;for(ue(k,k.dyn_ltree,k.l_desc.max_code),ue(k,k.dyn_dtree,k.d_desc.max_code),H(k,k.bl_desc),pe=c-1;pe>=3&&k.bl_tree[I[pe]*2+1]===0;pe--);return k.opt_len+=3*(pe+1)+5+5+4,pe}function Me(k,pe,_e,Ee){var ce;for(be(k,pe-257,5),be(k,_e-1,5),be(k,Ee-4,4),ce=0;ce<Ee;ce++)be(k,k.bl_tree[I[ce]*2+1],3);me(k,k.dyn_ltree,pe-1),me(k,k.dyn_dtree,_e-1)}function ke(k){var pe=4093624447,_e;for(_e=0;_e<=31;_e++,pe>>>=1)if(pe&1&&k.dyn_ltree[_e*2]!==0)return m;if(k.dyn_ltree[9*2]!==0||k.dyn_ltree[10*2]!==0||k.dyn_ltree[13*2]!==0)return d;for(_e=32;_e<f;_e++)if(k.dyn_ltree[_e*2]!==0)return d;return m}var Oe=!1;function Te(k){Oe||(j(),Oe=!0),k.l_desc=new ve(k.dyn_ltree,W),k.d_desc=new ve(k.dyn_dtree,Q),k.bl_desc=new ve(k.bl_tree,oe),k.bi_buf=0,k.bi_valid=0,P(k)}function Re(k,pe,_e,Ee){be(k,(n<<1)+(Ee?1:0),3),Z(k,pe,_e,!0)}function Le(k){be(k,t<<1,3),le(k,E,B),X(k)}function Pe(k,pe,_e,Ee){var ce,we,K=0;k.level>0?(k.strm.data_type===o&&(k.strm.data_type=ke(k)),H(k,k.l_desc),H(k,k.d_desc),K=ye(k),ce=k.opt_len+3+7>>>3,we=k.static_len+3+7>>>3,we<=ce&&(ce=we)):ce=we=_e+5,_e+4<=ce&&pe!==-1?Re(k,pe,_e,Ee):k.strategy===h||we===ce?(be(k,(t<<1)+(Ee?1:0),3),T(k,B,Y)):(be(k,(e<<1)+(Ee?1:0),3),Me(k,k.l_desc.max_code+1,k.d_desc.max_code+1,K+1),T(k,k.dyn_ltree,k.dyn_dtree)),P(k),Ee&&R(k)}function Ie(k,pe,_e){return k.pending_buf[k.d_buf+k.last_lit*2]=pe>>>8&255,k.pending_buf[k.d_buf+k.last_lit*2+1]=pe&255,k.pending_buf[k.l_buf+k.last_lit]=_e&255,k.last_lit++,pe===0?k.dyn_ltree[_e*2]++:(k.matches++,pe--,k.dyn_ltree[(ie[_e]+f+1)*2]++,k.dyn_dtree[fe(pe)*2]++),k.last_lit===k.lit_bufsize-1}_._tr_init=Te,_._tr_stored_block=Re,_._tr_flush_block=Pe,_._tr_tally=Ie,_._tr_align=Le},{"../utils/common":36}],46:[function(y,D,_){function w(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}D.exports=w},{}],47:[function(y,D,_){arguments[4][33][0].apply(_,arguments)},{dup:33}],48:[function(y,D,_){(function(t){var h=y("base64-js"),m=y("ieee754"),d=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;_.Buffer=t,_.SlowBuffer=g,_.INSPECT_MAX_BYTES=50;var o=2147483647;_.kMaxLength=o,t.TYPED_ARRAY_SUPPORT=s(),!t.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var N=new Uint8Array(1),C={foo:function(){return 42}};return Object.setPrototypeOf(C,Uint8Array.prototype),Object.setPrototypeOf(N,C),N.foo()===42}catch{return!1}}Object.defineProperty(t.prototype,"parent",{enumerable:!0,get:function(){if(!!t.isBuffer(this))return this.buffer}}),Object.defineProperty(t.prototype,"offset",{enumerable:!0,get:function(){if(!!t.isBuffer(this))return this.byteOffset}});function n(N){if(N>o)throw new RangeError('The value "'+N+'" is invalid for option "size"');var C=new Uint8Array(N);return Object.setPrototypeOf(C,t.prototype),C}function t(N,C,T){if(typeof N=="number"){if(typeof C=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return i(N)}return e(N,C,T)}typeof Symbol<"u"&&Symbol.species!=null&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),t.poolSize=8192;function e(N,C,T){if(typeof N=="string")return f(N,C);if(ArrayBuffer.isView(N))return r(N);if(N==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N);if(P(N,ArrayBuffer)||N&&P(N.buffer,ArrayBuffer))return u(N,C,T);if(typeof N=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var H=N.valueOf&&N.valueOf();if(H!=null&&H!==N)return t.from(H,C,T);var ue=c(N);if(ue)return ue;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof N[Symbol.toPrimitive]=="function")return t.from(N[Symbol.toPrimitive]("string"),C,T);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N)}t.from=function(N,C,T){return e(N,C,T)},Object.setPrototypeOf(t.prototype,Uint8Array.prototype),Object.setPrototypeOf(t,Uint8Array);function a(N){if(typeof N!="number")throw new TypeError('"size" argument must be of type number');if(N<0)throw new RangeError('The value "'+N+'" is invalid for option "size"')}function l(N,C,T){return a(N),N<=0?n(N):C!==void 0?typeof T=="string"?n(N).fill(C,T):n(N).fill(C):n(N)}t.alloc=function(N,C,T){return l(N,C,T)};function i(N){return a(N),n(N<0?0:v(N)|0)}t.allocUnsafe=function(N){return i(N)},t.allocUnsafeSlow=function(N){return i(N)};function f(N,C){if((typeof C!="string"||C==="")&&(C="utf8"),!t.isEncoding(C))throw new TypeError("Unknown encoding: "+C);var T=b(N,C)|0,H=n(T),ue=H.write(N,C);return ue!==T&&(H=H.slice(0,ue)),H}function r(N){for(var C=N.length<0?0:v(N.length)|0,T=n(C),H=0;H<C;H+=1)T[H]=N[H]&255;return T}function u(N,C,T){if(C<0||N.byteLength<C)throw new RangeError('"offset" is outside of buffer bounds');if(N.byteLength<C+(T||0))throw new RangeError('"length" is outside of buffer bounds');var H;return C===void 0&&T===void 0?H=new Uint8Array(N):T===void 0?H=new Uint8Array(N,C):H=new Uint8Array(N,C,T),Object.setPrototypeOf(H,t.prototype),H}function c(N){if(t.isBuffer(N)){var C=v(N.length)|0,T=n(C);return T.length===0||N.copy(T,0,0,C),T}if(N.length!==void 0)return typeof N.length!="number"||R(N.length)?n(0):r(N);if(N.type==="Buffer"&&Array.isArray(N.data))return r(N.data)}function v(N){if(N>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return N|0}function g(N){return+N!=N&&(N=0),t.alloc(+N)}t.isBuffer=function(C){return C!=null&&C._isBuffer===!0&&C!==t.prototype},t.compare=function(C,T){if(P(C,Uint8Array)&&(C=t.from(C,C.offset,C.byteLength)),P(T,Uint8Array)&&(T=t.from(T,T.offset,T.byteLength)),!t.isBuffer(C)||!t.isBuffer(T))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(C===T)return 0;for(var H=C.length,ue=T.length,me=0,ye=Math.min(H,ue);me<ye;++me)if(C[me]!==T[me]){H=C[me],ue=T[me];break}return H<ue?-1:ue<H?1:0},t.isEncoding=function(C){switch(String(C).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(C,T){if(!Array.isArray(C))throw new TypeError('"list" argument must be an Array of Buffers');if(C.length===0)return t.alloc(0);var H;if(T===void 0)for(T=0,H=0;H<C.length;++H)T+=C[H].length;var ue=t.allocUnsafe(T),me=0;for(H=0;H<C.length;++H){var ye=C[H];if(P(ye,Uint8Array)&&(ye=t.from(ye)),!t.isBuffer(ye))throw new TypeError('"list" argument must be an Array of Buffers');ye.copy(ue,me),me+=ye.length}return ue};function b(N,C){if(t.isBuffer(N))return N.length;if(ArrayBuffer.isView(N)||P(N,ArrayBuffer))return N.byteLength;if(typeof N!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof N);var T=N.length,H=arguments.length>2&&arguments[2]===!0;if(!H&&T===0)return 0;for(var ue=!1;;)switch(C){case"ascii":case"latin1":case"binary":return T;case"utf8":case"utf-8":return se(N).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T*2;case"hex":return T>>>1;case"base64":return te(N).length;default:if(ue)return H?-1:se(N).length;C=(""+C).toLowerCase(),ue=!0}}t.byteLength=b;function x(N,C,T){var H=!1;if((C===void 0||C<0)&&(C=0),C>this.length||((T===void 0||T>this.length)&&(T=this.length),T<=0)||(T>>>=0,C>>>=0,T<=C))return"";for(N||(N="utf8");;)switch(N){case"hex":return V(this,C,T);case"utf8":case"utf-8":return Y(this,C,T);case"ascii":return ee(this,C,T);case"latin1":case"binary":return G(this,C,T);case"base64":return B(this,C,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,C,T);default:if(H)throw new TypeError("Unknown encoding: "+N);N=(N+"").toLowerCase(),H=!0}}t.prototype._isBuffer=!0;function E(N,C,T){var H=N[C];N[C]=N[T],N[T]=H}t.prototype.swap16=function(){var C=this.length;if(C%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var T=0;T<C;T+=2)E(this,T,T+1);return this},t.prototype.swap32=function(){var C=this.length;if(C%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var T=0;T<C;T+=4)E(this,T,T+3),E(this,T+1,T+2);return this},t.prototype.swap64=function(){var C=this.length;if(C%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var T=0;T<C;T+=8)E(this,T,T+7),E(this,T+1,T+6),E(this,T+2,T+5),E(this,T+3,T+4);return this},t.prototype.toString=function(){var C=this.length;return C===0?"":arguments.length===0?Y(this,0,C):x.apply(this,arguments)},t.prototype.toLocaleString=t.prototype.toString,t.prototype.equals=function(C){if(!t.isBuffer(C))throw new TypeError("Argument must be a Buffer");return this===C?!0:t.compare(this,C)===0},t.prototype.inspect=function(){var C="",T=_.INSPECT_MAX_BYTES;return C=this.toString("hex",0,T).replace(/(.{2})/g,"$1 ").trim(),this.length>T&&(C+=" ... "),"<Buffer "+C+">"},d&&(t.prototype[d]=t.prototype.inspect),t.prototype.compare=function(C,T,H,ue,me){if(P(C,Uint8Array)&&(C=t.from(C,C.offset,C.byteLength)),!t.isBuffer(C))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof C);if(T===void 0&&(T=0),H===void 0&&(H=C?C.length:0),ue===void 0&&(ue=0),me===void 0&&(me=this.length),T<0||H>C.length||ue<0||me>this.length)throw new RangeError("out of range index");if(ue>=me&&T>=H)return 0;if(ue>=me)return-1;if(T>=H)return 1;if(T>>>=0,H>>>=0,ue>>>=0,me>>>=0,this===C)return 0;for(var ye=me-ue,Me=H-T,ke=Math.min(ye,Me),Oe=this.slice(ue,me),Te=C.slice(T,H),Re=0;Re<ke;++Re)if(Oe[Re]!==Te[Re]){ye=Oe[Re],Me=Te[Re];break}return ye<Me?-1:Me<ye?1:0};function S(N,C,T,H,ue){if(N.length===0)return-1;if(typeof T=="string"?(H=T,T=0):T>2147483647?T=2147483647:T<-2147483648&&(T=-2147483648),T=+T,R(T)&&(T=ue?0:N.length-1),T<0&&(T=N.length+T),T>=N.length){if(ue)return-1;T=N.length-1}else if(T<0)if(ue)T=0;else return-1;if(typeof C=="string"&&(C=t.from(C,H)),t.isBuffer(C))return C.length===0?-1:A(N,C,T,H,ue);if(typeof C=="number")return C=C&255,typeof Uint8Array.prototype.indexOf=="function"?ue?Uint8Array.prototype.indexOf.call(N,C,T):Uint8Array.prototype.lastIndexOf.call(N,C,T):A(N,[C],T,H,ue);throw new TypeError("val must be string, number or Buffer")}function A(N,C,T,H,ue){var me=1,ye=N.length,Me=C.length;if(H!==void 0&&(H=String(H).toLowerCase(),H==="ucs2"||H==="ucs-2"||H==="utf16le"||H==="utf-16le")){if(N.length<2||C.length<2)return-1;me=2,ye/=2,Me/=2,T/=2}function ke(Pe,Ie){return me===1?Pe[Ie]:Pe.readUInt16BE(Ie*me)}var Oe;if(ue){var Te=-1;for(Oe=T;Oe<ye;Oe++)if(ke(N,Oe)===ke(C,Te===-1?0:Oe-Te)){if(Te===-1&&(Te=Oe),Oe-Te+1===Me)return Te*me}else Te!==-1&&(Oe-=Oe-Te),Te=-1}else for(T+Me>ye&&(T=ye-Me),Oe=T;Oe>=0;Oe--){for(var Re=!0,Le=0;Le<Me;Le++)if(ke(N,Oe+Le)!==ke(C,Le)){Re=!1;break}if(Re)return Oe}return-1}t.prototype.includes=function(C,T,H){return this.indexOf(C,T,H)!==-1},t.prototype.indexOf=function(C,T,H){return S(this,C,T,H,!0)},t.prototype.lastIndexOf=function(C,T,H){return S(this,C,T,H,!1)};function F(N,C,T,H){T=Number(T)||0;var ue=N.length-T;H?(H=Number(H),H>ue&&(H=ue)):H=ue;var me=C.length;H>me/2&&(H=me/2);for(var ye=0;ye<H;++ye){var Me=parseInt(C.substr(ye*2,2),16);if(R(Me))return ye;N[T+ye]=Me}return ye}function M(N,C,T,H){return j(se(C,N.length-T),N,T,H)}function z(N,C,T,H){return j(X(C),N,T,H)}function U(N,C,T,H){return z(N,C,T,H)}function I(N,C,T,H){return j(te(C),N,T,H)}function O(N,C,T,H){return j(J(C,N.length-T),N,T,H)}t.prototype.write=function(C,T,H,ue){if(T===void 0)ue="utf8",H=this.length,T=0;else if(H===void 0&&typeof T=="string")ue=T,H=this.length,T=0;else if(isFinite(T))T=T>>>0,isFinite(H)?(H=H>>>0,ue===void 0&&(ue="utf8")):(ue=H,H=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var me=this.length-T;if((H===void 0||H>me)&&(H=me),C.length>0&&(H<0||T<0)||T>this.length)throw new RangeError("Attempt to write outside buffer bounds");ue||(ue="utf8");for(var ye=!1;;)switch(ue){case"hex":return F(this,C,T,H);case"utf8":case"utf-8":return M(this,C,T,H);case"ascii":return z(this,C,T,H);case"latin1":case"binary":return U(this,C,T,H);case"base64":return I(this,C,T,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,C,T,H);default:if(ye)throw new TypeError("Unknown encoding: "+ue);ue=(""+ue).toLowerCase(),ye=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function B(N,C,T){return C===0&&T===N.length?h.fromByteArray(N):h.fromByteArray(N.slice(C,T))}function Y(N,C,T){T=Math.min(N.length,T);for(var H=[],ue=C;ue<T;){var me=N[ue],ye=null,Me=me>239?4:me>223?3:me>191?2:1;if(ue+Me<=T){var ke,Oe,Te,Re;switch(Me){case 1:me<128&&(ye=me);break;case 2:ke=N[ue+1],(ke&192)===128&&(Re=(me&31)<<6|ke&63,Re>127&&(ye=Re));break;case 3:ke=N[ue+1],Oe=N[ue+2],(ke&192)===128&&(Oe&192)===128&&(Re=(me&15)<<12|(ke&63)<<6|Oe&63,Re>2047&&(Re<55296||Re>57343)&&(ye=Re));break;case 4:ke=N[ue+1],Oe=N[ue+2],Te=N[ue+3],(ke&192)===128&&(Oe&192)===128&&(Te&192)===128&&(Re=(me&15)<<18|(ke&63)<<12|(Oe&63)<<6|Te&63,Re>65535&&Re<1114112&&(ye=Re))}}ye===null?(ye=65533,Me=1):ye>65535&&(ye-=65536,H.push(ye>>>10&1023|55296),ye=56320|ye&1023),H.push(ye),ue+=Me}return ie(H)}var q=4096;function ie(N){var C=N.length;if(C<=q)return String.fromCharCode.apply(String,N);for(var T="",H=0;H<C;)T+=String.fromCharCode.apply(String,N.slice(H,H+=q));return T}function ee(N,C,T){var H="";T=Math.min(N.length,T);for(var ue=C;ue<T;++ue)H+=String.fromCharCode(N[ue]&127);return H}function G(N,C,T){var H="";T=Math.min(N.length,T);for(var ue=C;ue<T;++ue)H+=String.fromCharCode(N[ue]);return H}function V(N,C,T){var H=N.length;(!C||C<0)&&(C=0),(!T||T<0||T>H)&&(T=H);for(var ue="",me=C;me<T;++me)ue+=Z[N[me]];return ue}function W(N,C,T){for(var H=N.slice(C,T),ue="",me=0;me<H.length;me+=2)ue+=String.fromCharCode(H[me]+H[me+1]*256);return ue}t.prototype.slice=function(C,T){var H=this.length;C=~~C,T=T===void 0?H:~~T,C<0?(C+=H,C<0&&(C=0)):C>H&&(C=H),T<0?(T+=H,T<0&&(T=0)):T>H&&(T=H),T<C&&(T=C);var ue=this.subarray(C,T);return Object.setPrototypeOf(ue,t.prototype),ue};function Q(N,C,T){if(N%1!==0||N<0)throw new RangeError("offset is not uint");if(N+C>T)throw new RangeError("Trying to access beyond buffer length")}t.prototype.readUIntLE=function(C,T,H){C=C>>>0,T=T>>>0,H||Q(C,T,this.length);for(var ue=this[C],me=1,ye=0;++ye<T&&(me*=256);)ue+=this[C+ye]*me;return ue},t.prototype.readUIntBE=function(C,T,H){C=C>>>0,T=T>>>0,H||Q(C,T,this.length);for(var ue=this[C+--T],me=1;T>0&&(me*=256);)ue+=this[C+--T]*me;return ue},t.prototype.readUInt8=function(C,T){return C=C>>>0,T||Q(C,1,this.length),this[C]},t.prototype.readUInt16LE=function(C,T){return C=C>>>0,T||Q(C,2,this.length),this[C]|this[C+1]<<8},t.prototype.readUInt16BE=function(C,T){return C=C>>>0,T||Q(C,2,this.length),this[C]<<8|this[C+1]},t.prototype.readUInt32LE=function(C,T){return C=C>>>0,T||Q(C,4,this.length),(this[C]|this[C+1]<<8|this[C+2]<<16)+this[C+3]*16777216},t.prototype.readUInt32BE=function(C,T){return C=C>>>0,T||Q(C,4,this.length),this[C]*16777216+(this[C+1]<<16|this[C+2]<<8|this[C+3])},t.prototype.readIntLE=function(C,T,H){C=C>>>0,T=T>>>0,H||Q(C,T,this.length);for(var ue=this[C],me=1,ye=0;++ye<T&&(me*=256);)ue+=this[C+ye]*me;return me*=128,ue>=me&&(ue-=Math.pow(2,8*T)),ue},t.prototype.readIntBE=function(C,T,H){C=C>>>0,T=T>>>0,H||Q(C,T,this.length);for(var ue=T,me=1,ye=this[C+--ue];ue>0&&(me*=256);)ye+=this[C+--ue]*me;return me*=128,ye>=me&&(ye-=Math.pow(2,8*T)),ye},t.prototype.readInt8=function(C,T){return C=C>>>0,T||Q(C,1,this.length),this[C]&128?(255-this[C]+1)*-1:this[C]},t.prototype.readInt16LE=function(C,T){C=C>>>0,T||Q(C,2,this.length);var H=this[C]|this[C+1]<<8;return H&32768?H|4294901760:H},t.prototype.readInt16BE=function(C,T){C=C>>>0,T||Q(C,2,this.length);var H=this[C+1]|this[C]<<8;return H&32768?H|4294901760:H},t.prototype.readInt32LE=function(C,T){return C=C>>>0,T||Q(C,4,this.length),this[C]|this[C+1]<<8|this[C+2]<<16|this[C+3]<<24},t.prototype.readInt32BE=function(C,T){return C=C>>>0,T||Q(C,4,this.length),this[C]<<24|this[C+1]<<16|this[C+2]<<8|this[C+3]},t.prototype.readFloatLE=function(C,T){return C=C>>>0,T||Q(C,4,this.length),m.read(this,C,!0,23,4)},t.prototype.readFloatBE=function(C,T){return C=C>>>0,T||Q(C,4,this.length),m.read(this,C,!1,23,4)},t.prototype.readDoubleLE=function(C,T){return C=C>>>0,T||Q(C,8,this.length),m.read(this,C,!0,52,8)},t.prototype.readDoubleBE=function(C,T){return C=C>>>0,T||Q(C,8,this.length),m.read(this,C,!1,52,8)};function oe(N,C,T,H,ue,me){if(!t.isBuffer(N))throw new TypeError('"buffer" argument must be a Buffer instance');if(C>ue||C<me)throw new RangeError('"value" argument is out of bounds');if(T+H>N.length)throw new RangeError("Index out of range")}t.prototype.writeUIntLE=function(C,T,H,ue){if(C=+C,T=T>>>0,H=H>>>0,!ue){var me=Math.pow(2,8*H)-1;oe(this,C,T,H,me,0)}var ye=1,Me=0;for(this[T]=C&255;++Me<H&&(ye*=256);)this[T+Me]=C/ye&255;return T+H},t.prototype.writeUIntBE=function(C,T,H,ue){if(C=+C,T=T>>>0,H=H>>>0,!ue){var me=Math.pow(2,8*H)-1;oe(this,C,T,H,me,0)}var ye=H-1,Me=1;for(this[T+ye]=C&255;--ye>=0&&(Me*=256);)this[T+ye]=C/Me&255;return T+H},t.prototype.writeUInt8=function(C,T,H){return C=+C,T=T>>>0,H||oe(this,C,T,1,255,0),this[T]=C&255,T+1},t.prototype.writeUInt16LE=function(C,T,H){return C=+C,T=T>>>0,H||oe(this,C,T,2,65535,0),this[T]=C&255,this[T+1]=C>>>8,T+2},t.prototype.writeUInt16BE=function(C,T,H){return C=+C,T=T>>>0,H||oe(this,C,T,2,65535,0),this[T]=C>>>8,this[T+1]=C&255,T+2},t.prototype.writeUInt32LE=function(C,T,H){return C=+C,T=T>>>0,H||oe(this,C,T,4,4294967295,0),this[T+3]=C>>>24,this[T+2]=C>>>16,this[T+1]=C>>>8,this[T]=C&255,T+4},t.prototype.writeUInt32BE=function(C,T,H){return C=+C,T=T>>>0,H||oe(this,C,T,4,4294967295,0),this[T]=C>>>24,this[T+1]=C>>>16,this[T+2]=C>>>8,this[T+3]=C&255,T+4},t.prototype.writeIntLE=function(C,T,H,ue){if(C=+C,T=T>>>0,!ue){var me=Math.pow(2,8*H-1);oe(this,C,T,H,me-1,-me)}var ye=0,Me=1,ke=0;for(this[T]=C&255;++ye<H&&(Me*=256);)C<0&&ke===0&&this[T+ye-1]!==0&&(ke=1),this[T+ye]=(C/Me>>0)-ke&255;return T+H},t.prototype.writeIntBE=function(C,T,H,ue){if(C=+C,T=T>>>0,!ue){var me=Math.pow(2,8*H-1);oe(this,C,T,H,me-1,-me)}var ye=H-1,Me=1,ke=0;for(this[T+ye]=C&255;--ye>=0&&(Me*=256);)C<0&&ke===0&&this[T+ye+1]!==0&&(ke=1),this[T+ye]=(C/Me>>0)-ke&255;return T+H},t.prototype.writeInt8=function(C,T,H){return C=+C,T=T>>>0,H||oe(this,C,T,1,127,-128),C<0&&(C=255+C+1),this[T]=C&255,T+1},t.prototype.writeInt16LE=function(C,T,H){return C=+C,T=T>>>0,H||oe(this,C,T,2,32767,-32768),this[T]=C&255,this[T+1]=C>>>8,T+2},t.prototype.writeInt16BE=function(C,T,H){return C=+C,T=T>>>0,H||oe(this,C,T,2,32767,-32768),this[T]=C>>>8,this[T+1]=C&255,T+2},t.prototype.writeInt32LE=function(C,T,H){return C=+C,T=T>>>0,H||oe(this,C,T,4,2147483647,-2147483648),this[T]=C&255,this[T+1]=C>>>8,this[T+2]=C>>>16,this[T+3]=C>>>24,T+4},t.prototype.writeInt32BE=function(C,T,H){return C=+C,T=T>>>0,H||oe(this,C,T,4,2147483647,-2147483648),C<0&&(C=4294967295+C+1),this[T]=C>>>24,this[T+1]=C>>>16,this[T+2]=C>>>8,this[T+3]=C&255,T+4};function ve(N,C,T,H,ue,me){if(T+H>N.length)throw new RangeError("Index out of range");if(T<0)throw new RangeError("Index out of range")}function fe(N,C,T,H,ue){return C=+C,T=T>>>0,ue||ve(N,C,T,4),m.write(N,C,T,H,23,4),T+4}t.prototype.writeFloatLE=function(C,T,H){return fe(this,C,T,!0,H)},t.prototype.writeFloatBE=function(C,T,H){return fe(this,C,T,!1,H)};function de(N,C,T,H,ue){return C=+C,T=T>>>0,ue||ve(N,C,T,8),m.write(N,C,T,H,52,8),T+8}t.prototype.writeDoubleLE=function(C,T,H){return de(this,C,T,!0,H)},t.prototype.writeDoubleBE=function(C,T,H){return de(this,C,T,!1,H)},t.prototype.copy=function(C,T,H,ue){if(!t.isBuffer(C))throw new TypeError("argument should be a Buffer");if(H||(H=0),!ue&&ue!==0&&(ue=this.length),T>=C.length&&(T=C.length),T||(T=0),ue>0&&ue<H&&(ue=H),ue===H||C.length===0||this.length===0)return 0;if(T<0)throw new RangeError("targetStart out of bounds");if(H<0||H>=this.length)throw new RangeError("Index out of range");if(ue<0)throw new RangeError("sourceEnd out of bounds");ue>this.length&&(ue=this.length),C.length-T<ue-H&&(ue=C.length-T+H);var me=ue-H;if(this===C&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(T,H,ue);else if(this===C&&H<T&&T<ue)for(var ye=me-1;ye>=0;--ye)C[ye+T]=this[ye+H];else Uint8Array.prototype.set.call(C,this.subarray(H,ue),T);return me},t.prototype.fill=function(C,T,H,ue){if(typeof C=="string"){if(typeof T=="string"?(ue=T,T=0,H=this.length):typeof H=="string"&&(ue=H,H=this.length),ue!==void 0&&typeof ue!="string")throw new TypeError("encoding must be a string");if(typeof ue=="string"&&!t.isEncoding(ue))throw new TypeError("Unknown encoding: "+ue);if(C.length===1){var me=C.charCodeAt(0);(ue==="utf8"&&me<128||ue==="latin1")&&(C=me)}}else typeof C=="number"?C=C&255:typeof C=="boolean"&&(C=Number(C));if(T<0||this.length<T||this.length<H)throw new RangeError("Out of range index");if(H<=T)return this;T=T>>>0,H=H===void 0?this.length:H>>>0,C||(C=0);var ye;if(typeof C=="number")for(ye=T;ye<H;++ye)this[ye]=C;else{var Me=t.isBuffer(C)?C:t.from(C,ue),ke=Me.length;if(ke===0)throw new TypeError('The value "'+C+'" is invalid for argument "value"');for(ye=0;ye<H-T;++ye)this[ye+T]=Me[ye%ke]}return this};var be=/[^+/0-9A-Za-z-_]/g;function le(N){if(N=N.split("=")[0],N=N.trim().replace(be,""),N.length<2)return"";for(;N.length%4!==0;)N=N+"=";return N}function se(N,C){C=C||1/0;for(var T,H=N.length,ue=null,me=[],ye=0;ye<H;++ye){if(T=N.charCodeAt(ye),T>55295&&T<57344){if(!ue){if(T>56319){(C-=3)>-1&&me.push(239,191,189);continue}else if(ye+1===H){(C-=3)>-1&&me.push(239,191,189);continue}ue=T;continue}if(T<56320){(C-=3)>-1&&me.push(239,191,189),ue=T;continue}T=(ue-55296<<10|T-56320)+65536}else ue&&(C-=3)>-1&&me.push(239,191,189);if(ue=null,T<128){if((C-=1)<0)break;me.push(T)}else if(T<2048){if((C-=2)<0)break;me.push(T>>6|192,T&63|128)}else if(T<65536){if((C-=3)<0)break;me.push(T>>12|224,T>>6&63|128,T&63|128)}else if(T<1114112){if((C-=4)<0)break;me.push(T>>18|240,T>>12&63|128,T>>6&63|128,T&63|128)}else throw new Error("Invalid code point")}return me}function X(N){for(var C=[],T=0;T<N.length;++T)C.push(N.charCodeAt(T)&255);return C}function J(N,C){for(var T,H,ue,me=[],ye=0;ye<N.length&&!((C-=2)<0);++ye)T=N.charCodeAt(ye),H=T>>8,ue=T%256,me.push(ue),me.push(H);return me}function te(N){return h.toByteArray(le(N))}function j(N,C,T,H){for(var ue=0;ue<H&&!(ue+T>=C.length||ue>=N.length);++ue)C[ue+T]=N[ue];return ue}function P(N,C){return N instanceof C||N!=null&&N.constructor!=null&&N.constructor.name!=null&&N.constructor.name===C.name}function R(N){return N!==N}var Z=function(){for(var N="0123456789abcdef",C=new Array(256),T=0;T<16;++T)for(var H=T*16,ue=0;ue<16;++ue)C[H+ue]=N[T]+N[ue];return C}()}).call(this,y("buffer").Buffer)},{"base64-js":29,buffer:48,ieee754:73}],49:[function(y,D,_){var w=y("buffer").Buffer;D.exports=function(h,m){if(!!w.isBuffer(h)&&!!w.isBuffer(m)){if(typeof h.equals=="function")return h.equals(m);if(h.length!==m.length)return!1;for(var d=0;d<h.length;d++)if(h[d]!==m[d])return!1;return!0}}},{buffer:48}],50:[function(y,D,_){D.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],51:[function(y,D,_){(function(w){function h(v){return Array.isArray?Array.isArray(v):c(v)==="[object Array]"}_.isArray=h;function m(v){return typeof v=="boolean"}_.isBoolean=m;function d(v){return v===null}_.isNull=d;function o(v){return v==null}_.isNullOrUndefined=o;function s(v){return typeof v=="number"}_.isNumber=s;function n(v){return typeof v=="string"}_.isString=n;function t(v){return typeof v=="symbol"}_.isSymbol=t;function e(v){return v===void 0}_.isUndefined=e;function a(v){return c(v)==="[object RegExp]"}_.isRegExp=a;function l(v){return typeof v=="object"&&v!==null}_.isObject=l;function i(v){return c(v)==="[object Date]"}_.isDate=i;function f(v){return c(v)==="[object Error]"||v instanceof Error}_.isError=f;function r(v){return typeof v=="function"}_.isFunction=r;function u(v){return v===null||typeof v=="boolean"||typeof v=="number"||typeof v=="string"||typeof v=="symbol"||typeof v>"u"}_.isPrimitive=u,_.isBuffer=w.isBuffer;function c(v){return Object.prototype.toString.call(v)}}).call(this,{isBuffer:y("../../is-buffer/index.js")})},{"../../is-buffer/index.js":76}],52:[function(y,D,_){var w=Object.create||S,h=Object.keys||A,m=Function.prototype.bind||F;function d(){(!this._events||!Object.prototype.hasOwnProperty.call(this,"_events"))&&(this._events=w(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}D.exports=d,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._maxListeners=void 0;var o=10,s;try{var n={};Object.defineProperty&&Object.defineProperty(n,"x",{value:0}),s=n.x===0}catch{s=!1}s?Object.defineProperty(d,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(M){if(typeof M!="number"||M<0||M!==M)throw new TypeError('"defaultMaxListeners" must be a positive number');o=M}}):d.defaultMaxListeners=o,d.prototype.setMaxListeners=function(z){if(typeof z!="number"||z<0||isNaN(z))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=z,this};function t(M){return M._maxListeners===void 0?d.defaultMaxListeners:M._maxListeners}d.prototype.getMaxListeners=function(){return t(this)};function e(M,z,U){if(z)M.call(U);else for(var I=M.length,O=x(M,I),B=0;B<I;++B)O[B].call(U)}function a(M,z,U,I){if(z)M.call(U,I);else for(var O=M.length,B=x(M,O),Y=0;Y<O;++Y)B[Y].call(U,I)}function l(M,z,U,I,O){if(z)M.call(U,I,O);else for(var B=M.length,Y=x(M,B),q=0;q<B;++q)Y[q].call(U,I,O)}function i(M,z,U,I,O,B){if(z)M.call(U,I,O,B);else for(var Y=M.length,q=x(M,Y),ie=0;ie<Y;++ie)q[ie].call(U,I,O,B)}function f(M,z,U,I){if(z)M.apply(U,I);else for(var O=M.length,B=x(M,O),Y=0;Y<O;++Y)B[Y].apply(U,I)}d.prototype.emit=function(z){var U,I,O,B,Y,q,ie=z==="error";if(q=this._events,q)ie=ie&&q.error==null;else if(!ie)return!1;if(ie){if(arguments.length>1&&(U=arguments[1]),U instanceof Error)throw U;var ee=new Error('Unhandled "error" event. ('+U+")");throw ee.context=U,ee}if(I=q[z],!I)return!1;var G=typeof I=="function";switch(O=arguments.length,O){case 1:e(I,G,this);break;case 2:a(I,G,this,arguments[1]);break;case 3:l(I,G,this,arguments[1],arguments[2]);break;case 4:i(I,G,this,arguments[1],arguments[2],arguments[3]);break;default:for(B=new Array(O-1),Y=1;Y<O;Y++)B[Y-1]=arguments[Y];f(I,G,this,B)}return!0};function r(M,z,U,I){var O,B,Y;if(typeof U!="function")throw new TypeError('"listener" argument must be a function');if(B=M._events,B?(B.newListener&&(M.emit("newListener",z,U.listener?U.listener:U),B=M._events),Y=B[z]):(B=M._events=w(null),M._eventsCount=0),!Y)Y=B[z]=U,++M._eventsCount;else if(typeof Y=="function"?Y=B[z]=I?[U,Y]:[Y,U]:I?Y.unshift(U):Y.push(U),!Y.warned&&(O=t(M),O&&O>0&&Y.length>O)){Y.warned=!0;var q=new Error("Possible EventEmitter memory leak detected. "+Y.length+' "'+String(z)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');q.name="MaxListenersExceededWarning",q.emitter=M,q.type=z,q.count=Y.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",q.name,q.message)}return M}d.prototype.addListener=function(z,U){return r(this,z,U,!1)},d.prototype.on=d.prototype.addListener,d.prototype.prependListener=function(z,U){return r(this,z,U,!0)};function u(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var M=new Array(arguments.length),z=0;z<M.length;++z)M[z]=arguments[z];this.listener.apply(this.target,M)}}function c(M,z,U){var I={fired:!1,wrapFn:void 0,target:M,type:z,listener:U},O=m.call(u,I);return O.listener=U,I.wrapFn=O,O}d.prototype.once=function(z,U){if(typeof U!="function")throw new TypeError('"listener" argument must be a function');return this.on(z,c(this,z,U)),this},d.prototype.prependOnceListener=function(z,U){if(typeof U!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(z,c(this,z,U)),this},d.prototype.removeListener=function(z,U){var I,O,B,Y,q;if(typeof U!="function")throw new TypeError('"listener" argument must be a function');if(O=this._events,!O)return this;if(I=O[z],!I)return this;if(I===U||I.listener===U)--this._eventsCount===0?this._events=w(null):(delete O[z],O.removeListener&&this.emit("removeListener",z,I.listener||U));else if(typeof I!="function"){for(B=-1,Y=I.length-1;Y>=0;Y--)if(I[Y]===U||I[Y].listener===U){q=I[Y].listener,B=Y;break}if(B<0)return this;B===0?I.shift():b(I,B),I.length===1&&(O[z]=I[0]),O.removeListener&&this.emit("removeListener",z,q||U)}return this},d.prototype.removeAllListeners=function(z){var U,I,O;if(I=this._events,!I)return this;if(!I.removeListener)return arguments.length===0?(this._events=w(null),this._eventsCount=0):I[z]&&(--this._eventsCount===0?this._events=w(null):delete I[z]),this;if(arguments.length===0){var B=h(I),Y;for(O=0;O<B.length;++O)Y=B[O],Y!=="removeListener"&&this.removeAllListeners(Y);return this.removeAllListeners("removeListener"),this._events=w(null),this._eventsCount=0,this}if(U=I[z],typeof U=="function")this.removeListener(z,U);else if(U)for(O=U.length-1;O>=0;O--)this.removeListener(z,U[O]);return this};function v(M,z,U){var I=M._events;if(!I)return[];var O=I[z];return O?typeof O=="function"?U?[O.listener||O]:[O]:U?E(O):x(O,O.length):[]}d.prototype.listeners=function(z){return v(this,z,!0)},d.prototype.rawListeners=function(z){return v(this,z,!1)},d.listenerCount=function(M,z){return typeof M.listenerCount=="function"?M.listenerCount(z):g.call(M,z)},d.prototype.listenerCount=g;function g(M){var z=this._events;if(z){var U=z[M];if(typeof U=="function")return 1;if(U)return U.length}return 0}d.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function b(M,z){for(var U=z,I=U+1,O=M.length;I<O;U+=1,I+=1)M[U]=M[I];M.pop()}function x(M,z){for(var U=new Array(z),I=0;I<z;++I)U[I]=M[I];return U}function E(M){for(var z=new Array(M.length),U=0;U<z.length;++U)z[U]=M[U].listener||M[U];return z}function S(M){var z=function(){};return z.prototype=M,new z}function A(M){for(var z in M)Object.prototype.hasOwnProperty.call(M,z);return z}function F(M){var z=this;return function(){return z.apply(M,arguments)}}},{}],53:[function(y,D,_){var w=y("./lib/parser");function h(){return(0,eval)("this")}D.exports={create:function(m,d){if(d=d||h(),m instanceof d.ArrayBuffer){var o=y("./lib/dom-bufferstream");return new w(new o(m,0,m.byteLength,!0,d))}else{var s=y("./lib/bufferstream");return new w(new s(m,0,m.length,!0))}}}},{"./lib/bufferstream":54,"./lib/dom-bufferstream":56,"./lib/parser":60}],54:[function(y,D,_){function w(h,m,d,o){this.buffer=h,this.offset=m||0,d=typeof d=="number"?d:h.length,this.endPosition=this.offset+d,this.setBigEndian(o)}w.prototype={setBigEndian:function(h){this.bigEndian=!!h},nextUInt8:function(){var h=this.buffer.readUInt8(this.offset);return this.offset+=1,h},nextInt8:function(){var h=this.buffer.readInt8(this.offset);return this.offset+=1,h},nextUInt16:function(){var h=this.bigEndian?this.buffer.readUInt16BE(this.offset):this.buffer.readUInt16LE(this.offset);return this.offset+=2,h},nextUInt32:function(){var h=this.bigEndian?this.buffer.readUInt32BE(this.offset):this.buffer.readUInt32LE(this.offset);return this.offset+=4,h},nextInt16:function(){var h=this.bigEndian?this.buffer.readInt16BE(this.offset):this.buffer.readInt16LE(this.offset);return this.offset+=2,h},nextInt32:function(){var h=this.bigEndian?this.buffer.readInt32BE(this.offset):this.buffer.readInt32LE(this.offset);return this.offset+=4,h},nextFloat:function(){var h=this.bigEndian?this.buffer.readFloatBE(this.offset):this.buffer.readFloatLE(this.offset);return this.offset+=4,h},nextDouble:function(){var h=this.bigEndian?this.buffer.readDoubleBE(this.offset):this.buffer.readDoubleLE(this.offset);return this.offset+=8,h},nextBuffer:function(h){var m=this.buffer.slice(this.offset,this.offset+h);return this.offset+=h,m},remainingLength:function(){return this.endPosition-this.offset},nextString:function(h){var m=this.buffer.toString("utf8",this.offset,this.offset+h);return this.offset+=h,m},mark:function(){var h=this;return{openWithOffset:function(m){return m=(m||0)+this.offset,new w(h.buffer,m,h.endPosition-m,h.bigEndian)},offset:this.offset}},offsetFrom:function(h){return this.offset-h.offset},skip:function(h){this.offset+=h},branch:function(h,m){return m=typeof m=="number"?m:this.endPosition-(this.offset+h),new w(this.buffer,this.offset+h,m,this.bigEndian)}},D.exports=w},{}],55:[function(y,D,_){function w(t){return parseInt(t,10)}var h=3600,m=60;function d(t,e){t=t.map(w),e=e.map(w);var a=t[0],l=t[1]-1,i=t[2],f=e[0],r=e[1],u=e[2],c=Date.UTC(a,l,i,f,r,u,0),v=c/1e3;return v}function o(t){var e=t.substr(0,10).split("-"),a=t.substr(11,8).split(":"),l=t.substr(19,6),i=l.split(":").map(w),f=i[0]*h+i[1]*m,r=d(e,a);if(r-=f,typeof r=="number"&&!isNaN(r))return r}function s(t){var e=t.split(" "),a=e[0].split(":"),l=e[1].split(":"),i=d(a,l);if(typeof i=="number"&&!isNaN(i))return i}function n(t){var e=t.length===19&&t.charAt(4)===":",a=t.length===25&&t.charAt(10)==="T";if(a)return o(t);if(e)return s(t)}D.exports={parseDateWithSpecFormat:s,parseDateWithTimezoneFormat:o,parseExifDate:n}},{}],56:[function(y,D,_){function w(h,m,d,o,s,n){this.global=s,m=m||0,d=d||h.byteLength-m,this.arrayBuffer=h.slice(m,m+d),this.view=new s.DataView(this.arrayBuffer,0,this.arrayBuffer.byteLength),this.setBigEndian(o),this.offset=0,this.parentOffset=(n||0)+m}w.prototype={setBigEndian:function(h){this.littleEndian=!h},nextUInt8:function(){var h=this.view.getUint8(this.offset);return this.offset+=1,h},nextInt8:function(){var h=this.view.getInt8(this.offset);return this.offset+=1,h},nextUInt16:function(){var h=this.view.getUint16(this.offset,this.littleEndian);return this.offset+=2,h},nextUInt32:function(){var h=this.view.getUint32(this.offset,this.littleEndian);return this.offset+=4,h},nextInt16:function(){var h=this.view.getInt16(this.offset,this.littleEndian);return this.offset+=2,h},nextInt32:function(){var h=this.view.getInt32(this.offset,this.littleEndian);return this.offset+=4,h},nextFloat:function(){var h=this.view.getFloat32(this.offset,this.littleEndian);return this.offset+=4,h},nextDouble:function(){var h=this.view.getFloat64(this.offset,this.littleEndian);return this.offset+=8,h},nextBuffer:function(h){var m=this.arrayBuffer.slice(this.offset,this.offset+h);return this.offset+=h,m},remainingLength:function(){return this.arrayBuffer.byteLength-this.offset},nextString:function(h){var m=this.arrayBuffer.slice(this.offset,this.offset+h);return m=String.fromCharCode.apply(null,new this.global.Uint8Array(m)),this.offset+=h,m},mark:function(){var h=this;return{openWithOffset:function(m){return m=(m||0)+this.offset,new w(h.arrayBuffer,m,h.arrayBuffer.byteLength-m,!h.littleEndian,h.global,h.parentOffset)},offset:this.offset,getParentOffset:function(){return h.parentOffset}}},offsetFrom:function(h){return this.parentOffset+this.offset-(h.offset+h.getParentOffset())},skip:function(h){this.offset+=h},branch:function(h,m){return m=typeof m=="number"?m:this.arrayBuffer.byteLength-(this.offset+h),new w(this.arrayBuffer,this.offset+h,m,!this.littleEndian,this.global,this.parentOffset)}},D.exports=w},{}],57:[function(y,D,_){D.exports={exif:{1:"InteropIndex",2:"InteropVersion",11:"ProcessingSoftware",254:"SubfileType",255:"OldSubfileType",256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Thresholding",264:"CellWidth",265:"CellLength",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",292:"T4Options",293:"T6Options",296:"ResolutionUnit",297:"PageNumber",300:"ColorResponseUnit",301:"TransferFunction",305:"Software",306:"ModifyDate",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFD",332:"InkSet",333:"InkNames",334:"NumberofInks",336:"DotRange",337:"TargetPrinter",338:"ExtraSamples",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",435:"T82Options",437:"JPEGTables",512:"JPEGProc",513:"ThumbnailOffset",514:"ThumbnailLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"ApplicationNotes",999:"USPTOMiscellaneous",4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight",18246:"Rating",18247:"XP_DIP_XML",18248:"StitchInfo",18249:"RatingPercent",32781:"ImageID",32931:"WangTag1",32932:"WangAnnotation",32933:"WangTag3",32934:"WangTag4",32995:"Matteing",32996:"DataType",32997:"ImageDepth",32998:"TileDepth",33405:"Model2",33421:"CFARepeatPatternDim",33422:"CFAPattern2",33423:"BatteryLevel",33424:"KodakIFD",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"PixelScale",33589:"AdventScale",33590:"AdventRevision",33628:"UIC1Tag",33629:"UIC2Tag",33630:"UIC3Tag",33631:"UIC4Tag",33723:"IPTC-NAA",33918:"IntergraphPacketData",33919:"IntergraphFlagRegisters",33920:"IntergraphMatrix",33921:"INGRReserved",33922:"ModelTiePoint",34016:"Site",34017:"ColorSequence",34018:"IT8Header",34019:"RasterPadding",34020:"BitsPerRunLength",34021:"BitsPerExtendedRunLength",34022:"ColorTable",34023:"ImageColorIndicator",34024:"BackgroundColorIndicator",34025:"ImageColorValue",34026:"BackgroundColorValue",34027:"PixelIntensityRange",34028:"TransparencyIndicator",34029:"ColorCharacterization",34030:"HCUsage",34031:"TrapIndicator",34032:"CMYKEquivalent",34118:"SEMInfo",34152:"AFCP_IPTC",34232:"PixelMagicJBIGOptions",34264:"ModelTransform",34306:"WB_GRGBLevels",34310:"LeafData",34377:"PhotoshopSettings",34665:"ExifOffset",34675:"ICC_Profile",34687:"TIFF_FXExtensions",34688:"MultiProfiles",34689:"SharedData",34690:"T88Options",34732:"ImageLayer",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34850:"ExposureProgram",34852:"SpectralSensitivity",34853:"GPSInfo",34855:"ISO",34856:"Opto-ElectricConvFactor",34857:"Interlace",34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",34908:"FaxRecvParams",34909:"FaxSubAddress",34910:"FaxRecvTime",34954:"LeafSubIFD",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"CreateDate",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureCompensation",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37387:"FlashEnergy",37388:"SpatialFrequencyResponse",37389:"Noise",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37394:"SecurityClassification",37395:"ImageHistory",37396:"SubjectArea",37397:"ExposureIndex",37398:"TIFF-EPStandardID",37399:"SensingMethod",37434:"CIP3DataFile",37435:"CIP3Sheet",37436:"CIP3Side",37439:"StoNits",37500:"MakerNote",37510:"UserComment",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37679:"MSDocumentText",37680:"MSPropertySetStorage",37681:"MSDocumentTextPosition",37724:"ImageSourceData",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",40960:"FlashpixVersion",40961:"ColorSpace",40962:"ExifImageWidth",40963:"ExifImageHeight",40964:"RelatedSoundFile",40965:"InteropOffset",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41485:"Noise",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41489:"ImageNumber",41490:"SecurityClassification",41491:"ImageHistory",41492:"SubjectLocation",41493:"ExposureIndex",41494:"TIFF-EPStandardID",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFormat",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"OwnerName",42033:"SerialNumber",42034:"LensInfo",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42112:"GDALMetadata",42113:"GDALNoData",42240:"Gamma",44992:"ExpandSoftware",44993:"ExpandLens",44994:"ExpandFilm",44995:"ExpandFilterLens",44996:"ExpandScanner",44997:"ExpandFlashLamp",48129:"PixelFormat",48130:"Transformation",48131:"Uncompressed",48132:"ImageType",48256:"ImageWidth",48257:"ImageHeight",48258:"WidthResolution",48259:"HeightResolution",48320:"ImageOffset",48321:"ImageByteCount",48322:"AlphaOffset",48323:"AlphaByteCount",48324:"ImageDataDiscard",48325:"AlphaDataDiscard",50215:"OceScanjobDesc",50216:"OceApplicationSelector",50217:"OceIDNumber",50218:"OceImageLogic",50255:"Annotations",50341:"PrintIM",50560:"USPTOOriginalContentType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50752:"RawImageSegmentation",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50784:"AliasLayerMetadata",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50829:"ActiveArea",50830:"MaskedAreas",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50974:"SubTileBlockSize",50975:"RowInterleaveFactor",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:"ProfileHueSatMapEncoding",51108:"ProfileLookTableEncoding",51109:"BaselineExposureOffset",51110:"DefaultBlackRender",51111:"NewRawImageDigest",51112:"RawToPreviewGain",51125:"DefaultUserCrop",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65024:"KDC_IFD",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"}}},{}],58:[function(y,D,_){function w(s,n){switch(s){case 1:return n.nextUInt8();case 3:return n.nextUInt16();case 4:return n.nextUInt32();case 5:return[n.nextUInt32(),n.nextUInt32()];case 6:return n.nextInt8();case 8:return n.nextUInt16();case 9:return n.nextUInt32();case 10:return[n.nextInt32(),n.nextInt32()];case 11:return n.nextFloat();case 12:return n.nextDouble();default:throw new Error("Invalid format while decoding: "+s)}}function h(s){switch(s){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}}function m(s,n){var t=n.nextUInt16(),e=n.nextUInt16(),a=h(e),l=n.nextUInt32(),i=a*l,f,r;if(i>4&&(n=s.openWithOffset(n.nextUInt32())),e===2){f=n.nextString(l);var u=f.indexOf("\0");u!==-1&&(f=f.substr(0,u))}else if(e===7)f=n.nextBuffer(l);else if(e!==0)for(f=[],r=0;r<l;++r)f.push(w(e,n));return i<4&&n.skip(4-i),[t,f,e]}function d(s,n,t){var e=n.nextUInt16(),a,l;for(l=0;l<e;++l)a=m(s,n),t(a[0],a[1],a[2])}function o(s){var n=s.nextString(6);if(n!=="Exif\0\0")throw new Error("Invalid EXIF header");var t=s.mark(),e=s.nextUInt16();if(e===18761)s.setBigEndian(!1);else if(e===19789)s.setBigEndian(!0);else throw new Error("Invalid TIFF header");if(s.nextUInt16()!==42)throw new Error("Invalid TIFF data");return t}D.exports={IFD0:1,IFD1:2,GPSIFD:3,SubIFD:4,InteropIFD:5,parseTags:function(s,n){var t;try{t=o(s)}catch{return!1}var e,a,l,i=t.openWithOffset(s.nextUInt32()),f=this.IFD0;d(t,i,function(x,E,S){switch(x){case 34853:a=E[0];break;case 34665:e=E[0];break;default:n(f,x,E,S);break}});var r=i.nextUInt32();if(r!==0){var u=t.openWithOffset(r);d(t,u,n.bind(null,this.IFD1))}if(a){var c=t.openWithOffset(a);d(t,c,n.bind(null,this.GPSIFD))}if(e){var v=t.openWithOffset(e),g=this.InteropIFD;d(t,v,function(x,E,S){x===40965?l=E[0]:n(g,x,E,S)})}if(l){var b=t.openWithOffset(l);d(t,b,n.bind(null,this.InteropIFD))}return!0}}},{}],59:[function(y,D,_){D.exports={parseSections:function(w,h){var m,d;for(w.setBigEndian(!0);w.remainingLength()>0&&d!==218;){if(w.nextUInt8()!==255)throw new Error("Invalid JPEG section offset");d=w.nextUInt8(),d>=208&&d<=217||d===218?m=0:m=w.nextUInt16()-2,h(d,w.branch(0,m)),w.skip(m)}},getSizeFromSOFSection:function(w){return w.skip(1),{height:w.nextUInt16(),width:w.nextUInt16()}},getSectionName:function(w){var h,m;switch(w){case 216:h="SOI";break;case 196:h="DHT";break;case 219:h="DQT";break;case 221:h="DRI";break;case 218:h="SOS";break;case 254:h="COM";break;case 217:h="EOI";break;default:w>=224&&w<=239?(h="APP",m=w-224):w>=192&&w<=207&&w!==196&&w!==200&&w!==204?(h="SOF",m=w-192):w>=208&&w<=215&&(h="RST",m=w-208);break}var d={name:h};return typeof m=="number"&&(d.index=m),d}}},{}],60:[function(y,D,_){var w=y("./jpeg"),h=y("./exif"),m=y("./simplify");function d(s,n,t,e,a,l,i){this.startMarker=s,this.tags=n,this.imageSize=t,this.thumbnailOffset=e,this.thumbnailLength=a,this.thumbnailType=l,this.app1Offset=i}d.prototype={hasThumbnail:function(s){return!this.thumbnailOffset||!this.thumbnailLength?!1:typeof s!="string"?!0:s.toLowerCase().trim()==="image/jpeg"?this.thumbnailType===6:s.toLowerCase().trim()==="image/tiff"?this.thumbnailType===1:!1},getThumbnailOffset:function(){return this.app1Offset+6+this.thumbnailOffset},getThumbnailLength:function(){return this.thumbnailLength},getThumbnailBuffer:function(){return this._getThumbnailStream().nextBuffer(this.thumbnailLength)},_getThumbnailStream:function(){return this.startMarker.openWithOffset(this.getThumbnailOffset())},getImageSize:function(){return this.imageSize},getThumbnailSize:function(){var s=this._getThumbnailStream(),n;return w.parseSections(s,function(t,e){w.getSectionName(t).name==="SOF"&&(n=w.getSizeFromSOFSection(e))}),n}};function o(s){this.stream=s,this.flags={readBinaryTags:!1,resolveTagNames:!0,simplifyValues:!0,imageSize:!0,hidePointers:!0,returnTags:!0}}o.prototype={enableBinaryFields:function(s){return this.flags.readBinaryTags=!!s,this},enablePointers:function(s){return this.flags.hidePointers=!s,this},enableTagNames:function(s){return this.flags.resolveTagNames=!!s,this},enableImageSize:function(s){return this.flags.imageSize=!!s,this},enableReturnTags:function(s){return this.flags.returnTags=!!s,this},enableSimpleValues:function(s){return this.flags.simplifyValues=!!s,this},parse:function(){var s=this.stream.mark(),n=s.openWithOffset(0),t=this.flags,e,a,l,i,f,r,u,c,v;return t.resolveTagNames&&(u=y("./exif-tags")),t.resolveTagNames?(e={},c=function(g){return e[g.name]},v=function(g,b){e[g.name]=b}):(e=[],c=function(g){var b;for(b=0;b<e.length;++b)if(e[b].type===g.type&&e[b].section===g.section)return e.value},v=function(g,b){var x;for(x=0;x<e.length;++x)if(e[x].type===g.type&&e[x].section===g.section){e.value=b;return}}),w.parseSections(n,function(g,b){var x,E=b.offsetFrom(s);g===225?(x=h.parseTags(b,function(S,A,F,M){if(!(!t.readBinaryTags&&M===7)){if(A===513){if(l=F[0],t.hidePointers)return}else if(A===514){if(i=F[0],t.hidePointers)return}else if(A===259&&(f=F[0],t.hidePointers))return;if(!!t.returnTags)if(t.simplifyValues&&(F=m.simplifyValue(F,M)),t.resolveTagNames){var z=S===h.GPSIFD?u.gps:u.exif,U=z[A];U||(U=u.exif[A]),e.hasOwnProperty(U)||(e[U]=F)}else e.push({section:S,type:A,value:F})}}),x&&(r=E)):t.imageSize&&w.getSectionName(g).name==="SOF"&&(a=w.getSizeFromSOFSection(b))}),t.simplifyValues&&(m.castDegreeValues(c,v),m.castDateValues(c,v)),new d(s,e,a,l,i,f,r)}},D.exports=o},{"./exif":58,"./exif-tags":57,"./jpeg":59,"./simplify":61}],61:[function(y,D,_){var w=y("./exif"),h=y("./date"),m=[{section:w.GPSIFD,type:2,name:"GPSLatitude",refType:1,refName:"GPSLatitudeRef",posVal:"N"},{section:w.GPSIFD,type:4,name:"GPSLongitude",refType:3,refName:"GPSLongitudeRef",posVal:"E"}],d=[{section:w.SubIFD,type:306,name:"ModifyDate"},{section:w.SubIFD,type:36867,name:"DateTimeOriginal"},{section:w.SubIFD,type:36868,name:"CreateDate"},{section:w.SubIFD,type:306,name:"ModifyDate"}];D.exports={castDegreeValues:function(o,s){m.forEach(function(n){var t=o(n);if(t){var e=o({section:n.section,type:n.refType,name:n.refName}),a=e===n.posVal?1:-1,l=(t[0]+t[1]/60+t[2]/3600)*a;s(n,l)}})},castDateValues:function(o,s){d.forEach(function(n){var t=o(n);if(t){var e=h.parseExifDate(t);typeof e<"u"&&s(n,e)}})},simplifyValue:function(o,s){return Array.isArray(o)&&(o=o.map(function(n){return s===10||s===5?n[0]/n[1]:n}),o.length===1&&(o=o[0])),o}}},{"./date":55,"./exif":58}],62:[function(y,D,_){var w=y("@babel/runtime/helpers/interopRequireDefault"),h=w(y("@babel/runtime/helpers/toConsumableArray")),m=function(t){return(0,h.default)(t).map(function(e){return e.charCodeAt(0)})},d=m("META-INF/mozilla.rsa"),o=m("[Content_Types].xml"),s=m("_rels/.rels");D.exports=function(n){var t=n instanceof Uint8Array?n:new Uint8Array(n);if(!(t&&t.length>1))return null;var e=function(S,A){A=Object.assign({offset:0},A);for(var F=0;F<S.length;F++)if(A.mask){if(S[F]!==(A.mask[F]&t[F+A.offset]))return!1}else if(S[F]!==t[F+A.offset])return!1;return!0},a=function(S,A){return e(m(S),A)};if(e([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(e([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(e([71,73,70]))return{ext:"gif",mime:"image/gif"};if(e([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(e([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((e([73,73,42,0])||e([77,77,0,42]))&&e([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(e([73,73,42,0])||e([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(e([66,77]))return{ext:"bmp",mime:"image/bmp"};if(e([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(e([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(e([80,75,3,4])){if(e([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(e(d,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(a("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if(a("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if(a("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};var l=function(S){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return S.findIndex(function(F,M,z){return M>=A&&z[M]===80&&z[M+1]===75&&z[M+2]===3&&z[M+3]===4})},i=0,f=!1,r=null;do{var u=i+30;if(f||(f=e(o,{offset:u})||e(s,{offset:u})),r||(a("word/",{offset:u})?r={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:a("ppt/",{offset:u})?r={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:a("xl/",{offset:u})&&(r={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),f&&r)return r;i=l(t,u)}while(i>=0);if(r)return r}if(e([80,75])&&(t[2]===3||t[2]===5||t[2]===7)&&(t[3]===4||t[3]===6||t[3]===8))return{ext:"zip",mime:"application/zip"};if(e([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(e([82,97,114,33,26,7])&&(t[6]===0||t[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(e([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(e([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(e([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(e([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(e([51,103,112,53])||e([0,0,0])&&e([102,116,121,112],{offset:4})&&(e([109,112,52,49],{offset:8})||e([109,112,52,50],{offset:8})||e([105,115,111,109],{offset:8})||e([105,115,111,50],{offset:8})||e([109,109,112,52],{offset:8})||e([77,52,86],{offset:8})||e([100,97,115,104],{offset:8})))return{ext:"mp4",mime:"video/mp4"};if(e([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(e([26,69,223,163])){var c=t.subarray(4,4100),v=c.findIndex(function(E,S,A){return A[S]===66&&A[S+1]===130});if(v!==-1){var g=v+3,b=function(S){return(0,h.default)(S).every(function(A,F){return c[g+F]===A.charCodeAt(0)})};if(b("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(b("webm"))return{ext:"webm",mime:"video/webm"}}}if(e([0,0,0,20,102,116,121,112,113,116,32,32])||e([102,114,101,101],{offset:4})||e([102,116,121,112,113,116,32,32],{offset:4})||e([109,100,97,116],{offset:4})||e([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(e([82,73,70,70])){if(e([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(e([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(e([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(e([48,38,178,117,142,102,207,17,166,217]))return{ext:"wmv",mime:"video/x-ms-wmv"};if(e([0,0,1,186])||e([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(e([102,116,121,112,51,103],{offset:4}))return{ext:"3gp",mime:"video/3gpp"};for(var x=0;x<2&&x<t.length-16;x++){if(e([73,68,51],{offset:x})||e([255,226],{offset:x,mask:[255,226]}))return{ext:"mp3",mime:"audio/mpeg"};if(e([255,228],{offset:x,mask:[255,228]}))return{ext:"mp2",mime:"audio/mpeg"};if(e([255,248],{offset:x,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(e([255,240],{offset:x,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(e([102,116,121,112,77,52,65],{offset:4})||e([77,52,65,32]))return{ext:"m4a",mime:"audio/mp4"};if(e([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(e([79,103,103,83]))return e([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:e([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:e([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:e([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:e([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(e([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(e([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(e([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(e([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(e([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(e([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((t[0]===67||t[0]===70)&&e([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(e([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(e([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(e([119,79,70,70])&&(e([0,1,0,0],{offset:4})||e([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(e([119,79,70,50])&&(e([0,1,0,0],{offset:4})||e([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(e([76,80],{offset:34})&&(e([0,0,1],{offset:8})||e([1,0,2],{offset:8})||e([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(e([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(e([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(e([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(e([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(e([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(e([37,33]))return{ext:"ps",mime:"application/postscript"};if(e([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(e([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(e([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(e([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(e([77,83,67,70])||e([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(e([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(e([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(e([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(e([31,160])||e([31,157]))return{ext:"Z",mime:"application/x-compress"};if(e([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(e([208,207,17,224,161,177,26,225]))return{ext:"msi",mime:"application/x-msi"};if(e([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(e([71],{offset:4})&&(e([71],{offset:192})||e([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(e([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(e([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(e([0,0,0,12,106,80,32,32,13,10,135,10])){if(e([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(e([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(e([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(e([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}if(e([70,79,82,77,0]))return{ext:"aif",mime:"audio/aiff"};if(a("<?xml "))return{ext:"xml",mime:"application/xml"};if(e([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(e([102,116,121,112],{offset:4})){if(e([109,105,102,49],{offset:8}))return{ext:"heic",mime:"image/heif"};if(e([109,115,102,49],{offset:8}))return{ext:"heic",mime:"image/heif-sequence"};if(e([104,101,105,99],{offset:8})||e([104,101,105,120],{offset:8}))return{ext:"heic",mime:"image/heic"};if(e([104,101,118,99],{offset:8})||e([104,101,118,120],{offset:8}))return{ext:"heic",mime:"image/heic-sequence"}}return e([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:null}},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20}],63:[function(y,D,_){var w=y("is-callable"),h=Object.prototype.toString,m=Object.prototype.hasOwnProperty,d=function(e,a,l){for(var i=0,f=e.length;i<f;i++)m.call(e,i)&&(l==null?a(e[i],i,e):a.call(l,e[i],i,e))},o=function(e,a,l){for(var i=0,f=e.length;i<f;i++)l==null?a(e.charAt(i),i,e):a.call(l,e.charAt(i),i,e)},s=function(e,a,l){for(var i in e)m.call(e,i)&&(l==null?a(e[i],i,e):a.call(l,e[i],i,e))},n=function(e,a,l){if(!w(a))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=l),h.call(e)==="[object Array]"?d(e,a,i):typeof e=="string"?o(e,a,i):s(e,a,i)};D.exports=n},{"is-callable":77}],64:[function(y,D,_){function w(o,s,n,a){var e=0,a=a===void 0?{}:a,l=a.loop===void 0?null:a.loop,i=a.palette===void 0?null:a.palette;if(s<=0||n<=0||s>65535||n>65535)throw new Error("Width/Height invalid.");function f(E){var S=E.length;if(S<2||S>256||S&S-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return S}o[e++]=71,o[e++]=73,o[e++]=70,o[e++]=56,o[e++]=57,o[e++]=97;var r=0,u=0;if(i!==null){for(var c=f(i);c>>=1;)++r;if(c=1<<r,--r,a.background!==void 0){if(u=a.background,u>=c)throw new Error("Background index out of range.");if(u===0)throw new Error("Background index explicitly passed as 0.")}}if(o[e++]=s&255,o[e++]=s>>8&255,o[e++]=n&255,o[e++]=n>>8&255,o[e++]=(i!==null?128:0)|r,o[e++]=u,o[e++]=0,i!==null)for(var v=0,g=i.length;v<g;++v){var b=i[v];o[e++]=b>>16&255,o[e++]=b>>8&255,o[e++]=b&255}if(l!==null){if(l<0||l>65535)throw new Error("Loop count invalid.");o[e++]=33,o[e++]=255,o[e++]=11,o[e++]=78,o[e++]=69,o[e++]=84,o[e++]=83,o[e++]=67,o[e++]=65,o[e++]=80,o[e++]=69,o[e++]=50,o[e++]=46,o[e++]=48,o[e++]=3,o[e++]=1,o[e++]=l&255,o[e++]=l>>8&255,o[e++]=0}var x=!1;this.addFrame=function(E,S,A,F,M,z){if(x===!0&&(--e,x=!1),z=z===void 0?{}:z,E<0||S<0||E>65535||S>65535)throw new Error("x/y invalid.");if(A<=0||F<=0||A>65535||F>65535)throw new Error("Width/Height invalid.");if(M.length<A*F)throw new Error("Not enough pixels for the frame size.");var U=!0,I=z.palette;if(I==null&&(U=!1,I=i),I==null)throw new Error("Must supply either a local or global palette.");for(var O=f(I),B=0;O>>=1;)++B;O=1<<B;var Y=z.delay===void 0?0:z.delay,q=z.disposal===void 0?0:z.disposal;if(q<0||q>3)throw new Error("Disposal out of range.");var ie=!1,ee=0;if(z.transparent!==void 0&&z.transparent!==null&&(ie=!0,ee=z.transparent,ee<0||ee>=O))throw new Error("Transparent color index.");if((q!==0||ie||Y!==0)&&(o[e++]=33,o[e++]=249,o[e++]=4,o[e++]=q<<2|(ie===!0?1:0),o[e++]=Y&255,o[e++]=Y>>8&255,o[e++]=ee,o[e++]=0),o[e++]=44,o[e++]=E&255,o[e++]=E>>8&255,o[e++]=S&255,o[e++]=S>>8&255,o[e++]=A&255,o[e++]=A>>8&255,o[e++]=F&255,o[e++]=F>>8&255,o[e++]=U===!0?128|B-1:0,U===!0)for(var G=0,V=I.length;G<V;++G){var W=I[G];o[e++]=W>>16&255,o[e++]=W>>8&255,o[e++]=W&255}return e=h(o,e,B<2?2:B,M),e},this.end=function(){return x===!1&&(o[e++]=59,x=!0),e},this.getOutputBuffer=function(){return o},this.setOutputBuffer=function(E){o=E},this.getOutputBufferPosition=function(){return e},this.setOutputBufferPosition=function(E){e=E}}function h(o,s,n,t){o[s++]=n;var e=s++,a=1<<n,l=a-1,i=a+1,f=i+1,r=n+1,u=0,c=0;function v(z){for(;u>=z;)o[s++]=c&255,c>>=8,u-=8,s===e+256&&(o[e]=255,e=s++)}function g(z){c|=z<<u,u+=r,v(8)}var b=t[0]&l,x={};g(a);for(var E=1,S=t.length;E<S;++E){var A=t[E]&l,F=b<<8|A,M=x[F];if(M===void 0){for(c|=b<<u,u+=r;u>=8;)o[s++]=c&255,c>>=8,u-=8,s===e+256&&(o[e]=255,e=s++);f===4096?(g(a),f=i+1,r=n+1,x={}):(f>=1<<r&&++r,x[F]=f++),b=A}else b=M}return g(b),g(i),v(1),e+1===s?o[e]=0:(o[e]=s-e-1,o[s++]=0),s}function m(o){var s=0;if(o[s++]!==71||o[s++]!==73||o[s++]!==70||o[s++]!==56||(o[s++]+1&253)!==56||o[s++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=o[s++]|o[s++]<<8,t=o[s++]|o[s++]<<8,e=o[s++],a=e>>7,l=e&7,i=1<<l+1;o[s++],o[s++];var f=null,r=null;a&&(f=s,r=i,s+=i*3);var u=!0,c=[],v=0,g=null,b=0,x=null;for(this.width=n,this.height=t;u&&s<o.length;)switch(o[s++]){case 33:switch(o[s++]){case 255:if(o[s]!==11||o[s+1]==78&&o[s+2]==69&&o[s+3]==84&&o[s+4]==83&&o[s+5]==67&&o[s+6]==65&&o[s+7]==80&&o[s+8]==69&&o[s+9]==50&&o[s+10]==46&&o[s+11]==48&&o[s+12]==3&&o[s+13]==1&&o[s+16]==0)s+=14,x=o[s++]|o[s++]<<8,s++;else for(s+=12;;){var E=o[s++];if(!(E>=0))throw Error("Invalid block size");if(E===0)break;s+=E}break;case 249:if(o[s++]!==4||o[s+4]!==0)throw new Error("Invalid graphics extension block.");var S=o[s++];v=o[s++]|o[s++]<<8,g=o[s++],(S&1)===0&&(g=null),b=S>>2&7,s++;break;case 254:for(;;){var E=o[s++];if(!(E>=0))throw Error("Invalid block size");if(E===0)break;s+=E}break;default:throw new Error("Unknown graphic control label: 0x"+o[s-1].toString(16))}break;case 44:var A=o[s++]|o[s++]<<8,F=o[s++]|o[s++]<<8,M=o[s++]|o[s++]<<8,z=o[s++]|o[s++]<<8,U=o[s++],I=U>>7,O=U>>6&1,B=U&7,Y=1<<B+1,q=f,ie=r,ee=!1;if(I){var ee=!0;q=s,ie=Y,s+=Y*3}var G=s;for(s++;;){var E=o[s++];if(!(E>=0))throw Error("Invalid block size");if(E===0)break;s+=E}c.push({x:A,y:F,width:M,height:z,has_local_palette:ee,palette_offset:q,palette_size:ie,data_offset:G,data_length:s-G,transparent_index:g,interlaced:!!O,delay:v,disposal:b});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+o[s-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return x},this.frameInfo=function(V){if(V<0||V>=c.length)throw new Error("Frame index out of range.");return c[V]},this.decodeAndBlitFrameBGRA=function(V,W){var Q=this.frameInfo(V),oe=Q.width*Q.height,ve=new Uint8Array(oe);d(o,Q.data_offset,ve,oe);var fe=Q.palette_offset,de=Q.transparent_index;de===null&&(de=256);var be=Q.width,le=n-be,se=be,X=(Q.y*n+Q.x)*4,J=((Q.y+Q.height)*n+Q.x)*4,te=X,j=le*4;Q.interlaced===!0&&(j+=n*4*7);for(var P=8,R=0,Z=ve.length;R<Z;++R){var N=ve[R];if(se===0&&(te+=j,se=be,te>=J&&(j=le*4+n*4*(P-1),te=X+(be+le)*(P<<1),P>>=1)),N===de)te+=4;else{var C=o[fe+N*3],T=o[fe+N*3+1],H=o[fe+N*3+2];W[te++]=H,W[te++]=T,W[te++]=C,W[te++]=255}--se}},this.decodeAndBlitFrameRGBA=function(V,W){var Q=this.frameInfo(V),oe=Q.width*Q.height,ve=new Uint8Array(oe);d(o,Q.data_offset,ve,oe);var fe=Q.palette_offset,de=Q.transparent_index;de===null&&(de=256);var be=Q.width,le=n-be,se=be,X=(Q.y*n+Q.x)*4,J=((Q.y+Q.height)*n+Q.x)*4,te=X,j=le*4;Q.interlaced===!0&&(j+=n*4*7);for(var P=8,R=0,Z=ve.length;R<Z;++R){var N=ve[R];if(se===0&&(te+=j,se=be,te>=J&&(j=le*4+n*4*(P-1),te=X+(be+le)*(P<<1),P>>=1)),N===de)te+=4;else{var C=o[fe+N*3],T=o[fe+N*3+1],H=o[fe+N*3+2];W[te++]=C,W[te++]=T,W[te++]=H,W[te++]=255}--se}}}function d(o,s,n,t){for(var e=o[s++],a=1<<e,l=a+1,i=l+1,f=e+1,r=(1<<f)-1,u=0,c=0,v=0,g=o[s++],b=new Int32Array(4096),x=null;;){for(;u<16&&g!==0;)c|=o[s++]<<u,u+=8,g===1?g=o[s++]:--g;if(u<f)break;var E=c&r;if(c>>=f,u-=f,E===a){i=l+1,f=e+1,r=(1<<f)-1,x=null;continue}else if(E===l)break;for(var S=E<i?E:x,A=0,F=S;F>a;)F=b[F]>>8,++A;var M=F,z=v+A+(S!==E?1:0);if(z>t){console.log("Warning, gif stream longer than expected.");return}n[v++]=M,v+=A;var U=v;for(S!==E&&(n[v++]=M),F=S;A--;)F=b[F],n[--U]=F&255,F>>=8;x!==null&&i<4096&&(b[i++]=x<<8|M,i>=r+1&&f<12&&(++f,r=r<<1|1)),x=E}return v!==t&&console.log("Warning, gif stream shorter than expected."),n}try{_.GifWriter=w,_.GifReader=m}catch{}},{}],65:[function(y,D,_){(function(w){class h{constructor(...d){if(d.length===0)throw new Error("constructor requires parameters");const o=d[0];if(o!==null&&typeof o=="object")if(o instanceof h){const s=o.bitmap;this.bitmap={width:s.width,height:s.height,data:new w(s.width*s.height*4)},s.data.copy(this.bitmap.data)}else if(o.width&&o.height&&o.data)this.bitmap=o;else throw new Error("unrecognized constructor parameters");else if(typeof o=="number"&&typeof d[1]=="number"){const s=o,n=d[1],t=d[2];this.bitmap={width:s,height:n},w.isBuffer(t)?this.bitmap.data=t:(this.bitmap.data=new w(s*n*4),typeof t=="number"&&this.fillRGBA(t))}else throw new Error("unrecognized constructor parameters")}blit(d,o,s,n,t,e,a){if(n+e>this.bitmap.width)throw new Error("copy exceeds width of source bitmap");if(o+e>d.bitmap.width)throw new Error("copy exceeds width of target bitmap");if(t+a>this.bitmap.height)throw new Error("copy exceeds height of source bitmap");if(s+a>d.bitmap.height)throw new Erro("copy exceeds height of target bitmap");const l=this.bitmap.data,i=d.bitmap.data,f=this.bitmap.width*4,r=d.bitmap.width*4,u=e*4;let c=t*f+n*4,v=s*r+o*4;for(;--a>=0;)l.copy(i,v,c,c+u),c+=f,v+=r;return this}fillRGBA(d){const o=this.bitmap.data,s=this.bitmap.height*4;let n=0;for(;n<s;)o.writeUInt32BE(d,n),n+=4;for(;n<o.length;)o.copy(o,n,0,s),n+=s;return this}getRGBA(d,o){const s=(o*this.bitmap.width+d)*4;return this.bitmap.data.readUInt32BE(s)}getRGBASet(){const d=new Set,o=this.bitmap.data;for(let s=0;s<o.length;s+=4)d.add(o.readUInt32BE(s,!0));return d}greyscale(){const d=this.bitmap.data;return this.scan(0,0,this.bitmap.width,this.bitmap.height,(o,s,n)=>{const t=Math.round(.299*d[n]+.587*d[n+1]+.114*d[n+2]);d[n]=t,d[n+1]=t,d[n+2]=t}),this}reframe(d,o,s,n,t){const e=d<0?0:d,a=o<0?0:o,l=s+e>this.bitmap.width?this.bitmap.width-e:s,i=n+a>this.bitmap.height?this.bitmap.height-a:n,f=d<0?-d:0,r=o<0?-o:0;let u;if(t===void 0){if(e!==d||a!=o||l!==s||i!==n)throw new GifError("fillRGBA required for this reframing");u=new h(s,n)}else u=new h(s,n,t);return this.blit(u,f,r,e,a,l,i),this.bitmap=u.bitmap,this}scale(d){if(d===1)return;if(!Number.isInteger(d)||d<1)throw new Error("the scale must be an integer >= 1");const o=this.bitmap.width,s=this.bitmap.height,n=o*d*4,t=this.bitmap.data,e=new w(s*n*d);let a=0,l,i=0;for(let f=0;f<s;++f){l=i;for(let r=0;r<o;++r){const u=t.readUInt32BE(a,!0);for(let c=0;c<d;++c)e.writeUInt32BE(u,i),i+=4;a+=4}for(let r=1;r<d;++r)e.copy(e,i,l,i),i+=n,l+=n}return this.bitmap={width:o*d,height:s*d,data:e},this}scanAllCoords(d){const o=this.bitmap.width,s=this.bitmap.data.length;let n=0,t=0;for(let e=0;e<s;e+=4)d(n,t,e),++n===o&&(n=0,++t)}scanAllIndexes(d){const o=this.bitmap.data.length;for(let s=0;s<o;s+=4)d(s)}}D.exports=h}).call(this,y("buffer").Buffer)},{buffer:48}],66:[function(y,D,_){class w{constructor(d,o,s){this.width=s.width,this.height=s.height,this.loops=s.loops,this.usesTransparency=s.usesTransparency,this.colorScope=s.colorScope,this.frames=o,this.buffer=d}}w.GlobalColorsPreferred=0,w.GlobalColorsOnly=1,w.LocalColorsOnly=2;class h extends Error{constructor(d){super(d),d instanceof Error&&(this.stack="Gif"+d.stack)}}_.Gif=w,_.GifError=h},{}],67:[function(y,D,_){(function(w,h){const m=y("omggif"),{Gif:d,GifError:o}=y("./gif");let s;w.nextTick(()=>{s=y("./gifutil")});const{GifFrame:n}=y("./gifframe"),t=200,e=100;class a{constructor(E={}){this._transparentRGB=null,typeof E.transparentRGB=="number"&&E.transparentRGB!==0&&(this._transparentRGBA=E.transparentRGB*256),this._testInitialBufferSize=0}decodeGif(E){try{let S;try{S=new m.GifReader(E)}catch(z){throw new o(z)}const A=S.numFrames(),F=[],M={width:S.width,height:S.height,loops:S.loopCount()};M.usesTransparency=!1;for(let z=0;z<A;++z){const U=this._decodeFrame(S,z,M.usesTransparency);F.push(U.frame),U.usesTransparency&&(M.usesTransparency=!0)}return Promise.resolve(new d(E,F,M))}catch(S){return Promise.reject(S)}}encodeGif(E,S={}){try{if(E===null||E.length===0)throw new o("there are no frames");const A=s.getMaxDimensions(E);return S=Object.assign({},S),S.width=A.maxWidth,S.height=A.maxHeight,S.loops=S.loops||0,S.colorScope=S.colorScope||d.GlobalColorsPreferred,Promise.resolve(this._encodeGif(E,S))}catch(A){return Promise.reject(A)}}_decodeFrame(E,S,A){let F,M;try{if(F=E.frameInfo(S),M=new h(E.width*E.height*4),E.decodeAndBlitFrameRGBA(S,M),F.width!==E.width||F.height!==E.height){if(F.y&&(M=M.slice(F.y*E.width*4)),E.width>F.width)for(let I=0;I<F.height;++I)M.copy(M,I*F.width*4,(F.x+I*E.width)*4,(F.x+I*E.width)*4+F.width*4);M=M.slice(0,F.width*F.height*4)}}catch(I){throw new o(I)}let z=!1;if(this._transparentRGBA===null){if(!A)for(let I=3;I<M.length;I+=4)M[I]===0&&(z=!0,I=M.length)}else for(let I=3;I<M.length;I+=4)M[I]===0&&(M.writeUInt32BE(this._transparentRGBA,I-3),z=!0);return{frame:new n(F.width,F.height,M,{xOffset:F.x,yOffset:F.y,disposalMethod:F.disposal,interlaced:F.interlaced,delayCentisecs:F.delay}),usesTransparency:z}}_encodeGif(E,S){let A;if(S.colorScope===d.LocalColorsOnly)A=s.getColorInfo(E,0);else if(A=s.getColorInfo(E,256),!A.colors){if(S.colorScope===d.GlobalColorsOnly)throw new o("Too many color indexes for global color table");S.colorScope=d.LocalColorsOnly}S.usesTransparency=A.usesTransparency;const F=A.palettes;return S.colorScope===d.LocalColorsOnly?r(E,S,2e3,F):f(E,S,2e3,A)}_getSizeEstimateGlobal(E,S){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let A=t+3*256;const F=g(E);return S.forEach(M=>{A+=c(M,F)}),A}_getSizeEstimateLocal(E,S){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let A=t;for(let F=0;F<S.length;++F){const M=E[F],z=g(M);A+=c(S[F],z)}return A}}_.GifCodec=a;function l(x,E){const S=x.indexOf(E);return S===-1?null:S}function i(x,E){for(var S=0,A=x.length-1,F;S<=A;)if(F=Math.floor((S+A)/2),x[F]>E)A=F-1;else if(x[F]<E)S=F+1;else return F;return null}function f(x,E,S,A){const F={colors:A.colors.slice(),usesTransparency:A.usesTransparency};u(F);const M={palette:F.colors,loop:E.loops};let z=new h(S),U;try{U=new m.GifWriter(z,E.width,E.height,M)}catch(I){throw new o(I)}for(let I=0;I<x.length;++I)z=b(U,I,x[I],A,!1);return new d(z.slice(0,U.end()),x,E)}function r(x,E,S,A){const F={loop:E.loops};let M=new h(S),z;try{z=new m.GifWriter(M,E.width,E.height,F)}catch(U){throw new o(U)}for(let U=0;U<x.length;++U)M=b(z,U,x[U],A[U],!0);return new d(M.slice(0,z.end()),x,E)}function u(x){const E=x.colors;x.usesTransparency&&E.push(0);const S=E.length;let A=2;for(;S>A;)A<<=1;E.length=A,E.fill(0,S)}function c(x,E){let S=x.bitmap.width*x.bitmap.height;return S=Math.ceil(S*E/8),S+=Math.ceil(S/255),e+S+3*256}function v(x,E,S){const A=S.colors,F=A.length<=8?l:i,M=E.bitmap.data,z=new h(M.length/4);let U=A.length,I=0,O=0;for(;I<M.length;){if(M[I+3]!==0){const B=M.readUInt32BE(I,!0)>>8&16777215;z[O]=F(A,B)}else z[O]=U;I+=4,++O}if(S.usesTransparency){if(U===256)throw new o(`Frame ${x} already has 256 colorsand so can't use transparency`)}else U=null;return{buffer:z,transparentIndex:U}}function g(x){let E=x.indexCount,S=0;for(--E;E;)++S,E>>=1;return S>0?S:1}function b(x,E,S,A,F){if(S.interlaced)throw new o("writing interlaced GIFs is not supported");const M=v(E,S,A),z={delay:S.delayCentisecs,disposal:S.disposalMethod,transparent:M.transparentIndex};F&&(u(A),z.palette=A.colors);try{let U=x.getOutputBuffer(),I=x.getOutputBufferPosition(),O,B=!0;for(;B;)if(O=x.addFrame(S.xOffset,S.yOffset,S.bitmap.width,S.bitmap.height,M.buffer,z),B=!1,O>=U.length-1){const Y=new h(U.length*1.5);U.copy(Y),x.setOutputBuffer(Y),x.setOutputBufferPosition(I),U=Y,B=!0}return U}catch(U){throw new o(U)}}}).call(this,y("_process"),y("buffer").Buffer)},{"./gif":66,"./gifframe":68,"./gifutil":69,_process:133,buffer:48,omggif:64}],68:[function(y,D,_){const w=y("./bitmapimage");y("./gif");class h extends w{constructor(...d){if(super(...d),d[0]instanceof h){const o=d[0];this.xOffset=o.xOffset,this.yOffset=o.yOffset,this.disposalMethod=o.disposalMethod,this.delayCentisecs=o.delayCentisecs,this.interlaced=o.interlaced}else{const o=d[d.length-1];let s={};typeof o=="object"&&!(o instanceof w)&&(s=o),this.xOffset=s.xOffset||0,this.yOffset=s.yOffset||0,this.disposalMethod=s.disposalMethod!==void 0?s.disposalMethod:h.DisposeToBackgroundColor,this.delayCentisecs=s.delayCentisecs||8,this.interlaced=s.interlaced||!1}}getPalette(){const d=new Set,o=this.bitmap.data;let s=0,n=!1;for(;s<o.length;){if(o[s+3]===0)n=!0;else{const l=o.readUInt32BE(s,!0)>>8&16777215;d.add(l)}s+=4}const t=new Array(d.size),e=d.values();for(s=0;s<t.length;++s)t[s]=e.next().value;t.sort((l,i)=>l-i);let a=t.length;return n&&++a,{colors:t,usesTransparency:n,indexCount:a}}}h.DisposeToAnything=0,h.DisposeNothing=1,h.DisposeToBackgroundColor=2,h.DisposeToPrevious=3,_.GifFrame=h},{"./bitmapimage":65,"./gif":66}],69:[function(y,D,_){(function(w){const h=y("fs"),m=y("image-q"),d=y("./bitmapimage"),{GifFrame:o}=y("./gifframe"),{GifError:s}=y("./gif"),{GifCodec:n}=y("./gifcodec"),t=[".jpg",".jpeg",".png",".bmp"],e=new n;_.cloneFrames=function(f){let r=[];return f.forEach(u=>{r.push(new o(u))}),r},_.getColorInfo=function(f,r){let u=!1;const c=[];for(let E=0;E<f.length;++E){let S=f[E].getPalette();if(S.usesTransparency&&(u=!0),S.indexCount>256)throw new s(`Frame ${E} uses more than 256 color indexes`);c.push(S)}if(r===0)return{usesTransparency:u,palettes:c};const v=new Set;c.forEach(E=>{E.colors.forEach(S=>{v.add(S)})});let g=v.size;if(u&&++g,r&&g>r)return{usesTransparency:u,palettes:c};const b=new Array(v.size),x=v.values();for(let E=0;E<b.length;++E)b[E]=x.next().value;return b.sort((E,S)=>E-S),{colors:b,indexCount:g,usesTransparency:u,palettes:c}},_.copyAsJimp=function(f,r){return _.shareAsJimp(f,new d(r))},_.getMaxDimensions=function(f){let r=0,u=0;return f.forEach(c=>{const v=c.xOffset+c.bitmap.width;v>r&&(r=v);const g=c.yOffset+c.bitmap.height;g>u&&(u=g)}),{maxWidth:r,maxHeight:u}},_.quantizeDekker=function(f,r,u){r=r||256,a(f,"NeuQuantFloat",r,0,u)},_.quantizeSorokin=function(f,r,u,c){r=r||256,u=u||"min-pop";let v;switch(u){case"min-pop":v=2;break;case"top-pop":v=1;break;default:throw new Error(`Invalid quantizeSorokin histogram '${u}'`)}a(f,"RGBQuant",r,v,c)},_.quantizeWu=function(f,r,u,c){if(r=r||256,u=u||5,u<1||u>8)throw new Error("Invalid quantization quality");a(f,"WuQuant",r,u,c)},_.read=function(f,r){return r=r||e,w.isBuffer(f)?r.decodeGif(f):l(f).then(u=>r.decodeGif(u))},_.shareAsJimp=function(f,r){const u=new f(r.bitmap.width,r.bitmap.height,0);return u.bitmap.data=r.bitmap.data,u},_.write=function(f,r,u,c){c=c||e;const v=f.match(/\.[a-zA-Z]+$/);if(v!==null&&t.includes(v[0].toLowerCase()))throw new Error(`GIF '${f}' has an unexpected suffix`);return c.encodeGif(r,u).then(g=>i(f,g.buffer).then(()=>g))};function a(f,r,u,c,v){const g=Array.isArray(f)?f:[f],b=["FloydSteinberg","FalseFloydSteinberg","Stucki","Atkinson","Jarvis","Burkes","Sierra","TwoSierra","SierraLite"];if(v){if(b.indexOf(v.ditherAlgorithm)<0)throw new Error(`Invalid ditherAlgorithm '${v.ditherAlgorithm}'`);v.serpentine===void 0&&(v.serpentine=!0),v.minimumColorDistanceToDither===void 0&&(v.minimumColorDistanceToDither=0),v.calculateErrorLikeGIMP===void 0&&(v.calculateErrorLikeGIMP=!1)}const x=new m.distance.Euclidean,E=new m.palette[r](x,u,c);let S;v?S=new m.image.ErrorDiffusionArray(x,m.image.ErrorDiffusionArrayKernel[v.ditherAlgorithm],v.serpentine,v.minimumColorDistanceToDither,v.calculateErrorLikeGIMP):S=new m.image.NearestColor(x);const A=[];g.forEach(M=>{const z=M.bitmap.data,U=new ArrayBuffer(z.length),I=new Uint32Array(U);for(let B=0,Y=0;B<z.length;B+=4,++Y)I[Y]=z.readUInt32LE(B,!0);const O=m.utils.PointContainer.fromUint32Array(I,M.bitmap.width,M.bitmap.height);E.sample(O),A.push(O)});const F=E.quantize();for(let M=0;M<g.length;++M){const z=g[M].bitmap.data,I=S.quantize(A[M],F).toUint32Array();for(let O=0,B=0;O<z.length;O+=4,++B)z.writeUInt32LE(I[B],O)}}function l(f){return new Promise((r,u)=>{h.readFile(f,(c,v)=>c?u(c):r(v))})}function i(f,r){return new Promise((u,c)=>{h.writeFile(f,r,v=>v?c(v):u())})}}).call(this,{isBuffer:y("../../is-buffer/index.js")})},{"../../is-buffer/index.js":76,"./bitmapimage":65,"./gif":66,"./gifcodec":67,"./gifframe":68,fs:47,"image-q":74}],70:[function(y,D,_){const w=y("./bitmapimage"),{Gif:h,GifError:m}=y("./gif"),{GifCodec:d}=y("./gifcodec"),{GifFrame:o}=y("./gifframe"),s=y("./gifutil");D.exports={BitmapImage:w,Gif:h,GifCodec:d,GifFrame:o,GifUtil:s,GifError:m}},{"./bitmapimage":65,"./gif":66,"./gifcodec":67,"./gifframe":68,"./gifutil":69}],71:[function(y,D,_){(function(w){var h;typeof re<"u"?h=re:typeof w<"u"?h=w:typeof self<"u"?h=self:h={},D.exports=h}).call(this,typeof je<"u"?je:typeof self<"u"?self:typeof re<"u"?re:{})},{}],72:[function(y,D,_){var w=y("http"),h=y("url"),m=D.exports;for(var d in w)w.hasOwnProperty(d)&&(m[d]=w[d]);m.request=function(s,n){return s=o(s),w.request.call(this,s,n)},m.get=function(s,n){return s=o(s),w.get.call(this,s,n)};function o(s){if(typeof s=="string"&&(s=h.parse(s)),s.protocol||(s.protocol="https:"),s.protocol!=="https:")throw new Error('Protocol "'+s.protocol+'" not supported. Expected "https:"');return s}},{http:156,url:180}],73:[function(y,D,_){_.read=function(w,h,m,d,o){var s,n,t=o*8-d-1,e=(1<<t)-1,a=e>>1,l=-7,i=m?o-1:0,f=m?-1:1,r=w[h+i];for(i+=f,s=r&(1<<-l)-1,r>>=-l,l+=t;l>0;s=s*256+w[h+i],i+=f,l-=8);for(n=s&(1<<-l)-1,s>>=-l,l+=d;l>0;n=n*256+w[h+i],i+=f,l-=8);if(s===0)s=1-a;else{if(s===e)return n?NaN:(r?-1:1)*(1/0);n=n+Math.pow(2,d),s=s-a}return(r?-1:1)*n*Math.pow(2,s-d)},_.write=function(w,h,m,d,o,s){var n,t,e,a=s*8-o-1,l=(1<<a)-1,i=l>>1,f=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,r=d?0:s-1,u=d?1:-1,c=h<0||h===0&&1/h<0?1:0;for(h=Math.abs(h),isNaN(h)||h===1/0?(t=isNaN(h)?1:0,n=l):(n=Math.floor(Math.log(h)/Math.LN2),h*(e=Math.pow(2,-n))<1&&(n--,e*=2),n+i>=1?h+=f/e:h+=f*Math.pow(2,1-i),h*e>=2&&(n++,e/=2),n+i>=l?(t=0,n=l):n+i>=1?(t=(h*e-1)*Math.pow(2,o),n=n+i):(t=h*Math.pow(2,i-1)*Math.pow(2,o),n=0));o>=8;w[m+r]=t&255,r+=u,t/=256,o-=8);for(n=n<<o|t,a+=o;a>0;w[m+r]=n&255,r+=u,n/=256,a-=8);w[m+r-u]|=c*128}},{}],74:[function(y,D,_){(function(h,m){typeof _=="object"&&typeof D=="object"?D.exports=m():typeof _=="object"?_.iq=m():h.iq=m()})(this,function(){return function(w){var h={};function m(d){if(h[d])return h[d].exports;var o=h[d]={exports:{},id:d,loaded:!1};return w[d].call(o.exports,o,o.exports,m),o.loaded=!0,o.exports}return m.m=w,m.c=h,m.p="",m(0)}([function(w,h,m){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 */var d=m(1);h.constants=d;var o=m(3);h.conversion=o;var s=m(12);h.distance=s;var n=m(20);h.palette=n;var t=m(30);h.image=t;var e=m(35);h.quality=e;var a=m(37);h.utils=a},function(w,h,m){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * constants.ts - part of Image Quantization Library
 */var d=m(2);h.bt709=d},function(w,h){var m;(function(s){s[s.RED=.2126]="RED",s[s.GREEN=.7152]="GREEN",s[s.BLUE=.0722]="BLUE",s[s.WHITE=1]="WHITE"})(m||(m={})),h.Y=m;var d;(function(s){s[s.RED=.64]="RED",s[s.GREEN=.3]="GREEN",s[s.BLUE=.15]="BLUE",s[s.WHITE=.3127]="WHITE"})(d||(d={})),h.x=d;var o;(function(s){s[s.RED=.33]="RED",s[s.GREEN=.6]="GREEN",s[s.BLUE=.06]="BLUE",s[s.WHITE=.329]="WHITE"})(o||(o={})),h.y=o},function(w,h,m){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 */var d=m(4);h.rgb2xyz=d.rgb2xyz;var o=m(5);h.rgb2hsl=o.rgb2hsl;var s=m(7);h.rgb2lab=s.rgb2lab;var n=m(9);h.lab2xyz=n.lab2xyz;var t=m(10);h.lab2rgb=t.lab2rgb;var e=m(8);h.xyz2lab=e.xyz2lab;var a=m(11);h.xyz2rgb=a.xyz2rgb},function(w,h){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2xyz.ts - part of Image Quantization Library
 */function m(o){return o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92}function d(o,s,n){return o=m(o/255),s=m(s/255),n=m(n/255),{x:o*.4124+s*.3576+n*.1805,y:o*.2126+s*.7152+n*.0722,z:o*.0193+s*.1192+n*.9505}}h.rgb2xyz=d},function(w,h,m){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2hsl.ts - part of Image Quantization Library
 */var d=m(6);function o(s,n,t){var e=d.min3(s,n,t),a=d.max3(s,n,t),l=a-e,i=(e+a)/510,f=0;i>0&&i<1&&(f=l/(i<.5?a+e:510-a-e));var r=0;return l>0&&(a===s?r=(n-t)/l:a===n?r=2+(t-s)/l:r=4+(s-n)/l,r*=60,r<0&&(r+=360)),{h:r,s:f,l:i}}h.rgb2hsl=o},function(w,h){function m(a){return a*(Math.PI/180)}h.degrees2radians=m;function d(a,l,i){var f=a;return f<l&&(f=l),f<i&&(f=i),f}h.max3=d;function o(a,l,i){var f=a;return f>l&&(f=l),f>i&&(f=i),f}h.min3=o;function s(a,l,i){return a>i&&(a=i),a<l&&(a=l),a|0}h.intInRange=s;function n(a){return a=Math.round(a),a>255?a=255:a<0&&(a=0),a}h.inRange0to255Rounded=n;function t(a){return a>255?a=255:a<0&&(a=0),a}h.inRange0to255=t;function e(a,l){var i=typeof a[0],f;if(i==="number"||i==="string"){for(var r=Object.create(null),u=0,c=a.length;u<c;u++){var v=a[u];r[v]||r[v]===0||(r[v]=u)}f=a.sort(function(b,x){return l(b,x)||r[b]-r[x]})}else{var g=a.slice(0);f=a.sort(function(b,x){return l(b,x)||g.indexOf(b)-g.indexOf(x)})}return f}h.stableSort=e},function(w,h,m){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2lab.ts - part of Image Quantization Library
 */var d=m(4),o=m(8);function s(n,t,e){var a=d.rgb2xyz(n,t,e);return o.xyz2lab(a.x,a.y,a.z)}h.rgb2lab=s},function(w,h){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * xyz2lab.ts - part of Image Quantization Library
 */var m=.95047,d=1,o=1.08883;function s(t){return t>.008856?Math.pow(t,1/3):7.787*t+16/116}function n(t,e,a){if(t=s(t/m),e=s(e/d),a=s(a/o),116*e-16<0)throw new Error("xxx");return{L:Math.max(0,116*e-16),a:500*(t-e),b:200*(e-a)}}h.xyz2lab=n},function(w,h){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * lab2xyz.ts - part of Image Quantization Library
 */var m=.95047,d=1,o=1.08883;function s(t){return t>.206893034?Math.pow(t,3):(t-16/116)/7.787}function n(t,e,a){var l=(t+16)/116,i=e/500+l,f=l-a/200;return{x:m*s(i),y:d*s(l),z:o*s(f)}}h.lab2xyz=n},function(w,h,m){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * lab2rgb.ts - part of Image Quantization Library
 */var d=m(9),o=m(11);function s(n,t,e){var a=d.lab2xyz(n,t,e);return o.xyz2rgb(a.x,a.y,a.z)}h.lab2rgb=s},function(w,h,m){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * xyz2rgb.ts - part of Image Quantization Library
 */var d=m(6);function o(n){return n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n}function s(n,t,e){var a=o(n*3.2406+t*-1.5372+e*-.4986),l=o(n*-.9689+t*1.8758+e*.0415),i=o(n*.0557+t*-.204+e*1.057);return{r:d.inRange0to255Rounded(a*255),g:d.inRange0to255Rounded(l*255),b:d.inRange0to255Rounded(i*255)}}h.xyz2rgb=s},function(w,h,m){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 */var d=m(13);h.AbstractDistanceCalculator=d.AbstractDistanceCalculator;var o=m(14);h.CIE94Textiles=o.CIE94Textiles,h.CIE94GraphicArts=o.CIE94GraphicArts;var s=m(15);h.CIEDE2000=s.CIEDE2000;var n=m(16);h.CMETRIC=n.CMETRIC;var t=m(17);h.AbstractEuclidean=t.AbstractEuclidean,h.Euclidean=t.Euclidean,h.EuclideanRgbQuantWOAlpha=t.EuclideanRgbQuantWOAlpha,h.EuclideanRgbQuantWithAlpha=t.EuclideanRgbQuantWithAlpha;var e=m(18);h.AbstractManhattan=e.AbstractManhattan,h.Manhattan=e.Manhattan,h.ManhattanSRGB=e.ManhattanSRGB,h.ManhattanNommyde=e.ManhattanNommyde;var a=m(19);h.PNGQUANT=a.PNGQUANT},function(w,h){var m=function(){function d(){this._setDefaults(),this.setWhitePoint(255,255,255,255)}return d.prototype.setWhitePoint=function(o,s,n,t){this._whitePoint={r:o>0?255/o:0,g:s>0?255/s:0,b:n>0?255/n:0,a:t>0?255/t:0},this._maxDistance=this.calculateRaw(o,s,n,t,0,0,0,0)},d.prototype.calculateNormalized=function(o,s){return this.calculateRaw(o.r,o.g,o.b,o.a,s.r,s.g,s.b,s.a)/this._maxDistance},d.prototype._setDefaults=function(){},d}();h.AbstractDistanceCalculator=m},function(w,h,m){var d=this&&this.__extends||function(l,i){for(var f in i)i.hasOwnProperty(f)&&(l[f]=i[f]);function r(){this.constructor=l}l.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)};/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * cie94.ts - part of Image Quantization Library
 */var o=m(13),s=m(7),n=m(6),t=function(l){d(i,l);function i(){l.apply(this,arguments)}return i.prototype.calculateRaw=function(f,r,u,c,v,g,b,x){var E=s.rgb2lab(n.inRange0to255(f*this._whitePoint.r),n.inRange0to255(r*this._whitePoint.g),n.inRange0to255(u*this._whitePoint.b)),S=s.rgb2lab(n.inRange0to255(v*this._whitePoint.r),n.inRange0to255(g*this._whitePoint.g),n.inRange0to255(b*this._whitePoint.b)),A=E.L-S.L,F=E.a-S.a,M=E.b-S.b,z=Math.sqrt(E.a*E.a+E.b*E.b),U=Math.sqrt(S.a*S.a+S.b*S.b),I=z-U,O=F*F+M*M-I*I;O=O<0?0:Math.sqrt(O);var B=(x-c)*this._whitePoint.a*this._kA;return Math.sqrt(Math.pow(A/this._Kl,2)+Math.pow(I/(1+this._K1*z),2)+Math.pow(O/(1+this._K2*z),2)+Math.pow(B,2))},i}(o.AbstractDistanceCalculator);h.AbstractCIE94=t;var e=function(l){d(i,l);function i(){l.apply(this,arguments)}return i.prototype._setDefaults=function(){this._Kl=2,this._K1=.048,this._K2=.014,this._kA=.25*50/255},i}(t);h.CIE94Textiles=e;var a=function(l){d(i,l);function i(){l.apply(this,arguments)}return i.prototype._setDefaults=function(){this._Kl=1,this._K1=.045,this._K2=.015,this._kA=.25*100/255},i}(t);h.CIE94GraphicArts=a},function(w,h,m){var d=this&&this.__extends||function(e,a){for(var l in a)a.hasOwnProperty(l)&&(e[l]=a[l]);function i(){this.constructor=e}e.prototype=a===null?Object.create(a):(i.prototype=a.prototype,new i)};/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * ciede2000.ts - part of Image Quantization Library
 */var o=m(13),s=m(7),n=m(6),t=function(e){d(a,e);function a(){e.apply(this,arguments)}return a.prototype.calculateRaw=function(l,i,f,r,u,c,v,g){var b=s.rgb2lab(n.inRange0to255(l*this._whitePoint.r),n.inRange0to255(i*this._whitePoint.g),n.inRange0to255(f*this._whitePoint.b)),x=s.rgb2lab(n.inRange0to255(u*this._whitePoint.r),n.inRange0to255(c*this._whitePoint.g),n.inRange0to255(v*this._whitePoint.b)),E=(g-r)*this._whitePoint.a*a._kA,S=this.calculateRawInLab(b,x);return Math.sqrt(S+E*E)},a.prototype.calculateRawInLab=function(l,i){var f=l.L,r=l.a,u=l.b,c=i.L,v=i.a,g=i.b,b=Math.sqrt(r*r+u*u),x=Math.sqrt(v*v+g*g),E=Math.pow((b+x)/2,7),S=.5*(1-Math.sqrt(E/(E+a._pow25to7))),A=(1+S)*r,F=(1+S)*v,M=Math.sqrt(A*A+u*u),z=Math.sqrt(F*F+g*g),U=M*z,I=a._calculatehp(u,A),O=a._calculatehp(g,F),B=Math.abs(I-O),Y=c-f,q=z-M,ie=a._calculate_dHp(U,B,O,I),ee=a._calculate_ahp(U,B,I,O),G=a._calculateT(ee),V=(M+z)/2,W=Math.pow((f+c)/2-50,2),Q=1+.015*W/Math.sqrt(20+W),oe=1+.045*V,ve=1+.015*G*V,fe=a._calculateRT(ee,V),de=Y/Q,be=q/oe,le=ie/ve;return Math.pow(de,2)+Math.pow(be,2)+Math.pow(le,2)+fe*be*le},a._calculatehp=function(l,i){var f=Math.atan2(l,i);return f>=0?f:f+a._deg360InRad},a._calculateRT=function(l,i){var f=Math.pow(i,7),r=2*Math.sqrt(f/(f+a._pow25to7)),u=a._deg30InRad*Math.exp(-Math.pow((l-a._deg275InRad)/a._deg25InRad,2));return-Math.sin(2*u)*r},a._calculateT=function(l){return 1-.17*Math.cos(l-a._deg30InRad)+.24*Math.cos(l*2)+.32*Math.cos(l*3+a._deg6InRad)-.2*Math.cos(l*4-a._deg63InRad)},a._calculate_ahp=function(l,i,f,r){var u=f+r;return l==0?u:i<=a._deg180InRad?u/2:u<a._deg360InRad?(u+a._deg360InRad)/2:(u-a._deg360InRad)/2},a._calculate_dHp=function(l,i,f,r){var u;return l==0?u=0:i<=a._deg180InRad?u=f-r:f<=r?u=f-r+a._deg360InRad:u=f-r-a._deg360InRad,2*Math.sqrt(l)*Math.sin(u/2)},a._kA=.25*100/255,a._pow25to7=Math.pow(25,7),a._deg360InRad=n.degrees2radians(360),a._deg180InRad=n.degrees2radians(180),a._deg30InRad=n.degrees2radians(30),a._deg6InRad=n.degrees2radians(6),a._deg63InRad=n.degrees2radians(63),a._deg275InRad=n.degrees2radians(275),a._deg25InRad=n.degrees2radians(25),a}(o.AbstractDistanceCalculator);h.CIEDE2000=t},function(w,h,m){var d=this&&this.__extends||function(n,t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);function a(){this.constructor=n}n.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)};/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * cmetric.ts - part of Image Quantization Library
 */var o=m(13),s=function(n){d(t,n);function t(){n.apply(this,arguments)}return t.prototype.calculateRaw=function(e,a,l,i,f,r,u,c){var v=(e+f)/2*this._whitePoint.r,g=(e-f)*this._whitePoint.r,b=(a-r)*this._whitePoint.g,x=(l-u)*this._whitePoint.b,E=((512+v)*g*g>>8)+4*b*b+((767-v)*x*x>>8),S=(c-i)*this._whitePoint.a;return Math.sqrt(E+S*S)},t}(o.AbstractDistanceCalculator);h.CMETRIC=s},function(w,h,m){var d=this&&this.__extends||function(l,i){for(var f in i)i.hasOwnProperty(f)&&(l[f]=i[f]);function r(){this.constructor=l}l.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)};/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * euclidean.ts - part of Image Quantization Library
 */var o=m(13),s=m(2),n=function(l){d(i,l);function i(){l.apply(this,arguments)}return i.prototype.calculateRaw=function(f,r,u,c,v,g,b,x){var E=v-f,S=g-r,A=b-u,F=x-c;return Math.sqrt(this._kR*E*E+this._kG*S*S+this._kB*A*A+this._kA*F*F)},i}(o.AbstractDistanceCalculator);h.AbstractEuclidean=n;var t=function(l){d(i,l);function i(){l.apply(this,arguments)}return i.prototype._setDefaults=function(){this._kR=1,this._kG=1,this._kB=1,this._kA=1},i}(n);h.Euclidean=t;var e=function(l){d(i,l);function i(){l.apply(this,arguments)}return i.prototype._setDefaults=function(){this._kR=s.Y.RED,this._kG=s.Y.GREEN,this._kB=s.Y.BLUE,this._kA=1},i}(n);h.EuclideanRgbQuantWithAlpha=e;var a=function(l){d(i,l);function i(){l.apply(this,arguments)}return i.prototype._setDefaults=function(){this._kR=s.Y.RED,this._kG=s.Y.GREEN,this._kB=s.Y.BLUE,this._kA=0},i}(n);h.EuclideanRgbQuantWOAlpha=a},function(w,h,m){var d=this&&this.__extends||function(l,i){for(var f in i)i.hasOwnProperty(f)&&(l[f]=i[f]);function r(){this.constructor=l}l.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)};/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * manhattanNeuQuant.ts - part of Image Quantization Library
 */var o=m(13),s=m(2),n=function(l){d(i,l);function i(){l.apply(this,arguments)}return i.prototype.calculateRaw=function(f,r,u,c,v,g,b,x){var E=v-f,S=g-r,A=b-u,F=x-c;return E<0&&(E=0-E),S<0&&(S=0-S),A<0&&(A=0-A),F<0&&(F=0-F),this._kR*E+this._kG*S+this._kB*A+this._kA*F},i}(o.AbstractDistanceCalculator);h.AbstractManhattan=n;var t=function(l){d(i,l);function i(){l.apply(this,arguments)}return i.prototype._setDefaults=function(){this._kR=1,this._kG=1,this._kB=1,this._kA=1},i}(n);h.Manhattan=t;var e=function(l){d(i,l);function i(){l.apply(this,arguments)}return i.prototype._setDefaults=function(){this._kR=.4984,this._kG=.8625,this._kB=.2979,this._kA=1},i}(n);h.ManhattanNommyde=e;var a=function(l){d(i,l);function i(){l.apply(this,arguments)}return i.prototype._setDefaults=function(){this._kR=s.Y.RED,this._kG=s.Y.GREEN,this._kB=s.Y.BLUE,this._kA=1},i}(n);h.ManhattanSRGB=a},function(w,h,m){var d=this&&this.__extends||function(n,t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);function a(){this.constructor=n}n.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)};/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * pngQuant.ts - part of Image Quantization Library
 */var o=m(13),s=function(n){d(t,n);function t(){n.apply(this,arguments)}return t.prototype.calculateRaw=function(e,a,l,i,f,r,u,c){var v=(c-i)*this._whitePoint.a;return this._colordifference_ch(e*this._whitePoint.r,f*this._whitePoint.r,v)+this._colordifference_ch(a*this._whitePoint.g,r*this._whitePoint.g,v)+this._colordifference_ch(l*this._whitePoint.b,u*this._whitePoint.b,v)},t.prototype._colordifference_ch=function(e,a,l){var i=e-a,f=i+l;return i*i+f*f},t}(o.AbstractDistanceCalculator);h.PNGQUANT=s},function(w,h,m){var d=m(21);h.NeuQuant=d.NeuQuant;var o=m(25);h.NeuQuantFloat=o.NeuQuantFloat;var s=m(26);h.RGBQuant=s.RGBQuant;var n=m(27);h.ColorHistogram=n.ColorHistogram;var t=m(29);h.WuQuant=t.WuQuant,h.WuColorCube=t.WuColorCube},function(w,h,m){/**
 * @preserve TypeScript port:
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * neuquant.ts - part of Image Quantization Library
 */var d=m(22),o=m(24),s=3,n=function(){function e(a){this.r=this.g=this.b=this.a=a}return e.prototype.toPoint=function(){return o.Point.createByRGBA(this.r>>s,this.g>>s,this.b>>s,this.a>>s)},e.prototype.subtract=function(a,l,i,f){this.r-=a|0,this.g-=l|0,this.b-=i|0,this.a-=f|0},e}(),t=function(){function e(a,l){l===void 0&&(l=256),this._distance=a,this._pointArray=[],this._sampleFactor=1,this._networkSize=l,this._distance.setWhitePoint(255<<s,255<<s,255<<s,255<<s)}return e.prototype.sample=function(a){this._pointArray=this._pointArray.concat(a.getPointArray())},e.prototype.quantize=function(){return this._init(),this._learn(),this._buildPalette()},e.prototype._init=function(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(var a=0;a<this._networkSize;a++)this._network[a]=new n((a<<s+8)/this._networkSize|0),this._freq[a]=e._initialBias/this._networkSize|0,this._bias[a]=0},e.prototype._learn=function(){var a=this._sampleFactor,l=this._pointArray.length;l<e._minpicturebytes&&(a=1);var i=30+(a-1)/3|0,f=l/a|0,r=f/e._nCycles|0,u=e._initAlpha,c=(this._networkSize>>3)*e._radiusBias,v=c>>e._radiusBiasShift;v<=1&&(v=0);for(var g=0;g<v;g++)this._radPower[g]=u*((v*v-g*g)*e._radBias/(v*v))>>>0;var b;l<e._minpicturebytes?b=1:l%e._prime1!=0?b=e._prime1:l%e._prime2!=0?b=e._prime2:l%e._prime3!=0?b=e._prime3:b=e._prime4;for(var g=0,x=0;g<f;){var E=this._pointArray[x],S=E.b<<s,A=E.g<<s,F=E.r<<s,M=E.a<<s,z=this._contest(S,A,F,M);if(this._alterSingle(u,z,S,A,F,M),v!==0&&this._alterNeighbour(v,z,S,A,F,M),x+=b,x>=l&&(x-=l),g++,r===0&&(r=1),g%r===0){u-=u/i|0,c-=c/e._radiusDecrease|0,v=c>>e._radiusBiasShift,v<=1&&(v=0);for(var U=0;U<v;U++)this._radPower[U]=u*((v*v-U*U)*e._radBias/(v*v))>>>0}}},e.prototype._buildPalette=function(){var a=new d.Palette;return this._network.forEach(function(l){a.add(l.toPoint())}),a.sort(),a},e.prototype._alterNeighbour=function(a,l,i,f,r,u){var c=l-a;c<-1&&(c=-1);var v=l+a;v>this._networkSize&&(v=this._networkSize);for(var g=l+1,b=l-1,x=1;g<v||b>c;){var E=this._radPower[x++]/e._alphaRadBias;if(g<v){var S=this._network[g++];S.subtract(E*(S.r-r),E*(S.g-f),E*(S.b-i),E*(S.a-u))}if(b>c){var S=this._network[b--];S.subtract(E*(S.r-r),E*(S.g-f),E*(S.b-i),E*(S.a-u))}}},e.prototype._alterSingle=function(a,l,i,f,r,u){a/=e._initAlpha;var c=this._network[l];c.subtract(a*(c.r-r),a*(c.g-f),a*(c.b-i),a*(c.a-u))},e.prototype._contest=function(a,l,i,f){for(var r=1020<<s,u=~(1<<31),c=u,v=-1,g=v,b=0;b<this._networkSize;b++){var x=this._network[b],E=this._distance.calculateNormalized(x,{r:i,g:l,b:a,a:f})*r|0;E<u&&(u=E,v=b);var S=E-(this._bias[b]>>e._initialBiasShift-s);S<c&&(c=S,g=b);var A=this._freq[b]>>e._betaShift;this._freq[b]-=A,this._bias[b]+=A<<e._gammaShift}return this._freq[v]+=e._beta,this._bias[v]-=e._betaGamma,g},e._prime1=499,e._prime2=491,e._prime3=487,e._prime4=503,e._minpicturebytes=e._prime4,e._nCycles=100,e._initialBiasShift=16,e._initialBias=1<<e._initialBiasShift,e._gammaShift=10,e._betaShift=10,e._beta=e._initialBias>>e._betaShift,e._betaGamma=e._initialBias<<e._gammaShift-e._betaShift,e._radiusBiasShift=6,e._radiusBias=1<<e._radiusBiasShift,e._radiusDecrease=30,e._alphaBiasShift=10,e._initAlpha=1<<e._alphaBiasShift,e._radBiasShift=8,e._radBias=1<<e._radBiasShift,e._alphaRadBiasShift=e._alphaBiasShift+e._radBiasShift,e._alphaRadBias=1<<e._alphaRadBiasShift,e}();h.NeuQuant=t},function(w,h,m){var d=m(23),o=m(5),s=10;function n(e,a){for(var l=360,i=l/a,f=i/2,r=1,u=i-f;r<a;r++,u+=i)if(e>=u&&e<u+i)return r;return 0}h.hueGroup=n;var t=function(){function e(){this._pointArray=[],this._i32idx={},this._pointContainer=new d.PointContainer,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}return e.prototype.add=function(a){this._pointArray.push(a),this._pointContainer.setWidth(this._pointArray.length)},e.prototype.has=function(a){for(var l=this._pointArray.length-1;l>=0;l--)if(a.uint32===this._pointArray[l].uint32)return!0;return!1},e.prototype.getNearestColor=function(a,l){return this._pointArray[this.getNearestIndex(a,l)|0]},e.prototype.getPointContainer=function(){return this._pointContainer},e.prototype._nearestPointFromCache=function(a){return typeof this._i32idx[a]=="number"?this._i32idx[a]:-1},e.prototype.getNearestIndex=function(a,l){var i=this._nearestPointFromCache(""+l.uint32);if(i>=0)return i;var f=Number.MAX_VALUE;i=0;for(var r=0,u=this._pointArray.length;r<u;r++){var c=this._pointArray[r],v=a.calculateRaw(l.r,l.g,l.b,l.a,c.r,c.g,c.b,c.a);v<f&&(f=v,i=r)}return this._i32idx[l.uint32]=i,i},e.prototype.sort=function(){this._i32idx={},this._pointArray.sort(function(a,l){var i=o.rgb2hsl(a.r,a.g,a.b),f=o.rgb2hsl(l.r,l.g,l.b),r=a.r===a.g&&a.g===a.b?0:1+n(i.h,s),u=l.r===l.g&&l.g===l.b?0:1+n(f.h,s),c=u-r;if(c)return-c;var v=a.getLuminosity(!0),g=l.getLuminosity(!0);if(g-v!==0)return g-v;var b=(f.s*100|0)-(i.s*100|0);return b?-b:0})},e}();h.Palette=t},function(w,h,m){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * pointContainer.ts - part of Image Quantization Library
 */var d=m(24),o=function(){function s(){this._width=0,this._height=0,this._pointArray=[]}return s.prototype.getWidth=function(){return this._width},s.prototype.getHeight=function(){return this._height},s.prototype.setWidth=function(n){this._width=n},s.prototype.setHeight=function(n){this._height=n},s.prototype.getPointArray=function(){return this._pointArray},s.prototype.clone=function(){var n=new s;n._width=this._width,n._height=this._height;for(var t=0,e=this._pointArray.length;t<e;t++)n._pointArray[t]=d.Point.createByUint32(this._pointArray[t].uint32|0);return n},s.prototype.toUint32Array=function(){for(var n=this._pointArray.length,t=new Uint32Array(n),e=0;e<n;e++)t[e]=this._pointArray[e].uint32;return t},s.prototype.toUint8Array=function(){return new Uint8Array(this.toUint32Array().buffer)},s.fromHTMLImageElement=function(n){var t=n.naturalWidth,e=n.naturalHeight,a=document.createElement("canvas");a.width=t,a.height=e;var l=a.getContext("2d");return l.drawImage(n,0,0,t,e,0,0,t,e),s.fromHTMLCanvasElement(a)},s.fromHTMLCanvasElement=function(n){var t=n.width,e=n.height,a=n.getContext("2d"),l=a.getImageData(0,0,t,e);return s.fromImageData(l)},s.fromNodeCanvas=function(n){return s.fromHTMLCanvasElement(n)},s.fromImageData=function(n){var t=n.width,e=n.height;return s.fromCanvasPixelArray(n.data,t,e)},s.fromArray=function(n,t,e){var a=new Uint8Array(n);return s.fromUint8Array(a,t,e)},s.fromCanvasPixelArray=function(n,t,e){return s.fromArray(n,t,e)},s.fromUint8Array=function(n,t,e){return s.fromUint32Array(new Uint32Array(n.buffer),t,e)},s.fromUint32Array=function(n,t,e){var a=new s;a._width=t,a._height=e;for(var l=0,i=n.length;l<i;l++)a._pointArray[l]=d.Point.createByUint32(n[l]|0);return a},s}();h.PointContainer=o},function(w,h,m){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * point.ts - part of Image Quantization Library
 */var d=m(2),o=function(){function s(){this.uint32=-1>>>0,this.r=this.g=this.b=this.a=0,this.rgba=new Array(4),this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}return s.createByQuadruplet=function(n){var t=new s;return t.r=n[0]|0,t.g=n[1]|0,t.b=n[2]|0,t.a=n[3]|0,t._loadUINT32(),t._loadQuadruplet(),t},s.createByRGBA=function(n,t,e,a){var l=new s;return l.r=n|0,l.g=t|0,l.b=e|0,l.a=a|0,l._loadUINT32(),l._loadQuadruplet(),l},s.createByUint32=function(n){var t=new s;return t.uint32=n>>>0,t._loadRGBA(),t._loadQuadruplet(),t},s.prototype.from=function(n){this.r=n.r,this.g=n.g,this.b=n.b,this.a=n.a,this.uint32=n.uint32,this.rgba[0]=n.r,this.rgba[1]=n.g,this.rgba[2]=n.b,this.rgba[3]=n.a},s.prototype.getLuminosity=function(n){var t=this.r,e=this.g,a=this.b;return n&&(t=Math.min(255,255-this.a+this.a*t/255),e=Math.min(255,255-this.a+this.a*e/255),a=Math.min(255,255-this.a+this.a*a/255)),t*d.Y.RED+e*d.Y.GREEN+a*d.Y.BLUE},s.prototype._loadUINT32=function(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0},s.prototype._loadRGBA=function(){this.r=this.uint32&255,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255},s.prototype._loadQuadruplet=function(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a},s}();h.Point=o},function(w,h,m){/**
 * @preserve TypeScript port:
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * neuquant.ts - part of Image Quantization Library
 */var d=m(22),o=m(24),s=3,n=function(){function e(a){this.r=this.g=this.b=this.a=a}return e.prototype.toPoint=function(){return o.Point.createByRGBA(this.r>>s,this.g>>s,this.b>>s,this.a>>s)},e.prototype.subtract=function(a,l,i,f){this.r-=a,this.g-=l,this.b-=i,this.a-=f},e}(),t=function(){function e(a,l){l===void 0&&(l=256),this._distance=a,this._pointArray=[],this._sampleFactor=1,this._networkSize=l,this._distance.setWhitePoint(255<<s,255<<s,255<<s,255<<s)}return e.prototype.sample=function(a){this._pointArray=this._pointArray.concat(a.getPointArray())},e.prototype.quantize=function(){return this._init(),this._learn(),this._buildPalette()},e.prototype._init=function(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(var a=0;a<this._networkSize;a++)this._network[a]=new n((a<<s+8)/this._networkSize),this._freq[a]=e._initialBias/this._networkSize,this._bias[a]=0},e.prototype._learn=function(){var a=this._sampleFactor,l=this._pointArray.length;l<e._minpicturebytes&&(a=1);var i=30+(a-1)/3,f=l/a,r=f/e._nCycles|0,u=e._initAlpha,c=(this._networkSize>>3)*e._radiusBias,v=c>>e._radiusBiasShift;v<=1&&(v=0);for(var g=0;g<v;g++)this._radPower[g]=u*((v*v-g*g)*e._radBias/(v*v));var b;l<e._minpicturebytes?b=1:l%e._prime1!=0?b=e._prime1:l%e._prime2!=0?b=e._prime2:l%e._prime3!=0?b=e._prime3:b=e._prime4;for(var g=0,x=0;g<f;){var E=this._pointArray[x],S=E.b<<s,A=E.g<<s,F=E.r<<s,M=E.a<<s,z=this._contest(S,A,F,M);if(this._alterSingle(u,z,S,A,F,M),v!=0&&this._alterNeighbour(v,z,S,A,F,M),x+=b,x>=l&&(x-=l),g++,r==0&&(r=1),g%r==0){u-=u/i,c-=c/e._radiusDecrease,v=c>>e._radiusBiasShift,v<=1&&(v=0);for(var U=0;U<v;U++)this._radPower[U]=u*((v*v-U*U)*e._radBias/(v*v))}}},e.prototype._buildPalette=function(){var a=new d.Palette;return this._network.forEach(function(l){a.add(l.toPoint())}),a.sort(),a},e.prototype._alterNeighbour=function(a,l,i,f,r,u){var c=l-a;c<-1&&(c=-1);var v=l+a;v>this._networkSize&&(v=this._networkSize);for(var g=l+1,b=l-1,x=1;g<v||b>c;){var E=this._radPower[x++]/e._alphaRadBias;if(g<v){var S=this._network[g++];S.subtract(E*(S.r-r),E*(S.g-f),E*(S.b-i),E*(S.a-u))}if(b>c){var S=this._network[b--];S.subtract(E*(S.r-r),E*(S.g-f),E*(S.b-i),E*(S.a-u))}}},e.prototype._alterSingle=function(a,l,i,f,r,u){a/=e._initAlpha;var c=this._network[l];c.subtract(a*(c.r-r),a*(c.g-f),a*(c.b-i),a*(c.a-u))},e.prototype._contest=function(a,l,i,f){for(var r=1020<<s,u=~(1<<31),c=u,v=-1,g=v,b=0;b<this._networkSize;b++){var x=this._network[b],E=this._distance.calculateNormalized(x,{r:i,g:l,b:a,a:f})*r;E<u&&(u=E,v=b);var S=E-(this._bias[b]>>e._initialBiasShift-s);S<c&&(c=S,g=b);var A=this._freq[b]>>e._betaShift;this._freq[b]-=A,this._bias[b]+=A<<e._gammaShift}return this._freq[v]+=e._beta,this._bias[v]-=e._betaGamma,g},e._prime1=499,e._prime2=491,e._prime3=487,e._prime4=503,e._minpicturebytes=e._prime4,e._nCycles=100,e._initialBiasShift=16,e._initialBias=1<<e._initialBiasShift,e._gammaShift=10,e._betaShift=10,e._beta=e._initialBias>>e._betaShift,e._betaGamma=e._initialBias<<e._gammaShift-e._betaShift,e._radiusBiasShift=6,e._radiusBias=1<<e._radiusBiasShift,e._radiusDecrease=30,e._alphaBiasShift=10,e._initAlpha=1<<e._alphaBiasShift,e._radBiasShift=8,e._radBias=1<<e._radBiasShift,e._alphaRadBiasShift=e._alphaBiasShift+e._radBiasShift,e._alphaRadBias=1<<e._alphaRadBiasShift,e}();h.NeuQuantFloat=t},function(w,h,m){/**
 * @preserve TypeScript port:
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgbquant.ts - part of Image Quantization Library
 */var d=m(22),o=m(24),s=m(27),n=m(6),t=function(){function a(l,i,f){this.index=l,this.color=i,this.distance=f}return a}(),e=function(){function a(l,i,f){i===void 0&&(i=256),f===void 0&&(f=2),this._distance=l,this._colors=i,this._histogram=new s.ColorHistogram(f,i),this._initialDistance=.01,this._distanceIncrement=.005}return a.prototype.sample=function(l){this._histogram.sample(l)},a.prototype.quantize=function(){var l=this._histogram.getImportanceSortedColorsIDXI32();if(l.length===0)throw new Error("No colors in image");var i=this._buildPalette(l);return i.sort(),i},a.prototype._buildPalette=function(l){for(var i=new d.Palette,f=i.getPointContainer().getPointArray(),r=new Array(l.length),u=0;u<l.length;u++)f.push(o.Point.createByUint32(l[u])),r[u]=1;for(var c=f.length,v=[],g=c,b=this._initialDistance;g>this._colors;){v.length=0;for(var u=0;u<c;u++)if(r[u]!==0){for(var x=f[u],E=u+1;E<c;E++)if(r[E]!==0){var S=f[E],A=this._distance.calculateNormalized(x,S);A<b&&(v.push(new t(E,S,A)),r[E]=0,g--)}}b+=g>this._colors*3?this._initialDistance:this._distanceIncrement}if(g<this._colors){n.stableSort(v,function(I,O){return O.distance-I.distance});for(var F=0;g<this._colors&&F<v.length;){var M=v[F];r[M.index]=1,g++,F++}}for(var z=f.length,U=z-1;U>=0;U--)r[U]===0&&(U!==z-1&&(f[U]=f[z-1]),--z);return f.length=z,i},a}();h.RGBQuant=e},function(w,h,m){/**
 * @preserve TypeScript port:
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * colorHistogram.ts - part of Image Quantization Library
 */var d=m(28),o=m(6),s=function(){function n(t,e){this._method=t,this._minHueCols=e<<2,this._initColors=e<<2,this._hueStats=new d.HueStatistics(n._hueGroups,this._minHueCols),this._histogram=Object.create(null)}return n.prototype.sample=function(t){switch(this._method){case 1:this._colorStats1D(t);break;case 2:this._colorStats2D(t);break}},n.prototype.getImportanceSortedColorsIDXI32=function(){var t=this,e=o.stableSort(Object.keys(this._histogram),function(c,v){return t._histogram[v]-t._histogram[c]});if(e.length===0)return[];var a;switch(this._method){case 1:var l=Math.min(e.length,this._initColors),i=e[l-1],f=this._histogram[i];a=e.slice(0,l);for(var r=l,u=e.length;r<u&&this._histogram[e[r]]==f;)a.push(e[r++]);this._hueStats.injectIntoArray(a);break;case 2:a=e;break;default:throw new Error("Incorrect method")}return a.map(function(c){return+c})},n.prototype._colorStats1D=function(t){for(var e=this._histogram,a=t.getPointArray(),l=a.length,i=0;i<l;i++){var f=a[i].uint32;this._hueStats.check(f),f in e?e[f]++:e[f]=1}},n.prototype._colorStats2D=function(t){var e=this,a=t.getWidth(),l=t.getHeight(),i=t.getPointArray(),f=n._boxSize[0],r=n._boxSize[1],u=f*r,c=this._makeBoxes(a,l,f,r),v=this._histogram;c.forEach(function(g){var b=Math.round(g.w*g.h/u)*n._boxPixels;b<2&&(b=2);var x={};e._iterateBox(g,a,function(E){var S=i[E].uint32;e._hueStats.check(S),S in v?v[S]++:S in x?++x[S]>=b&&(v[S]=x[S]):x[S]=1})}),this._hueStats.injectIntoDictionary(v)},n.prototype._iterateBox=function(t,e,a){var l=t,i=l.y*e+l.x,f=(l.y+l.h-1)*e+(l.x+l.w-1),r=e-l.w+1,u=0,c=i;do a.call(this,c),c+=++u%l.w==0?r:1;while(c<=f)},n.prototype._makeBoxes=function(t,e,a,l){for(var i=t%a,f=e%l,r=t-i,u=e-f,c=[],v=0;v<e;v+=l)for(var g=0;g<t;g+=a)c.push({x:g,y:v,w:g==r?i:a,h:v==u?f:l});return c},n._boxSize=[64,64],n._boxPixels=2,n._hueGroups=10,n}();h.ColorHistogram=s},function(w,h,m){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * hueStatistics.ts - part of Image Quantization Library
 */var d=m(5),o=m(22),s=function(){function t(){this.num=0,this.cols=[]}return t}(),n=function(){function t(e,a){this._numGroups=e,this._minCols=a,this._stats=[];for(var l=0;l<=e;l++)this._stats[l]=new s;this._groupsFull=0}return t.prototype.check=function(e){this._groupsFull==this._numGroups+1&&(this.check=function(){});var a=e&255,l=e>>>8&255,i=e>>>16&255,f=a==l&&l==i?0:1+o.hueGroup(d.rgb2hsl(a,l,i).h,this._numGroups),r=this._stats[f],u=this._minCols;r.num++,!(r.num>u)&&(r.num==u&&this._groupsFull++,r.num<=u&&this._stats[f].cols.push(e))},t.prototype.injectIntoDictionary=function(e){for(var a=0;a<=this._numGroups;a++)this._stats[a].num<=this._minCols&&this._stats[a].cols.forEach(function(l){e[l]?e[l]++:e[l]=1})},t.prototype.injectIntoArray=function(e){for(var a=0;a<=this._numGroups;a++)this._stats[a].num<=this._minCols&&this._stats[a].cols.forEach(function(l){e.indexOf(l)==-1&&e.push(l)})},t}();h.HueStatistics=n},function(w,h,m){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * wuQuant.ts - part of Image Quantization Library
 */var d=m(22),o=m(24);function s(f){for(var r=[],u=0;u<f;u++)r[u]=0;return r}function n(f,r,u,c){for(var v=new Array(f),g=0;g<f;g++){v[g]=new Array(r);for(var b=0;b<r;b++){v[g][b]=new Array(u);for(var x=0;x<u;x++){v[g][b][x]=new Array(c);for(var E=0;E<c;E++)v[g][b][x][E]=0}}}return v}function t(f,r,u){for(var c=new Array(f),v=0;v<f;v++){c[v]=new Array(r);for(var g=0;g<r;g++){c[v][g]=new Array(u);for(var b=0;b<u;b++)c[v][g][b]=0}}return c}function e(f,r,u,c,v){for(var g=0;g<r;g++){f[g]=[];for(var b=0;b<u;b++){f[g][b]=[];for(var x=0;x<c;x++)f[g][b][x]=v}}}function a(f,r,u){for(var c=0;c<r;c++)f[c]=u}var l=function(){function f(){}return f}();h.WuColorCube=l;var i=function(){function f(r,u,c){u===void 0&&(u=256),c===void 0&&(c=5),this._distance=r,this._setQuality(c),this._initialize(u)}return f.prototype.sample=function(r){for(var u=r.getPointArray(),c=0,v=u.length;c<v;c++)this._addColor(u[c]);this._pixels=this._pixels.concat(u)},f.prototype.quantize=function(){this._preparePalette();for(var r=new d.Palette,u=0;u<this._colors;u++)if(this._sums[u]>0){var c=this._sums[u],v=this._reds[u]/c,g=this._greens[u]/c,b=this._blues[u]/c,x=this._alphas[u]/c,E=o.Point.createByRGBA(v|0,g|0,b|0,x|0);r.add(E)}return r.sort(),r},f.prototype._preparePalette=function(){this._calculateMoments();for(var r=0,u=s(this._colors),c=1;c<this._colors;++c){this._cut(this._cubes[r],this._cubes[c])?(u[r]=this._cubes[r].volume>1?this._calculateVariance(this._cubes[r]):0,u[c]=this._cubes[c].volume>1?this._calculateVariance(this._cubes[c]):0):(u[r]=0,c--),r=0;for(var v=u[0],g=1;g<=c;++g)u[g]>v&&(v=u[g],r=g);if(v<=0){this._colors=c+1;break}}for(var b=[],x=[],E=[],S=[],A=0;A<this._colors;++A){var F=f._volume(this._cubes[A],this._weights);F>0?(b[A]=f._volume(this._cubes[A],this._momentsRed)/F|0,x[A]=f._volume(this._cubes[A],this._momentsGreen)/F|0,E[A]=f._volume(this._cubes[A],this._momentsBlue)/F|0,S[A]=f._volume(this._cubes[A],this._momentsAlpha)/F|0):(b[A]=0,x[A]=0,E[A]=0,S[A]=0)}this._reds=s(this._colors+1),this._greens=s(this._colors+1),this._blues=s(this._colors+1),this._alphas=s(this._colors+1),this._sums=s(this._colors+1);for(var g=0,M=this._pixels.length;g<M;g++){for(var z=this._pixels[g],U=-1,I=U,O=Number.MAX_VALUE,B=0;B<this._colors;B++){var Y=b[B],q=x[B],ie=E[B],ee=S[B],G=this._distance.calculateRaw(Y,q,ie,ee,z.r,z.g,z.b,z.a);G<O&&(O=G,I=B)}this._reds[I]+=z.r,this._greens[I]+=z.g,this._blues[I]+=z.b,this._alphas[I]+=z.a,this._sums[I]++}},f.prototype._addColor=function(r){var u=8-this._significantBitsPerChannel,c=(r.r>>u)+1,v=(r.g>>u)+1,g=(r.b>>u)+1,b=(r.a>>u)+1;this._weights[b][c][v][g]++,this._momentsRed[b][c][v][g]+=r.r,this._momentsGreen[b][c][v][g]+=r.g,this._momentsBlue[b][c][v][g]+=r.b,this._momentsAlpha[b][c][v][g]+=r.a,this._moments[b][c][v][g]+=this._table[r.r]+this._table[r.g]+this._table[r.b]+this._table[r.a]},f.prototype._calculateMoments=function(){for(var r=[],u=[],c=[],v=[],g=[],b=[],x=t(this._sideSize,this._sideSize,this._sideSize),E=t(this._sideSize,this._sideSize,this._sideSize),S=t(this._sideSize,this._sideSize,this._sideSize),A=t(this._sideSize,this._sideSize,this._sideSize),F=t(this._sideSize,this._sideSize,this._sideSize),M=t(this._sideSize,this._sideSize,this._sideSize),z=1;z<=this._alphaMaxSideIndex;++z){e(x,this._sideSize,this._sideSize,this._sideSize,0),e(E,this._sideSize,this._sideSize,this._sideSize,0),e(S,this._sideSize,this._sideSize,this._sideSize,0),e(A,this._sideSize,this._sideSize,this._sideSize,0),e(F,this._sideSize,this._sideSize,this._sideSize,0),e(M,this._sideSize,this._sideSize,this._sideSize,0);for(var U=1;U<=this._maxSideIndex;++U){a(r,this._sideSize,0),a(u,this._sideSize,0),a(c,this._sideSize,0),a(v,this._sideSize,0),a(g,this._sideSize,0),a(b,this._sideSize,0);for(var I=1;I<=this._maxSideIndex;++I)for(var O=0,B=0,Y=0,q=0,ie=0,ee=0,G=1;G<=this._maxSideIndex;++G)O+=this._weights[z][U][I][G],B+=this._momentsRed[z][U][I][G],Y+=this._momentsGreen[z][U][I][G],q+=this._momentsBlue[z][U][I][G],ie+=this._momentsAlpha[z][U][I][G],ee+=this._moments[z][U][I][G],r[G]+=O,u[G]+=B,c[G]+=Y,v[G]+=q,g[G]+=ie,b[G]+=ee,x[U][I][G]=x[U-1][I][G]+r[G],E[U][I][G]=E[U-1][I][G]+u[G],S[U][I][G]=S[U-1][I][G]+c[G],A[U][I][G]=A[U-1][I][G]+v[G],F[U][I][G]=F[U-1][I][G]+g[G],M[U][I][G]=M[U-1][I][G]+b[G],this._weights[z][U][I][G]=this._weights[z-1][U][I][G]+x[U][I][G],this._momentsRed[z][U][I][G]=this._momentsRed[z-1][U][I][G]+E[U][I][G],this._momentsGreen[z][U][I][G]=this._momentsGreen[z-1][U][I][G]+S[U][I][G],this._momentsBlue[z][U][I][G]=this._momentsBlue[z-1][U][I][G]+A[U][I][G],this._momentsAlpha[z][U][I][G]=this._momentsAlpha[z-1][U][I][G]+F[U][I][G],this._moments[z][U][I][G]=this._moments[z-1][U][I][G]+M[U][I][G]}}},f._volumeFloat=function(r,u){return u[r.alphaMaximum][r.redMaximum][r.greenMaximum][r.blueMaximum]-u[r.alphaMaximum][r.redMaximum][r.greenMinimum][r.blueMaximum]-u[r.alphaMaximum][r.redMinimum][r.greenMaximum][r.blueMaximum]+u[r.alphaMaximum][r.redMinimum][r.greenMinimum][r.blueMaximum]-u[r.alphaMinimum][r.redMaximum][r.greenMaximum][r.blueMaximum]+u[r.alphaMinimum][r.redMaximum][r.greenMinimum][r.blueMaximum]+u[r.alphaMinimum][r.redMinimum][r.greenMaximum][r.blueMaximum]-u[r.alphaMinimum][r.redMinimum][r.greenMinimum][r.blueMaximum]-(u[r.alphaMaximum][r.redMaximum][r.greenMaximum][r.blueMinimum]-u[r.alphaMinimum][r.redMaximum][r.greenMaximum][r.blueMinimum]-u[r.alphaMaximum][r.redMaximum][r.greenMinimum][r.blueMinimum]+u[r.alphaMinimum][r.redMaximum][r.greenMinimum][r.blueMinimum]-u[r.alphaMaximum][r.redMinimum][r.greenMaximum][r.blueMinimum]+u[r.alphaMinimum][r.redMinimum][r.greenMaximum][r.blueMinimum]+u[r.alphaMaximum][r.redMinimum][r.greenMinimum][r.blueMinimum]-u[r.alphaMinimum][r.redMinimum][r.greenMinimum][r.blueMinimum])},f._volume=function(r,u){return f._volumeFloat(r,u)|0},f._top=function(r,u,c,v){var g;switch(u){case f.alpha:g=v[c][r.redMaximum][r.greenMaximum][r.blueMaximum]-v[c][r.redMaximum][r.greenMinimum][r.blueMaximum]-v[c][r.redMinimum][r.greenMaximum][r.blueMaximum]+v[c][r.redMinimum][r.greenMinimum][r.blueMaximum]-(v[c][r.redMaximum][r.greenMaximum][r.blueMinimum]-v[c][r.redMaximum][r.greenMinimum][r.blueMinimum]-v[c][r.redMinimum][r.greenMaximum][r.blueMinimum]+v[c][r.redMinimum][r.greenMinimum][r.blueMinimum]);break;case f.red:g=v[r.alphaMaximum][c][r.greenMaximum][r.blueMaximum]-v[r.alphaMaximum][c][r.greenMinimum][r.blueMaximum]-v[r.alphaMinimum][c][r.greenMaximum][r.blueMaximum]+v[r.alphaMinimum][c][r.greenMinimum][r.blueMaximum]-(v[r.alphaMaximum][c][r.greenMaximum][r.blueMinimum]-v[r.alphaMaximum][c][r.greenMinimum][r.blueMinimum]-v[r.alphaMinimum][c][r.greenMaximum][r.blueMinimum]+v[r.alphaMinimum][c][r.greenMinimum][r.blueMinimum]);break;case f.green:g=v[r.alphaMaximum][r.redMaximum][c][r.blueMaximum]-v[r.alphaMaximum][r.redMinimum][c][r.blueMaximum]-v[r.alphaMinimum][r.redMaximum][c][r.blueMaximum]+v[r.alphaMinimum][r.redMinimum][c][r.blueMaximum]-(v[r.alphaMaximum][r.redMaximum][c][r.blueMinimum]-v[r.alphaMaximum][r.redMinimum][c][r.blueMinimum]-v[r.alphaMinimum][r.redMaximum][c][r.blueMinimum]+v[r.alphaMinimum][r.redMinimum][c][r.blueMinimum]);break;case f.blue:g=v[r.alphaMaximum][r.redMaximum][r.greenMaximum][c]-v[r.alphaMaximum][r.redMaximum][r.greenMinimum][c]-v[r.alphaMaximum][r.redMinimum][r.greenMaximum][c]+v[r.alphaMaximum][r.redMinimum][r.greenMinimum][c]-(v[r.alphaMinimum][r.redMaximum][r.greenMaximum][c]-v[r.alphaMinimum][r.redMaximum][r.greenMinimum][c]-v[r.alphaMinimum][r.redMinimum][r.greenMaximum][c]+v[r.alphaMinimum][r.redMinimum][r.greenMinimum][c]);break;default:throw new Error("impossible")}return g|0},f._bottom=function(r,u,c){switch(u){case f.alpha:return-c[r.alphaMinimum][r.redMaximum][r.greenMaximum][r.blueMaximum]+c[r.alphaMinimum][r.redMaximum][r.greenMinimum][r.blueMaximum]+c[r.alphaMinimum][r.redMinimum][r.greenMaximum][r.blueMaximum]-c[r.alphaMinimum][r.redMinimum][r.greenMinimum][r.blueMaximum]-(-c[r.alphaMinimum][r.redMaximum][r.greenMaximum][r.blueMinimum]+c[r.alphaMinimum][r.redMaximum][r.greenMinimum][r.blueMinimum]+c[r.alphaMinimum][r.redMinimum][r.greenMaximum][r.blueMinimum]-c[r.alphaMinimum][r.redMinimum][r.greenMinimum][r.blueMinimum]);case f.red:return-c[r.alphaMaximum][r.redMinimum][r.greenMaximum][r.blueMaximum]+c[r.alphaMaximum][r.redMinimum][r.greenMinimum][r.blueMaximum]+c[r.alphaMinimum][r.redMinimum][r.greenMaximum][r.blueMaximum]-c[r.alphaMinimum][r.redMinimum][r.greenMinimum][r.blueMaximum]-(-c[r.alphaMaximum][r.redMinimum][r.greenMaximum][r.blueMinimum]+c[r.alphaMaximum][r.redMinimum][r.greenMinimum][r.blueMinimum]+c[r.alphaMinimum][r.redMinimum][r.greenMaximum][r.blueMinimum]-c[r.alphaMinimum][r.redMinimum][r.greenMinimum][r.blueMinimum]);case f.green:return-c[r.alphaMaximum][r.redMaximum][r.greenMinimum][r.blueMaximum]+c[r.alphaMaximum][r.redMinimum][r.greenMinimum][r.blueMaximum]+c[r.alphaMinimum][r.redMaximum][r.greenMinimum][r.blueMaximum]-c[r.alphaMinimum][r.redMinimum][r.greenMinimum][r.blueMaximum]-(-c[r.alphaMaximum][r.redMaximum][r.greenMinimum][r.blueMinimum]+c[r.alphaMaximum][r.redMinimum][r.greenMinimum][r.blueMinimum]+c[r.alphaMinimum][r.redMaximum][r.greenMinimum][r.blueMinimum]-c[r.alphaMinimum][r.redMinimum][r.greenMinimum][r.blueMinimum]);case f.blue:return-c[r.alphaMaximum][r.redMaximum][r.greenMaximum][r.blueMinimum]+c[r.alphaMaximum][r.redMaximum][r.greenMinimum][r.blueMinimum]+c[r.alphaMaximum][r.redMinimum][r.greenMaximum][r.blueMinimum]-c[r.alphaMaximum][r.redMinimum][r.greenMinimum][r.blueMinimum]-(-c[r.alphaMinimum][r.redMaximum][r.greenMaximum][r.blueMinimum]+c[r.alphaMinimum][r.redMaximum][r.greenMinimum][r.blueMinimum]+c[r.alphaMinimum][r.redMinimum][r.greenMaximum][r.blueMinimum]-c[r.alphaMinimum][r.redMinimum][r.greenMinimum][r.blueMinimum]);default:return 0}},f.prototype._calculateVariance=function(r){var u=f._volume(r,this._momentsRed),c=f._volume(r,this._momentsGreen),v=f._volume(r,this._momentsBlue),g=f._volume(r,this._momentsAlpha),b=f._volumeFloat(r,this._moments),x=f._volume(r,this._weights),E=u*u+c*c+v*v+g*g;return b-E/x},f.prototype._maximize=function(r,u,c,v,g,b,x,E,S){for(var A=f._bottom(r,u,this._momentsRed)|0,F=f._bottom(r,u,this._momentsGreen)|0,M=f._bottom(r,u,this._momentsBlue)|0,z=f._bottom(r,u,this._momentsAlpha)|0,U=f._bottom(r,u,this._weights)|0,I=0,O=-1,B=c;B<v;++B){var Y=A+f._top(r,u,B,this._momentsRed),q=F+f._top(r,u,B,this._momentsGreen),ie=M+f._top(r,u,B,this._momentsBlue),ee=z+f._top(r,u,B,this._momentsAlpha),G=U+f._top(r,u,B,this._weights);if(G!=0){var V=Y*Y+q*q+ie*ie+ee*ee,W=V/G;Y=g-Y,q=b-q,ie=x-ie,ee=E-ee,G=S-G,G!=0&&(V=Y*Y+q*q+ie*ie+ee*ee,W+=V/G,W>I&&(I=W,O=B))}}return{max:I,position:O}},f.prototype._cut=function(r,u){var c,v=f._volume(r,this._momentsRed),g=f._volume(r,this._momentsGreen),b=f._volume(r,this._momentsBlue),x=f._volume(r,this._momentsAlpha),E=f._volume(r,this._weights),S=this._maximize(r,f.red,r.redMinimum+1,r.redMaximum,v,g,b,x,E),A=this._maximize(r,f.green,r.greenMinimum+1,r.greenMaximum,v,g,b,x,E),F=this._maximize(r,f.blue,r.blueMinimum+1,r.blueMaximum,v,g,b,x,E),M=this._maximize(r,f.alpha,r.alphaMinimum+1,r.alphaMaximum,v,g,b,x,E);if(M.max>=S.max&&M.max>=A.max&&M.max>=F.max){if(c=f.alpha,M.position<0)return!1}else S.max>=M.max&&S.max>=A.max&&S.max>=F.max?c=f.red:A.max>=M.max&&A.max>=S.max&&A.max>=F.max?c=f.green:c=f.blue;switch(u.redMaximum=r.redMaximum,u.greenMaximum=r.greenMaximum,u.blueMaximum=r.blueMaximum,u.alphaMaximum=r.alphaMaximum,c){case f.red:u.redMinimum=r.redMaximum=S.position,u.greenMinimum=r.greenMinimum,u.blueMinimum=r.blueMinimum,u.alphaMinimum=r.alphaMinimum;break;case f.green:u.greenMinimum=r.greenMaximum=A.position,u.redMinimum=r.redMinimum,u.blueMinimum=r.blueMinimum,u.alphaMinimum=r.alphaMinimum;break;case f.blue:u.blueMinimum=r.blueMaximum=F.position,u.redMinimum=r.redMinimum,u.greenMinimum=r.greenMinimum,u.alphaMinimum=r.alphaMinimum;break;case f.alpha:u.alphaMinimum=r.alphaMaximum=M.position,u.blueMinimum=r.blueMinimum,u.redMinimum=r.redMinimum,u.greenMinimum=r.greenMinimum;break}return r.volume=(r.redMaximum-r.redMinimum)*(r.greenMaximum-r.greenMinimum)*(r.blueMaximum-r.blueMinimum)*(r.alphaMaximum-r.alphaMinimum),u.volume=(u.redMaximum-u.redMinimum)*(u.greenMaximum-u.greenMinimum)*(u.blueMaximum-u.blueMinimum)*(u.alphaMaximum-u.alphaMinimum),!0},f.prototype._initialize=function(r){this._colors=r,this._cubes=[];for(var u=0;u<r;u++)this._cubes[u]=new l;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=n(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=n(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=n(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=n(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=n(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=n(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(var c=0;c<256;++c)this._table[c]=c*c;this._pixels=[]},f.prototype._setQuality=function(r){r===void 0&&(r=5),this._significantBitsPerChannel=r,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1},f.alpha=3,f.red=2,f.green=1,f.blue=0,f}();h.WuQuant=i},function(w,h,m){var d=m(31);h.NearestColor=d.NearestColor;var o=m(32);h.ErrorDiffusionArray=o.ErrorDiffusionArray,h.ErrorDiffusionArrayKernel=o.ErrorDiffusionArrayKernel;var s=m(33);h.ErrorDiffusionRiemersma=s.ErrorDiffusionRiemersma},function(w,h){var m=function(){function d(o){this._distance=o}return d.prototype.quantize=function(o,s){for(var n=o.getPointArray(),t=o.getWidth(),e=o.getHeight(),a=0;a<e;a++)for(var l=0,i=a*t;l<t;l++,i++){var f=n[i];f.from(s.getNearestColor(this._distance,f))}return o},d}();h.NearestColor=m},function(w,h,m){var d=m(24),o=m(6);(function(t){t[t.FloydSteinberg=0]="FloydSteinberg",t[t.FalseFloydSteinberg=1]="FalseFloydSteinberg",t[t.Stucki=2]="Stucki",t[t.Atkinson=3]="Atkinson",t[t.Jarvis=4]="Jarvis",t[t.Burkes=5]="Burkes",t[t.Sierra=6]="Sierra",t[t.TwoSierra=7]="TwoSierra",t[t.SierraLite=8]="SierraLite"})(h.ErrorDiffusionArrayKernel||(h.ErrorDiffusionArrayKernel={}));var s=h.ErrorDiffusionArrayKernel,n=function(){function t(e,a,l,i,f){l===void 0&&(l=!0),i===void 0&&(i=0),f===void 0&&(f=!1),this._setKernel(a),this._distance=e,this._minColorDistance=i,this._serpentine=l,this._calculateErrorLikeGIMP=f}return t.prototype.quantize=function(e,a){for(var l=e.getPointArray(),i=new d.Point,f=e.getWidth(),r=e.getHeight(),u=[],c=1,v=1,g=0;g<this._kernel.length;g++){var b=this._kernel[g][2]+1;v<b&&(v=b)}for(var g=0;g<v;g++)this._fillErrorLine(u[g]=[],f);for(var x=0;x<r;x++){this._serpentine&&(c=c*-1);var E=x*f,S=c==1?0:f-1,A=c==1?f:-1;this._fillErrorLine(u[0],f),u.push(u.shift());for(var F=u[0],M=S,z=E+S;M!==A;M+=c,z+=c){var U=l[z],I=F[M];i.from(U);var O=d.Point.createByRGBA(o.inRange0to255Rounded(U.r+I[0]),o.inRange0to255Rounded(U.g+I[1]),o.inRange0to255Rounded(U.b+I[2]),o.inRange0to255Rounded(U.a+I[3])),B=a.getNearestColor(this._distance,O);if(U.from(B),this._minColorDistance){var Y=this._distance.calculateNormalized(U,B);if(Y<this._minColorDistance)continue}var q=void 0,ie=void 0,ee=void 0,G=void 0;this._calculateErrorLikeGIMP?(q=O.r-B.r,ie=O.g-B.g,ee=O.b-B.b,G=O.a-B.a):(q=i.r-B.r,ie=i.g-B.g,ee=i.b-B.b,G=i.a-B.a);for(var V=c==1?0:this._kernel.length-1,W=c==1?this._kernel.length:-1,g=V;g!==W;g+=c){var Q=this._kernel[g][1]*c,oe=this._kernel[g][2];if(Q+M>=0&&Q+M<f&&oe+x>=0&&oe+x<r){var ve=this._kernel[g][0],fe=u[oe][Q+M];fe[0]=fe[0]+q*ve,fe[1]=fe[1]+ie*ve,fe[2]=fe[2]+ee*ve,fe[3]=fe[3]+G*ve}}}}return e},t.prototype._fillErrorLine=function(e,a){e.length>a&&(e.length=a);for(var l=e.length,i=0;i<l;i++){var f=e[i];f[0]=f[1]=f[2]=f[3]=0}for(var i=l;i<a;i++)e[i]=[0,0,0,0]},t.prototype._setKernel=function(e){switch(e){case s.FloydSteinberg:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case s.FalseFloydSteinberg:this._kernel=[[3/8,1,0],[3/8,0,1],[2/8,1,1]];break;case s.Stucki:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case s.Atkinson:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case s.Jarvis:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case s.Burkes:this._kernel=[[8/32,1,0],[4/32,2,0],[2/32,-2,1],[4/32,-1,1],[8/32,0,1],[4/32,1,1],[2/32,2,1]];break;case s.Sierra:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[4/32,-1,1],[5/32,0,1],[4/32,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case s.TwoSierra:this._kernel=[[4/16,1,0],[3/16,2,0],[1/16,-2,1],[2/16,-1,1],[3/16,0,1],[2/16,1,1],[1/16,2,1]];break;case s.SierraLite:this._kernel=[[2/4,1,0],[1/4,-1,1],[1/4,0,1]];break;default:throw new Error("ErrorDiffusionArray: unknown kernel = "+e)}},t}();h.ErrorDiffusionArray=n},function(w,h,m){var d=m(34),o=m(24),s=m(6),n=function(){function t(e,a,l){a===void 0&&(a=16),l===void 0&&(l=1),this._distance=e,this._errorPropagation=l,this._errorQueueSize=a,this._max=this._errorQueueSize,this._createWeights()}return t.prototype.quantize=function(e,a){for(var l=this,i=new d.HilbertCurveBase,f=e.getPointArray(),r=e.getWidth(),u=e.getHeight(),c=[],v=0,g=0;g<this._errorQueueSize;g++)c[g]={r:0,g:0,b:0,a:0};return i.walk(r,u,function(b,x){for(var E=f[b+x*r],S=E.r,A=E.g,F=E.b,M=E.a,z=0;z<l._errorQueueSize;z++){var U=l._weights[z],I=c[(z+v)%l._errorQueueSize];S+=I.r*U,A+=I.g*U,F+=I.b*U,M+=I.a*U}var O=o.Point.createByRGBA(s.inRange0to255Rounded(S),s.inRange0to255Rounded(A),s.inRange0to255Rounded(F),s.inRange0to255Rounded(M)),B=a.getNearestColor(l._distance,O);v=(v+1)%l._errorQueueSize;var Y=(v+l._errorQueueSize-1)%l._errorQueueSize;c[Y].r=E.r-B.r,c[Y].g=E.g-B.g,c[Y].b=E.b-B.b,c[Y].a=E.a-B.a,E.from(B)}),e},t.prototype._createWeights=function(){this._weights=[];for(var e=Math.exp(Math.log(this._max)/(this._errorQueueSize-1)),a=0,l=1;a<this._errorQueueSize;a++)this._weights[a]=(l+.5|0)/this._max*this._errorPropagation,l*=e},t}();h.ErrorDiffusionRiemersma=n},function(w,h){var m;(function(o){o[o.NONE=0]="NONE",o[o.UP=1]="UP",o[o.LEFT=2]="LEFT",o[o.RIGHT=3]="RIGHT",o[o.DOWN=4]="DOWN"})(m||(m={}));var d=function(){function o(){}return o.prototype.walk=function(s,n,t){this._x=0,this._y=0,this._d=0,this._width=s,this._height=n,this._callback=t;var e=Math.max(s,n);this._level=Math.log(e)/Math.log(2)+1|0,this._walkHilbert(m.UP),this._visit(m.NONE)},o.prototype._walkHilbert=function(s){if(!(this._level<1)){switch(this._level--,s){case m.LEFT:this._walkHilbert(m.UP),this._visit(m.RIGHT),this._walkHilbert(m.LEFT),this._visit(m.DOWN),this._walkHilbert(m.LEFT),this._visit(m.LEFT),this._walkHilbert(m.DOWN);break;case m.RIGHT:this._walkHilbert(m.DOWN),this._visit(m.LEFT),this._walkHilbert(m.RIGHT),this._visit(m.UP),this._walkHilbert(m.RIGHT),this._visit(m.RIGHT),this._walkHilbert(m.UP);break;case m.UP:this._walkHilbert(m.LEFT),this._visit(m.DOWN),this._walkHilbert(m.UP),this._visit(m.RIGHT),this._walkHilbert(m.UP),this._visit(m.UP),this._walkHilbert(m.RIGHT);break;case m.DOWN:this._walkHilbert(m.RIGHT),this._visit(m.UP),this._walkHilbert(m.DOWN),this._visit(m.LEFT),this._walkHilbert(m.DOWN),this._visit(m.DOWN),this._walkHilbert(m.LEFT);break}this._level++}},o.prototype._visit=function(s){switch(this._x>=0&&this._x<this._width&&this._y>=0&&this._y<this._height&&(this._callback(this._x,this._y,this._d),this._d++),s){case m.LEFT:this._x--;break;case m.RIGHT:this._x++;break;case m.UP:this._y--;break;case m.DOWN:this._y++;break}},o}();h.HilbertCurveBase=d},function(w,h,m){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 */var d=m(36);h.SSIM=d.SSIM},function(w,h,m){var d=m(2),o=.01,s=.03,n=function(){function t(){}return t.prototype.compare=function(e,a){if(e.getHeight()!==a.getHeight()||e.getWidth()!==a.getWidth())throw new Error("Images have different sizes!");var l=8,i=(1<<l)-1,f=Math.pow(o*i,2),r=Math.pow(s*i,2),u=0,c=0;return this._iterate(e,a,function(v,g,b,x){for(var E=0,S=0,A=0,F=0;F<v.length;F++)S+=Math.pow(v[F]-b,2),A+=Math.pow(g[F]-x,2),E+=(v[F]-b)*(g[F]-x);var M=v.length-1;S/=M,A/=M,E/=M;var z=(2*b*x+f)*(2*E+r),U=(Math.pow(b,2)+Math.pow(x,2)+f)*(S+A+r),I=z/U;c+=I,u++}),c/u},t.prototype._iterate=function(e,a,l){for(var i=8,f=e.getWidth(),r=e.getHeight(),u=0;u<r;u+=i)for(var c=0;c<f;c+=i){var v=Math.min(i,f-c),g=Math.min(i,r-u),b=this._calculateLumaValuesForWindow(e,c,u,v,g),x=this._calculateLumaValuesForWindow(a,c,u,v,g),E=this._calculateAverageLuma(b),S=this._calculateAverageLuma(x);l(b,x,E,S)}},t.prototype._calculateLumaValuesForWindow=function(e,a,l,i,f){for(var r=e.getPointArray(),u=[],c=0,v=l;v<l+f;v++)for(var g=v*e.getWidth(),b=a;b<a+i;b++){var x=r[g+b];u[c]=x.r*d.Y.RED+x.g*d.Y.GREEN+x.b*d.Y.BLUE,c++}return u},t.prototype._calculateAverageLuma=function(e){for(var a=0,l=0;l<e.length;l++)a+=e[l];return a/e.length},t}();h.SSIM=n},function(w,h,m){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 */var d=m(6);h.arithmetic=d;var o=m(28);h.HueStatistics=o.HueStatistics;var s=m(22);h.Palette=s.Palette;var n=m(24);h.Point=n.Point;var t=m(23);h.PointContainer=t.PointContainer}])})},{}],75:[function(y,D,_){typeof Object.create=="function"?D.exports=function(h,m){m&&(h.super_=m,h.prototype=Object.create(m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}))}:D.exports=function(h,m){if(m){h.super_=m;var d=function(){};d.prototype=m.prototype,h.prototype=new d,h.prototype.constructor=h}}},{}],76:[function(y,D,_){/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */D.exports=function(m){return m!=null&&(w(m)||h(m)||!!m._isBuffer)};function w(m){return!!m.constructor&&typeof m.constructor.isBuffer=="function"&&m.constructor.isBuffer(m)}function h(m){return typeof m.readFloatLE=="function"&&typeof m.slice=="function"&&w(m.slice(0,0))}},{}],77:[function(y,D,_){var w=Function.prototype.toString,h=/^\s*class\b/,m=function(a){try{var l=w.call(a);return h.test(l)}catch{return!1}},d=function(a){try{return m(a)?!1:(w.call(a),!0)}catch{return!1}},o=Object.prototype.toString,s="[object Function]",n="[object GeneratorFunction]",t=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol";D.exports=function(a){if(!a||typeof a!="function"&&typeof a!="object")return!1;if(typeof a=="function"&&!a.prototype)return!0;if(t)return d(a);if(m(a))return!1;var l=o.call(a);return l===s||l===n}},{}],78:[function(y,D,_){D.exports=h;var w=Object.prototype.toString;function h(m){var d=w.call(m);return d==="[object Function]"||typeof m=="function"&&d!=="[object RegExp]"||typeof re<"u"&&(m===re.setTimeout||m===re.alert||m===re.confirm||m===re.prompt)}},{}],79:[function(y,D,_){var w={}.toString;D.exports=Array.isArray||function(h){return w.call(h)=="[object Array]"}},{}],80:[function(y,D,_){var w=y("./lib/encoder"),h=y("./lib/decoder");D.exports={encode:w,decode:h}},{"./lib/decoder":81,"./lib/encoder":82}],81:[function(y,D,_){(function(w){var h=function(){var o=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),s=4017,n=799,t=3406,e=2276,a=1567,l=3784,i=5793,f=2896;function r(){}function u(S,A){for(var F=0,M=[],z,U,I=16;I>0&&!S[I-1];)I--;M.push({children:[],index:0});var O=M[0],B;for(z=0;z<I;z++){for(U=0;U<S[z];U++){for(O=M.pop(),O.children[O.index]=A[F];O.index>0;){if(M.length===0)throw new Error("Could not recreate Huffman Table");O=M.pop()}for(O.index++,M.push(O);M.length<=z;)M.push(B={children:[],index:0}),O.children[O.index]=B.children,O=B;F++}z+1<I&&(M.push(B={children:[],index:0}),O.children[O.index]=B.children,O=B)}return M[0].children}function c(S,A,F,M,z,U,I,O,B,Y){F.precision,F.samplesPerLine,F.scanLines;var q=F.mcusPerLine,ie=F.progressive;F.maxH,F.maxV;var ee=A,G=0,V=0;function W(){if(V>0)return V--,G>>V&1;if(G=S[A++],G==255){var Te=S[A++];if(Te)throw new Error("unexpected marker: "+(G<<8|Te).toString(16))}return V=7,G>>>7}function Q(Te){for(var Re=Te,Le;(Le=W())!==null;){if(Re=Re[Le],typeof Re=="number")return Re;if(typeof Re!="object")throw new Error("invalid huffman sequence")}return null}function oe(Te){for(var Re=0;Te>0;){var Le=W();if(Le===null)return;Re=Re<<1|Le,Te--}return Re}function ve(Te){var Re=oe(Te);return Re>=1<<Te-1?Re:Re+(-1<<Te)+1}function fe(Te,Re){var Le=Q(Te.huffmanTableDC),Pe=Le===0?0:ve(Le);Re[0]=Te.pred+=Pe;for(var Ie=1;Ie<64;){var k=Q(Te.huffmanTableAC),pe=k&15,_e=k>>4;if(pe===0){if(_e<15)break;Ie+=16;continue}Ie+=_e;var Ee=o[Ie];Re[Ee]=ve(pe),Ie++}}function de(Te,Re){var Le=Q(Te.huffmanTableDC),Pe=Le===0?0:ve(Le)<<B;Re[0]=Te.pred+=Pe}function be(Te,Re){Re[0]|=W()<<B}var le=0;function se(Te,Re){if(le>0){le--;return}for(var Le=U,Pe=I;Le<=Pe;){var Ie=Q(Te.huffmanTableAC),k=Ie&15,pe=Ie>>4;if(k===0){if(pe<15){le=oe(pe)+(1<<pe)-1;break}Le+=16;continue}Le+=pe;var _e=o[Le];Re[_e]=ve(k)*(1<<B),Le++}}var X=0,J;function te(Te,Re){for(var Le=U,Pe=I,Ie=0;Le<=Pe;){var k=o[Le],pe=Re[k]<0?-1:1;switch(X){case 0:var _e=Q(Te.huffmanTableAC),Ee=_e&15,Ie=_e>>4;if(Ee===0)Ie<15?(le=oe(Ie)+(1<<Ie),X=4):(Ie=16,X=1);else{if(Ee!==1)throw new Error("invalid ACn encoding");J=ve(Ee),X=Ie?2:3}continue;case 1:case 2:Re[k]?Re[k]+=(W()<<B)*pe:(Ie--,Ie===0&&(X=X==2?3:0));break;case 3:Re[k]?Re[k]+=(W()<<B)*pe:(Re[k]=J<<B,X=0);break;case 4:Re[k]&&(Re[k]+=(W()<<B)*pe);break}Le++}X===4&&(le--,le===0&&(X=0))}function j(Te,Re,Le,Pe,Ie){var k=Le/q|0,pe=Le%q,_e=k*Te.v+Pe,Ee=pe*Te.h+Ie;Te.blocks[_e]===void 0&&Y.tolerantDecoding||Re(Te,Te.blocks[_e][Ee])}function P(Te,Re,Le){var Pe=Le/Te.blocksPerLine|0,Ie=Le%Te.blocksPerLine;Te.blocks[Pe]===void 0&&Y.tolerantDecoding||Re(Te,Te.blocks[Pe][Ie])}var R=M.length,Z,N,C,T,H,ue;ie?U===0?ue=O===0?de:be:ue=O===0?se:te:ue=fe;var me=0,ye,Me;R==1?Me=M[0].blocksPerLine*M[0].blocksPerColumn:Me=q*F.mcusPerColumn,z||(z=Me);for(var ke,Oe;me<Me;){for(N=0;N<R;N++)M[N].pred=0;if(le=0,R==1)for(Z=M[0],H=0;H<z;H++)P(Z,ue,me),me++;else for(H=0;H<z;H++){for(N=0;N<R;N++)for(Z=M[N],ke=Z.h,Oe=Z.v,C=0;C<Oe;C++)for(T=0;T<ke;T++)j(Z,ue,me,C,T);if(me++,me===Me)break}if(me===Me)do{if(S[A]===255&&S[A+1]!==0)break;A+=1}while(A<S.length-2);if(V=0,ye=S[A]<<8|S[A+1],ye<65280)throw new Error("marker was not found");if(ye>=65488&&ye<=65495)A+=2;else break}return A-ee}function v(S,A){var F=[],M=A.blocksPerLine,z=A.blocksPerColumn,U=M<<3,I=new Int32Array(64),O=new Uint8Array(64);function B(oe,ve,fe){var de=A.quantizationTable,be,le,se,X,J,te,j,P,R,Z=fe,N;for(N=0;N<64;N++)Z[N]=oe[N]*de[N];for(N=0;N<8;++N){var C=8*N;if(Z[1+C]==0&&Z[2+C]==0&&Z[3+C]==0&&Z[4+C]==0&&Z[5+C]==0&&Z[6+C]==0&&Z[7+C]==0){R=i*Z[0+C]+512>>10,Z[0+C]=R,Z[1+C]=R,Z[2+C]=R,Z[3+C]=R,Z[4+C]=R,Z[5+C]=R,Z[6+C]=R,Z[7+C]=R;continue}be=i*Z[0+C]+128>>8,le=i*Z[4+C]+128>>8,se=Z[2+C],X=Z[6+C],J=f*(Z[1+C]-Z[7+C])+128>>8,P=f*(Z[1+C]+Z[7+C])+128>>8,te=Z[3+C]<<4,j=Z[5+C]<<4,R=be-le+1>>1,be=be+le+1>>1,le=R,R=se*l+X*a+128>>8,se=se*a-X*l+128>>8,X=R,R=J-j+1>>1,J=J+j+1>>1,j=R,R=P+te+1>>1,te=P-te+1>>1,P=R,R=be-X+1>>1,be=be+X+1>>1,X=R,R=le-se+1>>1,le=le+se+1>>1,se=R,R=J*e+P*t+2048>>12,J=J*t-P*e+2048>>12,P=R,R=te*n+j*s+2048>>12,te=te*s-j*n+2048>>12,j=R,Z[0+C]=be+P,Z[7+C]=be-P,Z[1+C]=le+j,Z[6+C]=le-j,Z[2+C]=se+te,Z[5+C]=se-te,Z[3+C]=X+J,Z[4+C]=X-J}for(N=0;N<8;++N){var T=N;if(Z[8+T]==0&&Z[16+T]==0&&Z[24+T]==0&&Z[32+T]==0&&Z[40+T]==0&&Z[48+T]==0&&Z[56+T]==0){R=i*fe[N+0]+8192>>14,Z[0+T]=R,Z[8+T]=R,Z[16+T]=R,Z[24+T]=R,Z[32+T]=R,Z[40+T]=R,Z[48+T]=R,Z[56+T]=R;continue}be=i*Z[0+T]+2048>>12,le=i*Z[32+T]+2048>>12,se=Z[16+T],X=Z[48+T],J=f*(Z[8+T]-Z[56+T])+2048>>12,P=f*(Z[8+T]+Z[56+T])+2048>>12,te=Z[24+T],j=Z[40+T],R=be-le+1>>1,be=be+le+1>>1,le=R,R=se*l+X*a+2048>>12,se=se*a-X*l+2048>>12,X=R,R=J-j+1>>1,J=J+j+1>>1,j=R,R=P+te+1>>1,te=P-te+1>>1,P=R,R=be-X+1>>1,be=be+X+1>>1,X=R,R=le-se+1>>1,le=le+se+1>>1,se=R,R=J*e+P*t+2048>>12,J=J*t-P*e+2048>>12,P=R,R=te*n+j*s+2048>>12,te=te*s-j*n+2048>>12,j=R,Z[0+T]=be+P,Z[56+T]=be-P,Z[8+T]=le+j,Z[48+T]=le-j,Z[16+T]=se+te,Z[40+T]=se-te,Z[24+T]=X+J,Z[32+T]=X-J}for(N=0;N<64;++N){var H=128+(Z[N]+8>>4);ve[N]=H<0?0:H>255?255:H}}E(U*z*8);for(var Y,q,ie=0;ie<z;ie++){var ee=ie<<3;for(Y=0;Y<8;Y++)F.push(new Uint8Array(U));for(var G=0;G<M;G++){B(A.blocks[ie][G],O,I);var V=0,W=G<<3;for(q=0;q<8;q++){var Q=F[ee+q];for(Y=0;Y<8;Y++)Q[W+Y]=O[V++]}}}return F}function g(S){return S<0?0:S>255?255:S}r.prototype={load:function(A){var F=new XMLHttpRequest;F.open("GET",A,!0),F.responseType="arraybuffer",F.onload=function(){var M=new Uint8Array(F.response||F.mozResponseArrayBuffer);this.parse(M),this.onload&&this.onload()}.bind(this),F.send(null)},parse:function(A){var F=this.opts.maxResolutionInMP*1e3*1e3,M=0;A.length;function z(){var pe=A[M]<<8|A[M+1];return M+=2,pe}function U(){var pe=z(),_e=A.subarray(M,M+pe-2);return M+=_e.length,_e}function I(pe){var _e=1,Ee=1,ce,we;for(we in pe.components)pe.components.hasOwnProperty(we)&&(ce=pe.components[we],_e<ce.h&&(_e=ce.h),Ee<ce.v&&(Ee=ce.v));var K=Math.ceil(pe.samplesPerLine/8/_e),Se=Math.ceil(pe.scanLines/8/Ee);for(we in pe.components)if(pe.components.hasOwnProperty(we)){ce=pe.components[we];var De=Math.ceil(Math.ceil(pe.samplesPerLine/8)*ce.h/_e),p=Math.ceil(Math.ceil(pe.scanLines/8)*ce.v/Ee),he=K*ce.h,ge=Se*ce.v,L=ge*he,ae=[];E(L*256);for(var xe=0;xe<ge;xe++){for(var Ce=[],Ae=0;Ae<he;Ae++)Ce.push(new Int32Array(64));ae.push(Ce)}ce.blocksPerLine=De,ce.blocksPerColumn=p,ce.blocks=ae}pe.maxH=_e,pe.maxV=Ee,pe.mcusPerLine=K,pe.mcusPerColumn=Se}var O=null,B=null,Y,q,ie=[],ee=[],G=[],V=[],W=z(),Q=-1;if(this.comments=[],W!=65496)throw new Error("SOI not found");for(W=z();W!=65497;){var oe,ve;switch(W){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var fe=U();if(W===65534){var de=String.fromCharCode.apply(null,fe);this.comments.push(de)}W===65504&&fe[0]===74&&fe[1]===70&&fe[2]===73&&fe[3]===70&&fe[4]===0&&(O={version:{major:fe[5],minor:fe[6]},densityUnits:fe[7],xDensity:fe[8]<<8|fe[9],yDensity:fe[10]<<8|fe[11],thumbWidth:fe[12],thumbHeight:fe[13],thumbData:fe.subarray(14,14+3*fe[12]*fe[13])}),W===65505&&fe[0]===69&&fe[1]===120&&fe[2]===105&&fe[3]===102&&fe[4]===0&&(this.exifBuffer=fe.subarray(5,fe.length)),W===65518&&fe[0]===65&&fe[1]===100&&fe[2]===111&&fe[3]===98&&fe[4]===101&&fe[5]===0&&(B={version:fe[6],flags0:fe[7]<<8|fe[8],flags1:fe[9]<<8|fe[10],transformCode:fe[11]});break;case 65499:for(var be=z(),le=be+M-2;M<le;){var se=A[M++];E(256);var X=new Int32Array(64);if(se>>4===0)for(ve=0;ve<64;ve++){var J=o[ve];X[J]=A[M++]}else if(se>>4===1)for(ve=0;ve<64;ve++){var J=o[ve];X[J]=z()}else throw new Error("DQT: invalid table spec");ie[se&15]=X}break;case 65472:case 65473:case 65474:z(),Y={},Y.extended=W===65473,Y.progressive=W===65474,Y.precision=A[M++],Y.scanLines=z(),Y.samplesPerLine=z(),Y.components={},Y.componentsOrder=[];var te=Y.scanLines*Y.samplesPerLine;if(te>F){var j=Math.ceil((te-F)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${j}MP`)}var P=A[M++],R;for(oe=0;oe<P;oe++){R=A[M];var Z=A[M+1]>>4,N=A[M+1]&15,C=A[M+2];if(Z<=0||N<=0)throw new Error("Invalid sampling factor, expected values above 0");Y.componentsOrder.push(R),Y.components[R]={h:Z,v:N,quantizationIdx:C},M+=3}I(Y),ee.push(Y);break;case 65476:var T=z();for(oe=2;oe<T;){var H=A[M++],ue=new Uint8Array(16),me=0;for(ve=0;ve<16;ve++,M++)me+=ue[ve]=A[M];E(16+me);var ye=new Uint8Array(me);for(ve=0;ve<me;ve++,M++)ye[ve]=A[M];oe+=17+me,(H>>4===0?V:G)[H&15]=u(ue,ye)}break;case 65501:z(),q=z();break;case 65500:z(),z();break;case 65498:z();var Me=A[M++],ke=[],Oe;for(oe=0;oe<Me;oe++){Oe=Y.components[A[M++]];var Te=A[M++];Oe.huffmanTableDC=V[Te>>4],Oe.huffmanTableAC=G[Te&15],ke.push(Oe)}var Re=A[M++],Le=A[M++],Pe=A[M++],Ie=c(A,M,Y,ke,q,Re,Le,Pe>>4,Pe&15,this.opts);M+=Ie;break;case 65535:A[M]!==255&&M--;break;default:if(A[M-3]==255&&A[M-2]>=192&&A[M-2]<=254){M-=3;break}else if(W===224||W==225){if(Q!==-1)throw new Error(`first unknown JPEG marker at offset ${Q.toString(16)}, second unknown JPEG marker ${W.toString(16)} at offset ${(M-1).toString(16)}`);Q=M-1;const pe=z();if(A[M+pe-2]===255){M+=pe-2;break}}throw new Error("unknown JPEG marker "+W.toString(16))}W=z()}if(ee.length!=1)throw new Error("only single frame JPEGs supported");for(var oe=0;oe<ee.length;oe++){var k=ee[oe].components;for(var ve in k)k[ve].quantizationTable=ie[k[ve].quantizationIdx],delete k[ve].quantizationIdx}this.width=Y.samplesPerLine,this.height=Y.scanLines,this.jfif=O,this.adobe=B,this.components=[];for(var oe=0;oe<Y.componentsOrder.length;oe++){var Oe=Y.components[Y.componentsOrder[oe]];this.components.push({lines:v(Y,Oe),scaleX:Oe.h/Y.maxH,scaleY:Oe.v/Y.maxV})}},getData:function(A,F){var M=this.width/A,z=this.height/F,U,I,O,B,Y,q,ie,ee,G,V,W=0,Q,oe,ve,fe,de,be,le,se,X,J,te,j=A*F*this.components.length;E(j);var P=new Uint8Array(j);switch(this.components.length){case 1:for(U=this.components[0],V=0;V<F;V++)for(Y=U.lines[0|V*U.scaleY*z],G=0;G<A;G++)Q=Y[0|G*U.scaleX*M],P[W++]=Q;break;case 2:for(U=this.components[0],I=this.components[1],V=0;V<F;V++)for(Y=U.lines[0|V*U.scaleY*z],q=I.lines[0|V*I.scaleY*z],G=0;G<A;G++)Q=Y[0|G*U.scaleX*M],P[W++]=Q,Q=q[0|G*I.scaleX*M],P[W++]=Q;break;case 3:for(te=!0,this.adobe&&this.adobe.transformCode?te=!0:typeof this.opts.colorTransform<"u"&&(te=!!this.opts.colorTransform),U=this.components[0],I=this.components[1],O=this.components[2],V=0;V<F;V++)for(Y=U.lines[0|V*U.scaleY*z],q=I.lines[0|V*I.scaleY*z],ie=O.lines[0|V*O.scaleY*z],G=0;G<A;G++)te?(Q=Y[0|G*U.scaleX*M],oe=q[0|G*I.scaleX*M],ve=ie[0|G*O.scaleX*M],se=g(Q+1.402*(ve-128)),X=g(Q-.3441363*(oe-128)-.71413636*(ve-128)),J=g(Q+1.772*(oe-128))):(se=Y[0|G*U.scaleX*M],X=q[0|G*I.scaleX*M],J=ie[0|G*O.scaleX*M]),P[W++]=se,P[W++]=X,P[W++]=J;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(te=!1,this.adobe&&this.adobe.transformCode?te=!0:typeof this.opts.colorTransform<"u"&&(te=!!this.opts.colorTransform),U=this.components[0],I=this.components[1],O=this.components[2],B=this.components[3],V=0;V<F;V++)for(Y=U.lines[0|V*U.scaleY*z],q=I.lines[0|V*I.scaleY*z],ie=O.lines[0|V*O.scaleY*z],ee=B.lines[0|V*B.scaleY*z],G=0;G<A;G++)te?(Q=Y[0|G*U.scaleX*M],oe=q[0|G*I.scaleX*M],ve=ie[0|G*O.scaleX*M],fe=ee[0|G*B.scaleX*M],de=255-g(Q+1.402*(ve-128)),be=255-g(Q-.3441363*(oe-128)-.71413636*(ve-128)),le=255-g(Q+1.772*(oe-128))):(de=Y[0|G*U.scaleX*M],be=q[0|G*I.scaleX*M],le=ie[0|G*O.scaleX*M],fe=ee[0|G*B.scaleX*M]),P[W++]=255-de,P[W++]=255-be,P[W++]=255-le,P[W++]=255-fe;break;default:throw new Error("Unsupported color mode")}return P},copyToImageData:function(A,F){var M=A.width,z=A.height,U=A.data,I=this.getData(M,z),O=0,B=0,Y,q,ie,ee,G,V,W,Q,oe;switch(this.components.length){case 1:for(q=0;q<z;q++)for(Y=0;Y<M;Y++)ie=I[O++],U[B++]=ie,U[B++]=ie,U[B++]=ie,F&&(U[B++]=255);break;case 3:for(q=0;q<z;q++)for(Y=0;Y<M;Y++)W=I[O++],Q=I[O++],oe=I[O++],U[B++]=W,U[B++]=Q,U[B++]=oe,F&&(U[B++]=255);break;case 4:for(q=0;q<z;q++)for(Y=0;Y<M;Y++)G=I[O++],V=I[O++],ie=I[O++],ee=I[O++],W=255-g(G*(1-ee/255)+ee),Q=255-g(V*(1-ee/255)+ee),oe=255-g(ie*(1-ee/255)+ee),U[B++]=W,U[B++]=Q,U[B++]=oe,F&&(U[B++]=255);break;default:throw new Error("Unsupported color mode")}}};var b=0,x=0;function E(S=0){var A=b+S;if(A>x){var F=Math.ceil((A-x)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${F}MB`)}b=A}return r.resetMaxMemoryUsage=function(S){b=0,x=S},r.getBytesAllocated=function(){return b},r.requestMemoryAllocation=E,r}();typeof D<"u"?D.exports=m:typeof re<"u"&&(re["jpeg-js"]=re["jpeg-js"]||{},re["jpeg-js"].decode=m);function m(d,o={}){var s={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512},n={...s,...o},t=new Uint8Array(d),e=new h;e.opts=n,h.resetMaxMemoryUsage(n.maxMemoryUsageInMB*1024*1024),e.parse(t);var a=n.formatAsRGBA?4:3,l=e.width*e.height*a;try{h.requestMemoryAllocation(l);var i={width:e.width,height:e.height,exifBuffer:e.exifBuffer,data:n.useTArray?new Uint8Array(l):w.alloc(l)};e.comments.length>0&&(i.comments=e.comments)}catch(f){throw f instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+l):f instanceof ReferenceError&&f.message==="Buffer is not defined"?new Error("Buffer is not globally defined in this environment. Consider setting useTArray to true"):f}return e.copyToImageData(i,n.formatAsRGBA),i}}).call(this,y("buffer").Buffer)},{buffer:48}],82:[function(y,D,_){(function(w){function h(d){var o=Math.floor,s=new Array(64),n=new Array(64),t=new Array(64),e=new Array(64),a,l,i,f,r=new Array(65535),u=new Array(65535),c=new Array(64),v=new Array(64),g=[],b=0,x=7,E=new Array(64),S=new Array(64),A=new Array(64),F=new Array(256),M=new Array(2048),z,U=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Y=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],q=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ie=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],G=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function V(H){for(var ue=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],me=0;me<64;me++){var ye=o((ue[me]*H+50)/100);ye<1?ye=1:ye>255&&(ye=255),s[U[me]]=ye}for(var Me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ke=0;ke<64;ke++){var Oe=o((Me[ke]*H+50)/100);Oe<1?Oe=1:Oe>255&&(Oe=255),n[U[ke]]=Oe}for(var Te=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Re=0,Le=0;Le<8;Le++)for(var Pe=0;Pe<8;Pe++)t[Re]=1/(s[U[Re]]*Te[Le]*Te[Pe]*8),e[Re]=1/(n[U[Re]]*Te[Le]*Te[Pe]*8),Re++}function W(H,ue){for(var me=0,ye=0,Me=new Array,ke=1;ke<=16;ke++){for(var Oe=1;Oe<=H[ke];Oe++)Me[ue[ye]]=[],Me[ue[ye]][0]=me,Me[ue[ye]][1]=ke,ye++,me++;me*=2}return Me}function Q(){a=W(I,O),l=W(q,ie),i=W(B,Y),f=W(ee,G)}function oe(){for(var H=1,ue=2,me=1;me<=15;me++){for(var ye=H;ye<ue;ye++)u[32767+ye]=me,r[32767+ye]=[],r[32767+ye][1]=me,r[32767+ye][0]=ye;for(var Me=-(ue-1);Me<=-H;Me++)u[32767+Me]=me,r[32767+Me]=[],r[32767+Me][1]=me,r[32767+Me][0]=ue-1+Me;H<<=1,ue<<=1}}function ve(){for(var H=0;H<256;H++)M[H]=19595*H,M[H+256>>0]=38470*H,M[H+512>>0]=7471*H+32768,M[H+768>>0]=-11059*H,M[H+1024>>0]=-21709*H,M[H+1280>>0]=32768*H+8421375,M[H+1536>>0]=-27439*H,M[H+1792>>0]=-5329*H}function fe(H){for(var ue=H[0],me=H[1]-1;me>=0;)ue&1<<me&&(b|=1<<x),me--,x--,x<0&&(b==255?(de(255),de(0)):de(b),x=7,b=0)}function de(H){g.push(H)}function be(H){de(H>>8&255),de(H&255)}function le(H,ue){var me,ye,Me,ke,Oe,Te,Re,Le,Pe=0,Ie,k=8,pe=64;for(Ie=0;Ie<k;++Ie){me=H[Pe],ye=H[Pe+1],Me=H[Pe+2],ke=H[Pe+3],Oe=H[Pe+4],Te=H[Pe+5],Re=H[Pe+6],Le=H[Pe+7];var _e=me+Le,Ee=me-Le,ce=ye+Re,we=ye-Re,K=Me+Te,Se=Me-Te,De=ke+Oe,p=ke-Oe,he=_e+De,ge=_e-De,L=ce+K,ae=ce-K;H[Pe]=he+L,H[Pe+4]=he-L;var xe=(ae+ge)*.707106781;H[Pe+2]=ge+xe,H[Pe+6]=ge-xe,he=p+Se,L=Se+we,ae=we+Ee;var Ce=(he-ae)*.382683433,Ae=.5411961*he+Ce,Be=1.306562965*ae+Ce,Fe=L*.707106781,Ye=Ee+Fe,ze=Ee-Fe;H[Pe+5]=ze+Ae,H[Pe+3]=ze-Ae,H[Pe+1]=Ye+Be,H[Pe+7]=Ye-Be,Pe+=8}for(Pe=0,Ie=0;Ie<k;++Ie){me=H[Pe],ye=H[Pe+8],Me=H[Pe+16],ke=H[Pe+24],Oe=H[Pe+32],Te=H[Pe+40],Re=H[Pe+48],Le=H[Pe+56];var Ne=me+Le,Ue=me-Le,We=ye+Re,Ve=ye-Re,nt=Me+Te,at=Me-Te,Ge=ke+Oe,Je=ke-Oe,He=Ne+Ge,qe=Ne-Ge,Qe=We+nt,ot=We-nt;H[Pe]=He+Qe,H[Pe+32]=He-Qe;var Gt=(ot+qe)*.707106781;H[Pe+16]=qe+Gt,H[Pe+48]=qe-Gt,He=Je+at,Qe=at+Ve,ot=Ve+Ue;var Ht=(He-ot)*.382683433,Wt=.5411961*He+Ht,Zt=1.306562965*ot+Ht,Yt=Qe*.707106781,Vt=Ue+Yt,Xt=Ue-Yt;H[Pe+40]=Xt+Wt,H[Pe+24]=Xt-Wt,H[Pe+8]=Vt+Zt,H[Pe+56]=Vt-Zt,Pe++}var xt;for(Ie=0;Ie<pe;++Ie)xt=H[Ie]*ue[Ie],c[Ie]=xt>0?xt+.5|0:xt-.5|0;return c}function se(){be(65504),be(16),de(74),de(70),de(73),de(70),de(0),de(1),de(1),de(0),be(1),be(1),de(0),de(0)}function X(H){if(!!H){be(65505),H[0]===69&&H[1]===120&&H[2]===105&&H[3]===102?be(H.length+2):(be(H.length+5+2),de(69),de(120),de(105),de(102),de(0));for(var ue=0;ue<H.length;ue++)de(H[ue])}}function J(H,ue){be(65472),be(17),de(8),be(ue),be(H),de(3),de(1),de(17),de(0),de(2),de(17),de(1),de(3),de(17),de(1)}function te(){be(65499),be(132),de(0);for(var H=0;H<64;H++)de(s[H]);de(1);for(var ue=0;ue<64;ue++)de(n[ue])}function j(){be(65476),be(418),de(0);for(var H=0;H<16;H++)de(I[H+1]);for(var ue=0;ue<=11;ue++)de(O[ue]);de(16);for(var me=0;me<16;me++)de(B[me+1]);for(var ye=0;ye<=161;ye++)de(Y[ye]);de(1);for(var Me=0;Me<16;Me++)de(q[Me+1]);for(var ke=0;ke<=11;ke++)de(ie[ke]);de(17);for(var Oe=0;Oe<16;Oe++)de(ee[Oe+1]);for(var Te=0;Te<=161;Te++)de(G[Te])}function P(H){typeof H>"u"||H.constructor!==Array||H.forEach(ue=>{if(typeof ue=="string"){be(65534);var me=ue.length;be(me+2);var ye;for(ye=0;ye<me;ye++)de(ue.charCodeAt(ye))}})}function R(){be(65498),be(12),de(3),de(1),de(0),de(2),de(17),de(3),de(17),de(0),de(63),de(0)}function Z(H,ue,me,ye,Me){for(var ke=Me[0],Oe=Me[240],Te,Re=16,Le=63,Pe=64,Ie=le(H,ue),k=0;k<Pe;++k)v[U[k]]=Ie[k];var pe=v[0]-me;me=v[0],pe==0?fe(ye[0]):(Te=32767+pe,fe(ye[u[Te]]),fe(r[Te]));for(var _e=63;_e>0&&v[_e]==0;_e--);if(_e==0)return fe(ke),me;for(var Ee=1,ce;Ee<=_e;){for(var we=Ee;v[Ee]==0&&Ee<=_e;++Ee);var K=Ee-we;if(K>=Re){ce=K>>4;for(var Se=1;Se<=ce;++Se)fe(Oe);K=K&15}Te=32767+v[Ee],fe(Me[(K<<4)+u[Te]]),fe(r[Te]),Ee++}return _e!=Le&&fe(ke),me}function N(){for(var H=String.fromCharCode,ue=0;ue<256;ue++)F[ue]=H(ue)}this.encode=function(H,ue){new Date().getTime(),ue&&C(ue),g=new Array,b=0,x=7,be(65496),se(),P(H.comments),X(H.exifBuffer),te(),J(H.width,H.height),j(),R();var me=0,ye=0,Me=0;b=0,x=7,this.encode.displayName="_encode_";for(var ke=H.data,Oe=H.width,Te=H.height,Re=Oe*4,Le,Pe=0,Ie,k,pe,_e,Ee,ce,we,K;Pe<Te;){for(Le=0;Le<Re;){for(_e=Re*Pe+Le,Ee=_e,ce=-1,we=0,K=0;K<64;K++)we=K>>3,ce=(K&7)*4,Ee=_e+we*Re+ce,Pe+we>=Te&&(Ee-=Re*(Pe+1+we-Te)),Le+ce>=Re&&(Ee-=Le+ce-Re+4),Ie=ke[Ee++],k=ke[Ee++],pe=ke[Ee++],E[K]=(M[Ie]+M[k+256>>0]+M[pe+512>>0]>>16)-128,S[K]=(M[Ie+768>>0]+M[k+1024>>0]+M[pe+1280>>0]>>16)-128,A[K]=(M[Ie+1280>>0]+M[k+1536>>0]+M[pe+1792>>0]>>16)-128;me=Z(E,t,me,a,i),ye=Z(S,e,ye,l,f),Me=Z(A,e,Me,l,f),Le+=32}Pe+=8}if(x>=0){var Se=[];Se[1]=x+1,Se[0]=(1<<x+1)-1,fe(Se)}return be(65497),typeof D>"u"?new Uint8Array(g):w.from(g)};function C(H){if(H<=0&&(H=1),H>100&&(H=100),z!=H){var ue=0;H<50?ue=Math.floor(5e3/H):ue=Math.floor(200-H*2),V(ue),z=H}}function T(){var H=new Date().getTime();d||(d=50),N(),Q(),oe(),ve(),C(d),new Date().getTime()-H}T()}typeof D<"u"?D.exports=m:typeof re<"u"&&(re["jpeg-js"]=re["jpeg-js"]||{},re["jpeg-js"].encode=m);function m(d,o){typeof o>"u"&&(o=50);var s=new h(o),n=s.encode(d,o);return{data:n,width:d.width,height:d.height}}}).call(this,y("buffer").Buffer)},{buffer:48}],83:[function(y,D,_){(function(w){var h=y("path"),m=y("fs"),d=parseInt("0777",8);D.exports=o.mkdirp=o.mkdirP=o;function o(s,n,t,e){typeof n=="function"?(t=n,n={}):(!n||typeof n!="object")&&(n={mode:n});var a=n.mode,l=n.fs||m;a===void 0&&(a=d&~w.umask()),e||(e=null);var i=t||function(){};s=h.resolve(s),l.mkdir(s,a,function(f){if(!f)return e=e||s,i(null,e);switch(f.code){case"ENOENT":o(h.dirname(s),n,function(r,u){r?i(r,u):o(s,n,i,u)});break;default:l.stat(s,function(r,u){r||!u.isDirectory()?i(f,e):i(null,e)});break}})}o.sync=function s(n,t,e){(!t||typeof t!="object")&&(t={mode:t});var a=t.mode,l=t.fs||m;a===void 0&&(a=d&~w.umask()),e||(e=null),n=h.resolve(n);try{l.mkdirSync(n,a),e=e||n}catch(f){switch(f.code){case"ENOENT":e=s(h.dirname(n),t,e),s(n,t,e);break;default:var i;try{i=l.statSync(n)}catch{throw f}if(!i.isDirectory())throw f;break}}return e}}).call(this,y("_process"))},{_process:133,fs:47,path:107}],84:[function(y,D,_){var w=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable;function d(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function o(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var n={},t=0;t<10;t++)n["_"+String.fromCharCode(t)]=t;var e=Object.getOwnPropertyNames(n).map(function(l){return n[l]});if(e.join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(l){a[l]=l}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}D.exports=o()?Object.assign:function(s,n){for(var t,e=d(s),a,l=1;l<arguments.length;l++){t=Object(arguments[l]);for(var i in t)h.call(t,i)&&(e[i]=t[i]);if(w){a=w(t);for(var f=0;f<a.length;f++)m.call(t,a[f])&&(e[a[f]]=t[a[f]])}}return e}},{}],85:[function(y,D,_){arguments[4][64][0].apply(_,arguments)},{dup:64}],86:[function(y,D,_){var w=y("./lib/utils/common").assign,h=y("./lib/deflate"),m=y("./lib/inflate"),d=y("./lib/zlib/constants"),o={};w(o,h,m,d),D.exports=o},{"./lib/deflate":87,"./lib/inflate":88,"./lib/utils/common":89,"./lib/zlib/constants":92}],87:[function(y,D,_){var w=y("./zlib/deflate"),h=y("./utils/common"),m=y("./utils/strings"),d=y("./zlib/messages"),o=y("./zlib/zstream"),s=Object.prototype.toString,n=0,t=4,e=0,a=1,l=2,i=-1,f=0,r=8;function u(b){if(!(this instanceof u))return new u(b);this.options=h.assign({level:i,method:r,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},b||{});var x=this.options;x.raw&&x.windowBits>0?x.windowBits=-x.windowBits:x.gzip&&x.windowBits>0&&x.windowBits<16&&(x.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var E=w.deflateInit2(this.strm,x.level,x.method,x.windowBits,x.memLevel,x.strategy);if(E!==e)throw new Error(d[E]);if(x.header&&w.deflateSetHeader(this.strm,x.header),x.dictionary){var S;if(typeof x.dictionary=="string"?S=m.string2buf(x.dictionary):s.call(x.dictionary)==="[object ArrayBuffer]"?S=new Uint8Array(x.dictionary):S=x.dictionary,E=w.deflateSetDictionary(this.strm,S),E!==e)throw new Error(d[E]);this._dict_set=!0}}u.prototype.push=function(b,x){var E=this.strm,S=this.options.chunkSize,A,F;if(this.ended)return!1;F=x===~~x?x:x===!0?t:n,typeof b=="string"?E.input=m.string2buf(b):s.call(b)==="[object ArrayBuffer]"?E.input=new Uint8Array(b):E.input=b,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new h.Buf8(S),E.next_out=0,E.avail_out=S),A=w.deflate(E,F),A!==a&&A!==e)return this.onEnd(A),this.ended=!0,!1;(E.avail_out===0||E.avail_in===0&&(F===t||F===l))&&(this.options.to==="string"?this.onData(m.buf2binstring(h.shrinkBuf(E.output,E.next_out))):this.onData(h.shrinkBuf(E.output,E.next_out)))}while((E.avail_in>0||E.avail_out===0)&&A!==a);return F===t?(A=w.deflateEnd(this.strm),this.onEnd(A),this.ended=!0,A===e):(F===l&&(this.onEnd(e),E.avail_out=0),!0)},u.prototype.onData=function(b){this.chunks.push(b)},u.prototype.onEnd=function(b){b===e&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg};function c(b,x){var E=new u(x);if(E.push(b,!0),E.err)throw E.msg||d[E.err];return E.result}function v(b,x){return x=x||{},x.raw=!0,c(b,x)}function g(b,x){return x=x||{},x.gzip=!0,c(b,x)}_.Deflate=u,_.deflate=c,_.deflateRaw=v,_.gzip=g},{"./utils/common":89,"./utils/strings":90,"./zlib/deflate":94,"./zlib/messages":99,"./zlib/zstream":101}],88:[function(y,D,_){var w=y("./zlib/inflate"),h=y("./utils/common"),m=y("./utils/strings"),d=y("./zlib/constants"),o=y("./zlib/messages"),s=y("./zlib/zstream"),n=y("./zlib/gzheader"),t=Object.prototype.toString;function e(i){if(!(this instanceof e))return new e(i);this.options=h.assign({chunkSize:16384,windowBits:0,to:""},i||{});var f=this.options;f.raw&&f.windowBits>=0&&f.windowBits<16&&(f.windowBits=-f.windowBits,f.windowBits===0&&(f.windowBits=-15)),f.windowBits>=0&&f.windowBits<16&&!(i&&i.windowBits)&&(f.windowBits+=32),f.windowBits>15&&f.windowBits<48&&(f.windowBits&15)===0&&(f.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var r=w.inflateInit2(this.strm,f.windowBits);if(r!==d.Z_OK)throw new Error(o[r]);this.header=new n,w.inflateGetHeader(this.strm,this.header)}e.prototype.push=function(i,f){var r=this.strm,u=this.options.chunkSize,c=this.options.dictionary,v,g,b,x,E,S,A=!1;if(this.ended)return!1;g=f===~~f?f:f===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof i=="string"?r.input=m.binstring2buf(i):t.call(i)==="[object ArrayBuffer]"?r.input=new Uint8Array(i):r.input=i,r.next_in=0,r.avail_in=r.input.length;do{if(r.avail_out===0&&(r.output=new h.Buf8(u),r.next_out=0,r.avail_out=u),v=w.inflate(r,d.Z_NO_FLUSH),v===d.Z_NEED_DICT&&c&&(typeof c=="string"?S=m.string2buf(c):t.call(c)==="[object ArrayBuffer]"?S=new Uint8Array(c):S=c,v=w.inflateSetDictionary(this.strm,S)),v===d.Z_BUF_ERROR&&A===!0&&(v=d.Z_OK,A=!1),v!==d.Z_STREAM_END&&v!==d.Z_OK)return this.onEnd(v),this.ended=!0,!1;r.next_out&&(r.avail_out===0||v===d.Z_STREAM_END||r.avail_in===0&&(g===d.Z_FINISH||g===d.Z_SYNC_FLUSH))&&(this.options.to==="string"?(b=m.utf8border(r.output,r.next_out),x=r.next_out-b,E=m.buf2string(r.output,b),r.next_out=x,r.avail_out=u-x,x&&h.arraySet(r.output,r.output,b,x,0),this.onData(E)):this.onData(h.shrinkBuf(r.output,r.next_out))),r.avail_in===0&&r.avail_out===0&&(A=!0)}while((r.avail_in>0||r.avail_out===0)&&v!==d.Z_STREAM_END);return v===d.Z_STREAM_END&&(g=d.Z_FINISH),g===d.Z_FINISH?(v=w.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===d.Z_OK):(g===d.Z_SYNC_FLUSH&&(this.onEnd(d.Z_OK),r.avail_out=0),!0)},e.prototype.onData=function(i){this.chunks.push(i)},e.prototype.onEnd=function(i){i===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg};function a(i,f){var r=new e(f);if(r.push(i,!0),r.err)throw r.msg||o[r.err];return r.result}function l(i,f){return f=f||{},f.raw=!0,a(i,f)}_.Inflate=e,_.inflate=a,_.inflateRaw=l,_.ungzip=a},{"./utils/common":89,"./utils/strings":90,"./zlib/constants":92,"./zlib/gzheader":95,"./zlib/inflate":97,"./zlib/messages":99,"./zlib/zstream":101}],89:[function(y,D,_){arguments[4][36][0].apply(_,arguments)},{dup:36}],90:[function(y,D,_){var w=y("./common"),h=!0,m=!0;try{String.fromCharCode.apply(null,[0])}catch{h=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{m=!1}for(var d=new w.Buf8(256),o=0;o<256;o++)d[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;d[254]=d[254]=1,_.string2buf=function(n){var t,e,a,l,i,f=n.length,r=0;for(l=0;l<f;l++)e=n.charCodeAt(l),(e&64512)===55296&&l+1<f&&(a=n.charCodeAt(l+1),(a&64512)===56320&&(e=65536+(e-55296<<10)+(a-56320),l++)),r+=e<128?1:e<2048?2:e<65536?3:4;for(t=new w.Buf8(r),i=0,l=0;i<r;l++)e=n.charCodeAt(l),(e&64512)===55296&&l+1<f&&(a=n.charCodeAt(l+1),(a&64512)===56320&&(e=65536+(e-55296<<10)+(a-56320),l++)),e<128?t[i++]=e:e<2048?(t[i++]=192|e>>>6,t[i++]=128|e&63):e<65536?(t[i++]=224|e>>>12,t[i++]=128|e>>>6&63,t[i++]=128|e&63):(t[i++]=240|e>>>18,t[i++]=128|e>>>12&63,t[i++]=128|e>>>6&63,t[i++]=128|e&63);return t};function s(n,t){if(t<65537&&(n.subarray&&m||!n.subarray&&h))return String.fromCharCode.apply(null,w.shrinkBuf(n,t));for(var e="",a=0;a<t;a++)e+=String.fromCharCode(n[a]);return e}_.buf2binstring=function(n){return s(n,n.length)},_.binstring2buf=function(n){for(var t=new w.Buf8(n.length),e=0,a=t.length;e<a;e++)t[e]=n.charCodeAt(e);return t},_.buf2string=function(n,t){var e,a,l,i,f=t||n.length,r=new Array(f*2);for(a=0,e=0;e<f;){if(l=n[e++],l<128){r[a++]=l;continue}if(i=d[l],i>4){r[a++]=65533,e+=i-1;continue}for(l&=i===2?31:i===3?15:7;i>1&&e<f;)l=l<<6|n[e++]&63,i--;if(i>1){r[a++]=65533;continue}l<65536?r[a++]=l:(l-=65536,r[a++]=55296|l>>10&1023,r[a++]=56320|l&1023)}return s(r,a)},_.utf8border=function(n,t){var e;for(t=t||n.length,t>n.length&&(t=n.length),e=t-1;e>=0&&(n[e]&192)===128;)e--;return e<0||e===0?t:e+d[n[e]]>t?e:t}},{"./common":89}],91:[function(y,D,_){arguments[4][37][0].apply(_,arguments)},{dup:37}],92:[function(y,D,_){arguments[4][38][0].apply(_,arguments)},{dup:38}],93:[function(y,D,_){arguments[4][39][0].apply(_,arguments)},{dup:39}],94:[function(y,D,_){var w=y("../utils/common"),h=y("./trees"),m=y("./adler32"),d=y("./crc32"),o=y("./messages"),s=0,n=1,t=3,e=4,a=5,l=0,i=1,f=-2,r=-3,u=-5,c=-1,v=1,g=2,b=3,x=4,E=0,S=2,A=8,F=9,M=15,z=8,U=29,I=256,O=I+1+U,B=30,Y=19,q=2*O+1,ie=15,ee=3,G=258,V=G+ee+1,W=32,Q=42,oe=69,ve=73,fe=91,de=103,be=113,le=666,se=1,X=2,J=3,te=4,j=3;function P(p,he){return p.msg=o[he],he}function R(p){return(p<<1)-(p>4?9:0)}function Z(p){for(var he=p.length;--he>=0;)p[he]=0}function N(p){var he=p.state,ge=he.pending;ge>p.avail_out&&(ge=p.avail_out),ge!==0&&(w.arraySet(p.output,he.pending_buf,he.pending_out,ge,p.next_out),p.next_out+=ge,he.pending_out+=ge,p.total_out+=ge,p.avail_out-=ge,he.pending-=ge,he.pending===0&&(he.pending_out=0))}function C(p,he){h._tr_flush_block(p,p.block_start>=0?p.block_start:-1,p.strstart-p.block_start,he),p.block_start=p.strstart,N(p.strm)}function T(p,he){p.pending_buf[p.pending++]=he}function H(p,he){p.pending_buf[p.pending++]=he>>>8&255,p.pending_buf[p.pending++]=he&255}function ue(p,he,ge,L){var ae=p.avail_in;return ae>L&&(ae=L),ae===0?0:(p.avail_in-=ae,w.arraySet(he,p.input,p.next_in,ae,ge),p.state.wrap===1?p.adler=m(p.adler,he,ae,ge):p.state.wrap===2&&(p.adler=d(p.adler,he,ae,ge)),p.next_in+=ae,p.total_in+=ae,ae)}function me(p,he){var ge=p.max_chain_length,L=p.strstart,ae,xe,Ce=p.prev_length,Ae=p.nice_match,Be=p.strstart>p.w_size-V?p.strstart-(p.w_size-V):0,Fe=p.window,Ye=p.w_mask,ze=p.prev,Ne=p.strstart+G,Ue=Fe[L+Ce-1],We=Fe[L+Ce];p.prev_length>=p.good_match&&(ge>>=2),Ae>p.lookahead&&(Ae=p.lookahead);do if(ae=he,!(Fe[ae+Ce]!==We||Fe[ae+Ce-1]!==Ue||Fe[ae]!==Fe[L]||Fe[++ae]!==Fe[L+1])){L+=2,ae++;do;while(Fe[++L]===Fe[++ae]&&Fe[++L]===Fe[++ae]&&Fe[++L]===Fe[++ae]&&Fe[++L]===Fe[++ae]&&Fe[++L]===Fe[++ae]&&Fe[++L]===Fe[++ae]&&Fe[++L]===Fe[++ae]&&Fe[++L]===Fe[++ae]&&L<Ne);if(xe=G-(Ne-L),L=Ne-G,xe>Ce){if(p.match_start=he,Ce=xe,xe>=Ae)break;Ue=Fe[L+Ce-1],We=Fe[L+Ce]}}while((he=ze[he&Ye])>Be&&--ge!==0);return Ce<=p.lookahead?Ce:p.lookahead}function ye(p){var he=p.w_size,ge,L,ae,xe,Ce;do{if(xe=p.window_size-p.lookahead-p.strstart,p.strstart>=he+(he-V)){w.arraySet(p.window,p.window,he,he,0),p.match_start-=he,p.strstart-=he,p.block_start-=he,L=p.hash_size,ge=L;do ae=p.head[--ge],p.head[ge]=ae>=he?ae-he:0;while(--L);L=he,ge=L;do ae=p.prev[--ge],p.prev[ge]=ae>=he?ae-he:0;while(--L);xe+=he}if(p.strm.avail_in===0)break;if(L=ue(p.strm,p.window,p.strstart+p.lookahead,xe),p.lookahead+=L,p.lookahead+p.insert>=ee)for(Ce=p.strstart-p.insert,p.ins_h=p.window[Ce],p.ins_h=(p.ins_h<<p.hash_shift^p.window[Ce+1])&p.hash_mask;p.insert&&(p.ins_h=(p.ins_h<<p.hash_shift^p.window[Ce+ee-1])&p.hash_mask,p.prev[Ce&p.w_mask]=p.head[p.ins_h],p.head[p.ins_h]=Ce,Ce++,p.insert--,!(p.lookahead+p.insert<ee)););}while(p.lookahead<V&&p.strm.avail_in!==0)}function Me(p,he){var ge=65535;for(ge>p.pending_buf_size-5&&(ge=p.pending_buf_size-5);;){if(p.lookahead<=1){if(ye(p),p.lookahead===0&&he===s)return se;if(p.lookahead===0)break}p.strstart+=p.lookahead,p.lookahead=0;var L=p.block_start+ge;if((p.strstart===0||p.strstart>=L)&&(p.lookahead=p.strstart-L,p.strstart=L,C(p,!1),p.strm.avail_out===0)||p.strstart-p.block_start>=p.w_size-V&&(C(p,!1),p.strm.avail_out===0))return se}return p.insert=0,he===e?(C(p,!0),p.strm.avail_out===0?J:te):(p.strstart>p.block_start&&(C(p,!1),p.strm.avail_out===0),se)}function ke(p,he){for(var ge,L;;){if(p.lookahead<V){if(ye(p),p.lookahead<V&&he===s)return se;if(p.lookahead===0)break}if(ge=0,p.lookahead>=ee&&(p.ins_h=(p.ins_h<<p.hash_shift^p.window[p.strstart+ee-1])&p.hash_mask,ge=p.prev[p.strstart&p.w_mask]=p.head[p.ins_h],p.head[p.ins_h]=p.strstart),ge!==0&&p.strstart-ge<=p.w_size-V&&(p.match_length=me(p,ge)),p.match_length>=ee)if(L=h._tr_tally(p,p.strstart-p.match_start,p.match_length-ee),p.lookahead-=p.match_length,p.match_length<=p.max_lazy_match&&p.lookahead>=ee){p.match_length--;do p.strstart++,p.ins_h=(p.ins_h<<p.hash_shift^p.window[p.strstart+ee-1])&p.hash_mask,ge=p.prev[p.strstart&p.w_mask]=p.head[p.ins_h],p.head[p.ins_h]=p.strstart;while(--p.match_length!==0);p.strstart++}else p.strstart+=p.match_length,p.match_length=0,p.ins_h=p.window[p.strstart],p.ins_h=(p.ins_h<<p.hash_shift^p.window[p.strstart+1])&p.hash_mask;else L=h._tr_tally(p,0,p.window[p.strstart]),p.lookahead--,p.strstart++;if(L&&(C(p,!1),p.strm.avail_out===0))return se}return p.insert=p.strstart<ee-1?p.strstart:ee-1,he===e?(C(p,!0),p.strm.avail_out===0?J:te):p.last_lit&&(C(p,!1),p.strm.avail_out===0)?se:X}function Oe(p,he){for(var ge,L,ae;;){if(p.lookahead<V){if(ye(p),p.lookahead<V&&he===s)return se;if(p.lookahead===0)break}if(ge=0,p.lookahead>=ee&&(p.ins_h=(p.ins_h<<p.hash_shift^p.window[p.strstart+ee-1])&p.hash_mask,ge=p.prev[p.strstart&p.w_mask]=p.head[p.ins_h],p.head[p.ins_h]=p.strstart),p.prev_length=p.match_length,p.prev_match=p.match_start,p.match_length=ee-1,ge!==0&&p.prev_length<p.max_lazy_match&&p.strstart-ge<=p.w_size-V&&(p.match_length=me(p,ge),p.match_length<=5&&(p.strategy===v||p.match_length===ee&&p.strstart-p.match_start>4096)&&(p.match_length=ee-1)),p.prev_length>=ee&&p.match_length<=p.prev_length){ae=p.strstart+p.lookahead-ee,L=h._tr_tally(p,p.strstart-1-p.prev_match,p.prev_length-ee),p.lookahead-=p.prev_length-1,p.prev_length-=2;do++p.strstart<=ae&&(p.ins_h=(p.ins_h<<p.hash_shift^p.window[p.strstart+ee-1])&p.hash_mask,ge=p.prev[p.strstart&p.w_mask]=p.head[p.ins_h],p.head[p.ins_h]=p.strstart);while(--p.prev_length!==0);if(p.match_available=0,p.match_length=ee-1,p.strstart++,L&&(C(p,!1),p.strm.avail_out===0))return se}else if(p.match_available){if(L=h._tr_tally(p,0,p.window[p.strstart-1]),L&&C(p,!1),p.strstart++,p.lookahead--,p.strm.avail_out===0)return se}else p.match_available=1,p.strstart++,p.lookahead--}return p.match_available&&(L=h._tr_tally(p,0,p.window[p.strstart-1]),p.match_available=0),p.insert=p.strstart<ee-1?p.strstart:ee-1,he===e?(C(p,!0),p.strm.avail_out===0?J:te):p.last_lit&&(C(p,!1),p.strm.avail_out===0)?se:X}function Te(p,he){for(var ge,L,ae,xe,Ce=p.window;;){if(p.lookahead<=G){if(ye(p),p.lookahead<=G&&he===s)return se;if(p.lookahead===0)break}if(p.match_length=0,p.lookahead>=ee&&p.strstart>0&&(ae=p.strstart-1,L=Ce[ae],L===Ce[++ae]&&L===Ce[++ae]&&L===Ce[++ae])){xe=p.strstart+G;do;while(L===Ce[++ae]&&L===Ce[++ae]&&L===Ce[++ae]&&L===Ce[++ae]&&L===Ce[++ae]&&L===Ce[++ae]&&L===Ce[++ae]&&L===Ce[++ae]&&ae<xe);p.match_length=G-(xe-ae),p.match_length>p.lookahead&&(p.match_length=p.lookahead)}if(p.match_length>=ee?(ge=h._tr_tally(p,1,p.match_length-ee),p.lookahead-=p.match_length,p.strstart+=p.match_length,p.match_length=0):(ge=h._tr_tally(p,0,p.window[p.strstart]),p.lookahead--,p.strstart++),ge&&(C(p,!1),p.strm.avail_out===0))return se}return p.insert=0,he===e?(C(p,!0),p.strm.avail_out===0?J:te):p.last_lit&&(C(p,!1),p.strm.avail_out===0)?se:X}function Re(p,he){for(var ge;;){if(p.lookahead===0&&(ye(p),p.lookahead===0)){if(he===s)return se;break}if(p.match_length=0,ge=h._tr_tally(p,0,p.window[p.strstart]),p.lookahead--,p.strstart++,ge&&(C(p,!1),p.strm.avail_out===0))return se}return p.insert=0,he===e?(C(p,!0),p.strm.avail_out===0?J:te):p.last_lit&&(C(p,!1),p.strm.avail_out===0)?se:X}function Le(p,he,ge,L,ae){this.good_length=p,this.max_lazy=he,this.nice_length=ge,this.max_chain=L,this.func=ae}var Pe;Pe=[new Le(0,0,0,0,Me),new Le(4,4,8,4,ke),new Le(4,5,16,8,ke),new Le(4,6,32,32,ke),new Le(4,4,16,16,Oe),new Le(8,16,32,32,Oe),new Le(8,16,128,128,Oe),new Le(8,32,128,256,Oe),new Le(32,128,258,1024,Oe),new Le(32,258,258,4096,Oe)];function Ie(p){p.window_size=2*p.w_size,Z(p.head),p.max_lazy_match=Pe[p.level].max_lazy,p.good_match=Pe[p.level].good_length,p.nice_match=Pe[p.level].nice_length,p.max_chain_length=Pe[p.level].max_chain,p.strstart=0,p.block_start=0,p.lookahead=0,p.insert=0,p.match_length=p.prev_length=ee-1,p.match_available=0,p.ins_h=0}function k(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=A,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new w.Buf16(q*2),this.dyn_dtree=new w.Buf16((2*B+1)*2),this.bl_tree=new w.Buf16((2*Y+1)*2),Z(this.dyn_ltree),Z(this.dyn_dtree),Z(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new w.Buf16(ie+1),this.heap=new w.Buf16(2*O+1),Z(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new w.Buf16(2*O+1),Z(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function pe(p){var he;return!p||!p.state?P(p,f):(p.total_in=p.total_out=0,p.data_type=S,he=p.state,he.pending=0,he.pending_out=0,he.wrap<0&&(he.wrap=-he.wrap),he.status=he.wrap?Q:be,p.adler=he.wrap===2?0:1,he.last_flush=s,h._tr_init(he),l)}function _e(p){var he=pe(p);return he===l&&Ie(p.state),he}function Ee(p,he){return!p||!p.state||p.state.wrap!==2?f:(p.state.gzhead=he,l)}function ce(p,he,ge,L,ae,xe){if(!p)return f;var Ce=1;if(he===c&&(he=6),L<0?(Ce=0,L=-L):L>15&&(Ce=2,L-=16),ae<1||ae>F||ge!==A||L<8||L>15||he<0||he>9||xe<0||xe>x)return P(p,f);L===8&&(L=9);var Ae=new k;return p.state=Ae,Ae.strm=p,Ae.wrap=Ce,Ae.gzhead=null,Ae.w_bits=L,Ae.w_size=1<<Ae.w_bits,Ae.w_mask=Ae.w_size-1,Ae.hash_bits=ae+7,Ae.hash_size=1<<Ae.hash_bits,Ae.hash_mask=Ae.hash_size-1,Ae.hash_shift=~~((Ae.hash_bits+ee-1)/ee),Ae.window=new w.Buf8(Ae.w_size*2),Ae.head=new w.Buf16(Ae.hash_size),Ae.prev=new w.Buf16(Ae.w_size),Ae.lit_bufsize=1<<ae+6,Ae.pending_buf_size=Ae.lit_bufsize*4,Ae.pending_buf=new w.Buf8(Ae.pending_buf_size),Ae.d_buf=1*Ae.lit_bufsize,Ae.l_buf=(1+2)*Ae.lit_bufsize,Ae.level=he,Ae.strategy=xe,Ae.method=ge,_e(p)}function we(p,he){return ce(p,he,A,M,z,E)}function K(p,he){var ge,L,ae,xe;if(!p||!p.state||he>a||he<0)return p?P(p,f):f;if(L=p.state,!p.output||!p.input&&p.avail_in!==0||L.status===le&&he!==e)return P(p,p.avail_out===0?u:f);if(L.strm=p,ge=L.last_flush,L.last_flush=he,L.status===Q)if(L.wrap===2)p.adler=0,T(L,31),T(L,139),T(L,8),L.gzhead?(T(L,(L.gzhead.text?1:0)+(L.gzhead.hcrc?2:0)+(L.gzhead.extra?4:0)+(L.gzhead.name?8:0)+(L.gzhead.comment?16:0)),T(L,L.gzhead.time&255),T(L,L.gzhead.time>>8&255),T(L,L.gzhead.time>>16&255),T(L,L.gzhead.time>>24&255),T(L,L.level===9?2:L.strategy>=g||L.level<2?4:0),T(L,L.gzhead.os&255),L.gzhead.extra&&L.gzhead.extra.length&&(T(L,L.gzhead.extra.length&255),T(L,L.gzhead.extra.length>>8&255)),L.gzhead.hcrc&&(p.adler=d(p.adler,L.pending_buf,L.pending,0)),L.gzindex=0,L.status=oe):(T(L,0),T(L,0),T(L,0),T(L,0),T(L,0),T(L,L.level===9?2:L.strategy>=g||L.level<2?4:0),T(L,j),L.status=be);else{var Ce=A+(L.w_bits-8<<4)<<8,Ae=-1;L.strategy>=g||L.level<2?Ae=0:L.level<6?Ae=1:L.level===6?Ae=2:Ae=3,Ce|=Ae<<6,L.strstart!==0&&(Ce|=W),Ce+=31-Ce%31,L.status=be,H(L,Ce),L.strstart!==0&&(H(L,p.adler>>>16),H(L,p.adler&65535)),p.adler=1}if(L.status===oe)if(L.gzhead.extra){for(ae=L.pending;L.gzindex<(L.gzhead.extra.length&65535)&&!(L.pending===L.pending_buf_size&&(L.gzhead.hcrc&&L.pending>ae&&(p.adler=d(p.adler,L.pending_buf,L.pending-ae,ae)),N(p),ae=L.pending,L.pending===L.pending_buf_size));)T(L,L.gzhead.extra[L.gzindex]&255),L.gzindex++;L.gzhead.hcrc&&L.pending>ae&&(p.adler=d(p.adler,L.pending_buf,L.pending-ae,ae)),L.gzindex===L.gzhead.extra.length&&(L.gzindex=0,L.status=ve)}else L.status=ve;if(L.status===ve)if(L.gzhead.name){ae=L.pending;do{if(L.pending===L.pending_buf_size&&(L.gzhead.hcrc&&L.pending>ae&&(p.adler=d(p.adler,L.pending_buf,L.pending-ae,ae)),N(p),ae=L.pending,L.pending===L.pending_buf_size)){xe=1;break}L.gzindex<L.gzhead.name.length?xe=L.gzhead.name.charCodeAt(L.gzindex++)&255:xe=0,T(L,xe)}while(xe!==0);L.gzhead.hcrc&&L.pending>ae&&(p.adler=d(p.adler,L.pending_buf,L.pending-ae,ae)),xe===0&&(L.gzindex=0,L.status=fe)}else L.status=fe;if(L.status===fe)if(L.gzhead.comment){ae=L.pending;do{if(L.pending===L.pending_buf_size&&(L.gzhead.hcrc&&L.pending>ae&&(p.adler=d(p.adler,L.pending_buf,L.pending-ae,ae)),N(p),ae=L.pending,L.pending===L.pending_buf_size)){xe=1;break}L.gzindex<L.gzhead.comment.length?xe=L.gzhead.comment.charCodeAt(L.gzindex++)&255:xe=0,T(L,xe)}while(xe!==0);L.gzhead.hcrc&&L.pending>ae&&(p.adler=d(p.adler,L.pending_buf,L.pending-ae,ae)),xe===0&&(L.status=de)}else L.status=de;if(L.status===de&&(L.gzhead.hcrc?(L.pending+2>L.pending_buf_size&&N(p),L.pending+2<=L.pending_buf_size&&(T(L,p.adler&255),T(L,p.adler>>8&255),p.adler=0,L.status=be)):L.status=be),L.pending!==0){if(N(p),p.avail_out===0)return L.last_flush=-1,l}else if(p.avail_in===0&&R(he)<=R(ge)&&he!==e)return P(p,u);if(L.status===le&&p.avail_in!==0)return P(p,u);if(p.avail_in!==0||L.lookahead!==0||he!==s&&L.status!==le){var Be=L.strategy===g?Re(L,he):L.strategy===b?Te(L,he):Pe[L.level].func(L,he);if((Be===J||Be===te)&&(L.status=le),Be===se||Be===J)return p.avail_out===0&&(L.last_flush=-1),l;if(Be===X&&(he===n?h._tr_align(L):he!==a&&(h._tr_stored_block(L,0,0,!1),he===t&&(Z(L.head),L.lookahead===0&&(L.strstart=0,L.block_start=0,L.insert=0))),N(p),p.avail_out===0))return L.last_flush=-1,l}return he!==e?l:L.wrap<=0?i:(L.wrap===2?(T(L,p.adler&255),T(L,p.adler>>8&255),T(L,p.adler>>16&255),T(L,p.adler>>24&255),T(L,p.total_in&255),T(L,p.total_in>>8&255),T(L,p.total_in>>16&255),T(L,p.total_in>>24&255)):(H(L,p.adler>>>16),H(L,p.adler&65535)),N(p),L.wrap>0&&(L.wrap=-L.wrap),L.pending!==0?l:i)}function Se(p){var he;return!p||!p.state?f:(he=p.state.status,he!==Q&&he!==oe&&he!==ve&&he!==fe&&he!==de&&he!==be&&he!==le?P(p,f):(p.state=null,he===be?P(p,r):l))}function De(p,he){var ge=he.length,L,ae,xe,Ce,Ae,Be,Fe,Ye;if(!p||!p.state||(L=p.state,Ce=L.wrap,Ce===2||Ce===1&&L.status!==Q||L.lookahead))return f;for(Ce===1&&(p.adler=m(p.adler,he,ge,0)),L.wrap=0,ge>=L.w_size&&(Ce===0&&(Z(L.head),L.strstart=0,L.block_start=0,L.insert=0),Ye=new w.Buf8(L.w_size),w.arraySet(Ye,he,ge-L.w_size,L.w_size,0),he=Ye,ge=L.w_size),Ae=p.avail_in,Be=p.next_in,Fe=p.input,p.avail_in=ge,p.next_in=0,p.input=he,ye(L);L.lookahead>=ee;){ae=L.strstart,xe=L.lookahead-(ee-1);do L.ins_h=(L.ins_h<<L.hash_shift^L.window[ae+ee-1])&L.hash_mask,L.prev[ae&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=ae,ae++;while(--xe);L.strstart=ae,L.lookahead=ee-1,ye(L)}return L.strstart+=L.lookahead,L.block_start=L.strstart,L.insert=L.lookahead,L.lookahead=0,L.match_length=L.prev_length=ee-1,L.match_available=0,p.next_in=Be,p.input=Fe,p.avail_in=Ae,L.wrap=Ce,l}_.deflateInit=we,_.deflateInit2=ce,_.deflateReset=_e,_.deflateResetKeep=pe,_.deflateSetHeader=Ee,_.deflate=K,_.deflateEnd=Se,_.deflateSetDictionary=De,_.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":89,"./adler32":91,"./crc32":93,"./messages":99,"./trees":100}],95:[function(y,D,_){function w(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}D.exports=w},{}],96:[function(y,D,_){arguments[4][41][0].apply(_,arguments)},{dup:41}],97:[function(y,D,_){arguments[4][42][0].apply(_,arguments)},{"../utils/common":89,"./adler32":91,"./crc32":93,"./inffast":96,"./inftrees":98,dup:42}],98:[function(y,D,_){arguments[4][43][0].apply(_,arguments)},{"../utils/common":89,dup:43}],99:[function(y,D,_){arguments[4][44][0].apply(_,arguments)},{dup:44}],100:[function(y,D,_){var w=y("../utils/common"),h=4,m=0,d=1,o=2;function s(k){for(var pe=k.length;--pe>=0;)k[pe]=0}var n=0,t=1,e=2,a=3,l=258,i=29,f=256,r=f+1+i,u=30,c=19,v=2*r+1,g=15,b=16,x=7,E=256,S=16,A=17,F=18,M=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],U=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],O=512,B=new Array((r+2)*2);s(B);var Y=new Array(u*2);s(Y);var q=new Array(O);s(q);var ie=new Array(l-a+1);s(ie);var ee=new Array(i);s(ee);var G=new Array(u);s(G);function V(k,pe,_e,Ee,ce){this.static_tree=k,this.extra_bits=pe,this.extra_base=_e,this.elems=Ee,this.max_length=ce,this.has_stree=k&&k.length}var W,Q,oe;function ve(k,pe){this.dyn_tree=k,this.max_code=0,this.stat_desc=pe}function fe(k){return k<256?q[k]:q[256+(k>>>7)]}function de(k,pe){k.pending_buf[k.pending++]=pe&255,k.pending_buf[k.pending++]=pe>>>8&255}function be(k,pe,_e){k.bi_valid>b-_e?(k.bi_buf|=pe<<k.bi_valid&65535,de(k,k.bi_buf),k.bi_buf=pe>>b-k.bi_valid,k.bi_valid+=_e-b):(k.bi_buf|=pe<<k.bi_valid&65535,k.bi_valid+=_e)}function le(k,pe,_e){be(k,_e[pe*2],_e[pe*2+1])}function se(k,pe){var _e=0;do _e|=k&1,k>>>=1,_e<<=1;while(--pe>0);return _e>>>1}function X(k){k.bi_valid===16?(de(k,k.bi_buf),k.bi_buf=0,k.bi_valid=0):k.bi_valid>=8&&(k.pending_buf[k.pending++]=k.bi_buf&255,k.bi_buf>>=8,k.bi_valid-=8)}function J(k,pe){var _e=pe.dyn_tree,Ee=pe.max_code,ce=pe.stat_desc.static_tree,we=pe.stat_desc.has_stree,K=pe.stat_desc.extra_bits,Se=pe.stat_desc.extra_base,De=pe.stat_desc.max_length,p,he,ge,L,ae,xe,Ce=0;for(L=0;L<=g;L++)k.bl_count[L]=0;for(_e[k.heap[k.heap_max]*2+1]=0,p=k.heap_max+1;p<v;p++)he=k.heap[p],L=_e[_e[he*2+1]*2+1]+1,L>De&&(L=De,Ce++),_e[he*2+1]=L,!(he>Ee)&&(k.bl_count[L]++,ae=0,he>=Se&&(ae=K[he-Se]),xe=_e[he*2],k.opt_len+=xe*(L+ae),we&&(k.static_len+=xe*(ce[he*2+1]+ae)));if(Ce!==0){do{for(L=De-1;k.bl_count[L]===0;)L--;k.bl_count[L]--,k.bl_count[L+1]+=2,k.bl_count[De]--,Ce-=2}while(Ce>0);for(L=De;L!==0;L--)for(he=k.bl_count[L];he!==0;)ge=k.heap[--p],!(ge>Ee)&&(_e[ge*2+1]!==L&&(k.opt_len+=(L-_e[ge*2+1])*_e[ge*2],_e[ge*2+1]=L),he--)}}function te(k,pe,_e){var Ee=new Array(g+1),ce=0,we,K;for(we=1;we<=g;we++)Ee[we]=ce=ce+_e[we-1]<<1;for(K=0;K<=pe;K++){var Se=k[K*2+1];Se!==0&&(k[K*2]=se(Ee[Se]++,Se))}}function j(){var k,pe,_e,Ee,ce,we=new Array(g+1);for(_e=0,Ee=0;Ee<i-1;Ee++)for(ee[Ee]=_e,k=0;k<1<<M[Ee];k++)ie[_e++]=Ee;for(ie[_e-1]=Ee,ce=0,Ee=0;Ee<16;Ee++)for(G[Ee]=ce,k=0;k<1<<z[Ee];k++)q[ce++]=Ee;for(ce>>=7;Ee<u;Ee++)for(G[Ee]=ce<<7,k=0;k<1<<z[Ee]-7;k++)q[256+ce++]=Ee;for(pe=0;pe<=g;pe++)we[pe]=0;for(k=0;k<=143;)B[k*2+1]=8,k++,we[8]++;for(;k<=255;)B[k*2+1]=9,k++,we[9]++;for(;k<=279;)B[k*2+1]=7,k++,we[7]++;for(;k<=287;)B[k*2+1]=8,k++,we[8]++;for(te(B,r+1,we),k=0;k<u;k++)Y[k*2+1]=5,Y[k*2]=se(k,5);W=new V(B,M,f+1,r,g),Q=new V(Y,z,0,u,g),oe=new V(new Array(0),U,0,c,x)}function P(k){var pe;for(pe=0;pe<r;pe++)k.dyn_ltree[pe*2]=0;for(pe=0;pe<u;pe++)k.dyn_dtree[pe*2]=0;for(pe=0;pe<c;pe++)k.bl_tree[pe*2]=0;k.dyn_ltree[E*2]=1,k.opt_len=k.static_len=0,k.last_lit=k.matches=0}function R(k){k.bi_valid>8?de(k,k.bi_buf):k.bi_valid>0&&(k.pending_buf[k.pending++]=k.bi_buf),k.bi_buf=0,k.bi_valid=0}function Z(k,pe,_e,Ee){R(k),Ee&&(de(k,_e),de(k,~_e)),w.arraySet(k.pending_buf,k.window,pe,_e,k.pending),k.pending+=_e}function N(k,pe,_e,Ee){var ce=pe*2,we=_e*2;return k[ce]<k[we]||k[ce]===k[we]&&Ee[pe]<=Ee[_e]}function C(k,pe,_e){for(var Ee=k.heap[_e],ce=_e<<1;ce<=k.heap_len&&(ce<k.heap_len&&N(pe,k.heap[ce+1],k.heap[ce],k.depth)&&ce++,!N(pe,Ee,k.heap[ce],k.depth));)k.heap[_e]=k.heap[ce],_e=ce,ce<<=1;k.heap[_e]=Ee}function T(k,pe,_e){var Ee,ce,we=0,K,Se;if(k.last_lit!==0)do Ee=k.pending_buf[k.d_buf+we*2]<<8|k.pending_buf[k.d_buf+we*2+1],ce=k.pending_buf[k.l_buf+we],we++,Ee===0?le(k,ce,pe):(K=ie[ce],le(k,K+f+1,pe),Se=M[K],Se!==0&&(ce-=ee[K],be(k,ce,Se)),Ee--,K=fe(Ee),le(k,K,_e),Se=z[K],Se!==0&&(Ee-=G[K],be(k,Ee,Se)));while(we<k.last_lit);le(k,E,pe)}function H(k,pe){var _e=pe.dyn_tree,Ee=pe.stat_desc.static_tree,ce=pe.stat_desc.has_stree,we=pe.stat_desc.elems,K,Se,De=-1,p;for(k.heap_len=0,k.heap_max=v,K=0;K<we;K++)_e[K*2]!==0?(k.heap[++k.heap_len]=De=K,k.depth[K]=0):_e[K*2+1]=0;for(;k.heap_len<2;)p=k.heap[++k.heap_len]=De<2?++De:0,_e[p*2]=1,k.depth[p]=0,k.opt_len--,ce&&(k.static_len-=Ee[p*2+1]);for(pe.max_code=De,K=k.heap_len>>1;K>=1;K--)C(k,_e,K);p=we;do K=k.heap[1],k.heap[1]=k.heap[k.heap_len--],C(k,_e,1),Se=k.heap[1],k.heap[--k.heap_max]=K,k.heap[--k.heap_max]=Se,_e[p*2]=_e[K*2]+_e[Se*2],k.depth[p]=(k.depth[K]>=k.depth[Se]?k.depth[K]:k.depth[Se])+1,_e[K*2+1]=_e[Se*2+1]=p,k.heap[1]=p++,C(k,_e,1);while(k.heap_len>=2);k.heap[--k.heap_max]=k.heap[1],J(k,pe),te(_e,De,k.bl_count)}function ue(k,pe,_e){var Ee,ce=-1,we,K=pe[0*2+1],Se=0,De=7,p=4;for(K===0&&(De=138,p=3),pe[(_e+1)*2+1]=65535,Ee=0;Ee<=_e;Ee++)we=K,K=pe[(Ee+1)*2+1],!(++Se<De&&we===K)&&(Se<p?k.bl_tree[we*2]+=Se:we!==0?(we!==ce&&k.bl_tree[we*2]++,k.bl_tree[S*2]++):Se<=10?k.bl_tree[A*2]++:k.bl_tree[F*2]++,Se=0,ce=we,K===0?(De=138,p=3):we===K?(De=6,p=3):(De=7,p=4))}function me(k,pe,_e){var Ee,ce=-1,we,K=pe[0*2+1],Se=0,De=7,p=4;for(K===0&&(De=138,p=3),Ee=0;Ee<=_e;Ee++)if(we=K,K=pe[(Ee+1)*2+1],!(++Se<De&&we===K)){if(Se<p)do le(k,we,k.bl_tree);while(--Se!==0);else we!==0?(we!==ce&&(le(k,we,k.bl_tree),Se--),le(k,S,k.bl_tree),be(k,Se-3,2)):Se<=10?(le(k,A,k.bl_tree),be(k,Se-3,3)):(le(k,F,k.bl_tree),be(k,Se-11,7));Se=0,ce=we,K===0?(De=138,p=3):we===K?(De=6,p=3):(De=7,p=4)}}function ye(k){var pe;for(ue(k,k.dyn_ltree,k.l_desc.max_code),ue(k,k.dyn_dtree,k.d_desc.max_code),H(k,k.bl_desc),pe=c-1;pe>=3&&k.bl_tree[I[pe]*2+1]===0;pe--);return k.opt_len+=3*(pe+1)+5+5+4,pe}function Me(k,pe,_e,Ee){var ce;for(be(k,pe-257,5),be(k,_e-1,5),be(k,Ee-4,4),ce=0;ce<Ee;ce++)be(k,k.bl_tree[I[ce]*2+1],3);me(k,k.dyn_ltree,pe-1),me(k,k.dyn_dtree,_e-1)}function ke(k){var pe=4093624447,_e;for(_e=0;_e<=31;_e++,pe>>>=1)if(pe&1&&k.dyn_ltree[_e*2]!==0)return m;if(k.dyn_ltree[9*2]!==0||k.dyn_ltree[10*2]!==0||k.dyn_ltree[13*2]!==0)return d;for(_e=32;_e<f;_e++)if(k.dyn_ltree[_e*2]!==0)return d;return m}var Oe=!1;function Te(k){Oe||(j(),Oe=!0),k.l_desc=new ve(k.dyn_ltree,W),k.d_desc=new ve(k.dyn_dtree,Q),k.bl_desc=new ve(k.bl_tree,oe),k.bi_buf=0,k.bi_valid=0,P(k)}function Re(k,pe,_e,Ee){be(k,(n<<1)+(Ee?1:0),3),Z(k,pe,_e,!0)}function Le(k){be(k,t<<1,3),le(k,E,B),X(k)}function Pe(k,pe,_e,Ee){var ce,we,K=0;k.level>0?(k.strm.data_type===o&&(k.strm.data_type=ke(k)),H(k,k.l_desc),H(k,k.d_desc),K=ye(k),ce=k.opt_len+3+7>>>3,we=k.static_len+3+7>>>3,we<=ce&&(ce=we)):ce=we=_e+5,_e+4<=ce&&pe!==-1?Re(k,pe,_e,Ee):k.strategy===h||we===ce?(be(k,(t<<1)+(Ee?1:0),3),T(k,B,Y)):(be(k,(e<<1)+(Ee?1:0),3),Me(k,k.l_desc.max_code+1,k.d_desc.max_code+1,K+1),T(k,k.dyn_ltree,k.dyn_dtree)),P(k),Ee&&R(k)}function Ie(k,pe,_e){return k.pending_buf[k.d_buf+k.last_lit*2]=pe>>>8&255,k.pending_buf[k.d_buf+k.last_lit*2+1]=pe&255,k.pending_buf[k.l_buf+k.last_lit]=_e&255,k.last_lit++,pe===0?k.dyn_ltree[_e*2]++:(k.matches++,pe--,k.dyn_ltree[(ie[_e]+f+1)*2]++,k.dyn_dtree[fe(pe)*2]++),k.last_lit===k.lit_bufsize-1}_._tr_init=Te,_._tr_stored_block=Re,_._tr_flush_block=Pe,_._tr_tally=Ie,_._tr_align=Le},{"../utils/common":89}],101:[function(y,D,_){arguments[4][46][0].apply(_,arguments)},{dup:46}],102:[function(y,D,_){D.exports=function(o){if(!o)throw new Error("no data provided");o=o.toString().trim();var s={pages:[],chars:[],kernings:[]},n=o.split(/\r\n?|\n/g);if(n.length===0)throw new Error("no data in BMFont file");for(var t=0;t<n.length;t++){var e=w(n[t],t);if(!!e)if(e.key==="page"){if(typeof e.data.id!="number")throw new Error("malformed file at line "+t+" -- needs page id=N");if(typeof e.data.file!="string")throw new Error("malformed file at line "+t+' -- needs page file="path"');s.pages[e.data.id]=e.data.file}else e.key==="chars"||e.key==="kernings"||(e.key==="char"?s.chars.push(e.data):e.key==="kerning"?s.kernings.push(e.data):s[e.key]=e.data)}return s};function w(d,o){if(d=d.replace(/\t+/g," ").trim(),!d)return null;var s=d.indexOf(" ");if(s===-1)throw new Error("no named row at line "+o);var n=d.substring(0,s);d=d.substring(s+1),d=d.replace(/letter=[\'\"]\S+[\'\"]/gi,""),d=d.split("="),d=d.map(function(i){return i.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});for(var t=[],e=0;e<d.length;e++){var a=d[e];e===0?t.push({key:a[0],data:""}):e===d.length-1?t[t.length-1].data=h(a[0]):(t[t.length-1].data=h(a[0]),t.push({key:a[1],data:""}))}var l={key:n,data:{}};return t.forEach(function(i){l.data[i.key]=i.data}),l}function h(d){return!d||d.length===0?"":d.indexOf('"')===0||d.indexOf("'")===0?d.substring(1,d.length-1):d.indexOf(",")!==-1?m(d):parseInt(d,10)}function m(d){return d.split(",").map(function(o){return parseInt(o,10)})}},{}],103:[function(y,D,_){var w=[66,77,70];D.exports=function(l){if(l.length<6)throw new Error("invalid buffer length for BMFont");var i=w.every(function(v,g){return l.readUInt8(g)===v});if(!i)throw new Error("BMFont missing BMF byte header");var f=3,r=l.readUInt8(f++);if(r>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var u={kernings:[],chars:[]},c=0;c<5;c++)f+=h(u,l,f);return u};function h(a,l,i){if(i>l.length-1)return 0;var f=l.readUInt8(i++),r=l.readInt32LE(i);switch(i+=4,f){case 1:a.info=m(l,i);break;case 2:a.common=d(l,i);break;case 3:a.pages=o(l,i,r);break;case 4:a.chars=s(l,i,r);break;case 5:a.kernings=n(l,i,r);break}return 5+r}function m(a,l){var i={};i.size=a.readInt16LE(l);var f=a.readUInt8(l+2);return i.smooth=f>>7&1,i.unicode=f>>6&1,i.italic=f>>5&1,i.bold=f>>4&1,f>>3&1&&(i.fixedHeight=1),i.charset=a.readUInt8(l+3)||"",i.stretchH=a.readUInt16LE(l+4),i.aa=a.readUInt8(l+6),i.padding=[a.readInt8(l+7),a.readInt8(l+8),a.readInt8(l+9),a.readInt8(l+10)],i.spacing=[a.readInt8(l+11),a.readInt8(l+12)],i.outline=a.readUInt8(l+13),i.face=e(a,l+14),i}function d(a,l){var i={};return i.lineHeight=a.readUInt16LE(l),i.base=a.readUInt16LE(l+2),i.scaleW=a.readUInt16LE(l+4),i.scaleH=a.readUInt16LE(l+6),i.pages=a.readUInt16LE(l+8),a.readUInt8(l+10),i.packed=0,i.alphaChnl=a.readUInt8(l+11),i.redChnl=a.readUInt8(l+12),i.greenChnl=a.readUInt8(l+13),i.blueChnl=a.readUInt8(l+14),i}function o(a,l,i){for(var f=[],r=t(a,l),u=r.length+1,c=i/u,v=0;v<c;v++)f[v]=a.slice(l,l+r.length).toString("utf8"),l+=u;return f}function s(a,l,i){for(var f=[],r=i/20,u=0;u<r;u++){var c={},v=u*20;c.id=a.readUInt32LE(l+0+v),c.x=a.readUInt16LE(l+4+v),c.y=a.readUInt16LE(l+6+v),c.width=a.readUInt16LE(l+8+v),c.height=a.readUInt16LE(l+10+v),c.xoffset=a.readInt16LE(l+12+v),c.yoffset=a.readInt16LE(l+14+v),c.xadvance=a.readInt16LE(l+16+v),c.page=a.readUInt8(l+18+v),c.chnl=a.readUInt8(l+19+v),f[u]=c}return f}function n(a,l,i){for(var f=[],r=i/10,u=0;u<r;u++){var c={},v=u*10;c.first=a.readUInt32LE(l+0+v),c.second=a.readUInt32LE(l+4+v),c.amount=a.readInt16LE(l+8+v),f[u]=c}return f}function t(a,l){for(var i=l;i<a.length&&a[i]!==0;i++);return a.slice(l,i)}function e(a,l){return t(a,l).toString("utf8")}},{}],104:[function(y,D,_){var w=y("./parse-attribs"),h=y("xml-parse-from-string"),m={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};D.exports=function(t){t=t.toString();var e=h(t),a={pages:[],chars:[],kernings:[]};["info","common"].forEach(function(v){var g=e.getElementsByTagName(v)[0];g&&(a[v]=w(d(g)))});var l=e.getElementsByTagName("pages")[0];if(!l)throw new Error("malformed file -- no <pages> element");for(var i=l.getElementsByTagName("page"),f=0;f<i.length;f++){var r=i[f],u=parseInt(r.getAttribute("id"),10),c=r.getAttribute("file");if(isNaN(u))throw new Error('malformed file -- page "id" attribute is NaN');if(!c)throw new Error('malformed file -- needs page "file" attribute');a.pages[parseInt(u,10)]=c}return["chars","kernings"].forEach(function(v){var g=e.getElementsByTagName(v)[0];if(!!g)for(var b=v.substring(0,v.length-1),x=g.getElementsByTagName(b),E=0;E<x.length;E++){var S=x[E];a[v].push(w(d(S)))}}),a};function d(n){var t=o(n);return t.reduce(function(e,a){var l=s(a.nodeName);return e[l]=a.nodeValue,e},{})}function o(n){for(var t=[],e=0;e<n.attributes.length;e++)t.push(n.attributes[e]);return t}function s(n){return m[n.toLowerCase()]||n}},{"./parse-attribs":105,"xml-parse-from-string":188}],105:[function(y,D,_){var w="chasrset";D.exports=function(d){w in d&&(d.charset=d[w],delete d[w]);for(var o in d)o==="face"||o==="charset"||(o==="padding"||o==="spacing"?d[o]=h(d[o]):d[o]=parseInt(d[o],10));return d};function h(m){return m.split(",").map(function(d){return parseInt(d,10)})}},{}],106:[function(y,D,_){var w=y("trim"),h=y("for-each"),m=function(d){return Object.prototype.toString.call(d)==="[object Array]"};D.exports=function(d){if(!d)return{};var o={};return h(w(d).split(`
`),function(s){var n=s.indexOf(":"),t=w(s.slice(0,n)).toLowerCase(),e=w(s.slice(n+1));typeof o[t]>"u"?o[t]=e:m(o[t])?o[t].push(e):o[t]=[o[t],e]}),o}},{"for-each":63,trim:179}],107:[function(y,D,_){(function(w){function h(s,n){for(var t=0,e=s.length-1;e>=0;e--){var a=s[e];a==="."?s.splice(e,1):a===".."?(s.splice(e,1),t++):t&&(s.splice(e,1),t--)}if(n)for(;t--;t)s.unshift("..");return s}_.resolve=function(){for(var s="",n=!1,t=arguments.length-1;t>=-1&&!n;t--){var e=t>=0?arguments[t]:w.cwd();if(typeof e!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!e)continue;s=e+"/"+s,n=e.charAt(0)==="/"}return s=h(d(s.split("/"),function(a){return!!a}),!n).join("/"),(n?"/":"")+s||"."},_.normalize=function(s){var n=_.isAbsolute(s),t=o(s,-1)==="/";return s=h(d(s.split("/"),function(e){return!!e}),!n).join("/"),!s&&!n&&(s="."),s&&t&&(s+="/"),(n?"/":"")+s},_.isAbsolute=function(s){return s.charAt(0)==="/"},_.join=function(){var s=Array.prototype.slice.call(arguments,0);return _.normalize(d(s,function(n,t){if(typeof n!="string")throw new TypeError("Arguments to path.join must be strings");return n}).join("/"))},_.relative=function(s,n){s=_.resolve(s).substr(1),n=_.resolve(n).substr(1);function t(u){for(var c=0;c<u.length&&u[c]==="";c++);for(var v=u.length-1;v>=0&&u[v]==="";v--);return c>v?[]:u.slice(c,v-c+1)}for(var e=t(s.split("/")),a=t(n.split("/")),l=Math.min(e.length,a.length),i=l,f=0;f<l;f++)if(e[f]!==a[f]){i=f;break}for(var r=[],f=i;f<e.length;f++)r.push("..");return r=r.concat(a.slice(i)),r.join("/")},_.sep="/",_.delimiter=":",_.dirname=function(s){if(typeof s!="string"&&(s=s+""),s.length===0)return".";for(var n=s.charCodeAt(0),t=n===47,e=-1,a=!0,l=s.length-1;l>=1;--l)if(n=s.charCodeAt(l),n===47){if(!a){e=l;break}}else a=!1;return e===-1?t?"/":".":t&&e===1?"/":s.slice(0,e)};function m(s){typeof s!="string"&&(s=s+"");var n=0,t=-1,e=!0,a;for(a=s.length-1;a>=0;--a)if(s.charCodeAt(a)===47){if(!e){n=a+1;break}}else t===-1&&(e=!1,t=a+1);return t===-1?"":s.slice(n,t)}_.basename=function(s,n){var t=m(s);return n&&t.substr(-1*n.length)===n&&(t=t.substr(0,t.length-n.length)),t},_.extname=function(s){typeof s!="string"&&(s=s+"");for(var n=-1,t=0,e=-1,a=!0,l=0,i=s.length-1;i>=0;--i){var f=s.charCodeAt(i);if(f===47){if(!a){t=i+1;break}continue}e===-1&&(a=!1,e=i+1),f===46?n===-1?n=i:l!==1&&(l=1):n!==-1&&(l=-1)}return n===-1||e===-1||l===0||l===1&&n===e-1&&n===t+1?"":s.slice(n,e)};function d(s,n){if(s.filter)return s.filter(n);for(var t=[],e=0;e<s.length;e++)n(s[e],e,s)&&t.push(s[e]);return t}var o="ab".substr(-1)==="b"?function(s,n,t){return s.substr(n,t)}:function(s,n,t){return n<0&&(n=s.length+n),s.substr(n,t)}}).call(this,y("_process"))},{_process:133}],108:[function(y,D,_){(function(w){var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},m=y("http"),d=y("https"),o=y("url"),s=y("querystring"),n=y("zlib"),t=y("util"),e=function(l,i){if(typeof l!="string"&&!l.hasOwnProperty("url"))throw new Error("Missing url option from options for request method.");var f=(typeof l>"u"?"undefined":h(l))==="object"?o.parse(l.url):o.parse(l),r={hostname:f.hostname,port:f.port||(f.protocol.toLowerCase()==="http:"?80:443),path:f.path,method:"GET",headers:{},auth:f.auth||null,parse:"none",stream:!1};if((typeof l>"u"?"undefined":h(l))==="object"&&(r=Object.assign(r,l)),r.port=Number(r.port),r.hasOwnProperty("timeout")&&delete r.timeout,r.compressed===!0&&(r.headers["accept-encoding"]="gzip, deflate"),l.hasOwnProperty("form")){if(h(l.form)!=="object")throw new Error("phin 'form' option must be of type Object if present.");var u=s.stringify(l.form);r.headers["Content-Type"]="application/x-www-form-urlencoded",r.headers["Content-Length"]=w.byteLength(u),l.data=u}var c=void 0,v=function(E){var S=E;r.compressed===!0&&(E.headers["content-encoding"]==="gzip"?S=E.pipe(n.createGunzip()):E.headers["content-encoding"]==="deflate"&&(S=E.pipe(n.createInflate()))),r.stream===!0?(E.stream=S,i(null,E)):(E.body=new w([]),S.on("data",function(A){E.body=w.concat([E.body,A])}),S.on("end",function(){if(i){if(r.parse==="json")try{E.body=JSON.parse(E.body.toString())}catch{i("Invalid JSON received.",E);return}i(null,E)}}))};switch(f.protocol.toLowerCase()){case"http:":c=m.request(r,v);break;case"https:":c=d.request(r,v);break;default:i&&i(new Error("Invalid / unknown URL protocol. Expected HTTP or HTTPS."),null);return}if(typeof l.timeout=="number"&&c.setTimeout(l.timeout,function(){c.abort(),i(new Error("Timeout has been reached."),null),i=null}),c.on("error",function(x){i&&i(x,null)}),l.hasOwnProperty("data")){var g=l.data;if(!(l.data instanceof w)&&h(l.data)==="object"){var b=r.headers["content-type"]||r.headers["Content-Type"];if(b==="application/x-www-form-urlencoded")g=s.stringify(l.data);else try{g=JSON.stringify(l.data)}catch{i(new Error("Couldn't stringify object. (Likely due to a circular reference.)"),null)}}c.write(g)}c.end()};e.promisified=function(a,l){return new Promise(function(i,f){e(a,function(r,u){r?f(r):i(u)})})},t.promisify&&(e[t.promisify.custom]=e.promisified),D.exports=e}).call(this,y("buffer").Buffer)},{buffer:48,http:156,https:72,querystring:137,url:180,util:186,zlib:35}],109:[function(y,D,_){D.exports=w;function w(a,l,i,f,r,u){u||(u={});for(var c=u.threshold===void 0?.1:u.threshold,v=35215*c*c,g=0,b=0;b<r;b++)for(var x=0;x<f;x++){var E=(b*f+x)*4,S=m(a,l,E,E);if(S>v)!u.includeAA&&(h(a,x,b,f,r,l)||h(l,x,b,f,r,a))?i&&t(i,E,255,255,0):(i&&t(i,E,255,0,0),g++);else if(i){var A=n(e(a,E),.1);t(i,E,A,A,A)}}return g}function h(a,l,i,f,r,u){for(var c=Math.max(l-1,0),v=Math.max(i-1,0),g=Math.min(l+1,f-1),b=Math.min(i+1,r-1),x=(i*f+l)*4,E=0,S=0,A=0,F=0,M=0,z,U,I,O,B=c;B<=g;B++)for(var Y=v;Y<=b;Y++)if(!(B===l&&Y===i)){var q=m(a,a,x,(Y*f+B)*4,!0);if(q===0?E++:q<0?A++:q>0&&S++,E>2)return!1;!u||(q<F&&(F=q,z=B,U=Y),q>M&&(M=q,I=B,O=Y))}return u?A===0||S===0?!1:!h(a,z,U,f,r)&&!h(u,z,U,f,r)||!h(a,I,O,f,r)&&!h(u,I,O,f,r):!0}function m(a,l,i,f,r){var u=a[i+3]/255,c=l[f+3]/255,v=n(a[i+0],u),g=n(a[i+1],u),b=n(a[i+2],u),x=n(l[f+0],c),E=n(l[f+1],c),S=n(l[f+2],c),A=d(v,g,b)-d(x,E,S);if(r)return A;var F=o(v,g,b)-o(x,E,S),M=s(v,g,b)-s(x,E,S);return .5053*A*A+.299*F*F+.1957*M*M}function d(a,l,i){return a*.29889531+l*.58662247+i*.11448223}function o(a,l,i){return a*.59597799-l*.2741761-i*.32180189}function s(a,l,i){return a*.21147017-l*.52261711+i*.31114694}function n(a,l){return 255+(a-255)*l}function t(a,l,i,f,r){a[l+0]=i,a[l+1]=f,a[l+2]=r,a[l+3]=255}function e(a,l){var i=a[l+3]/255,f=n(a[l+0],i),r=n(a[l+1],i),u=n(a[l+2],i);return d(f,r,u)}},{}],110:[function(y,D,_){(function(w){var h=y("./interlace"),m={1:{0:0,1:0,2:0,3:255},2:{0:0,1:0,2:0,3:1},3:{0:0,1:1,2:2,3:255},4:{0:0,1:1,2:2,3:3}};function d(n,t){var e=[],a=0;function l(){if(a===n.length)throw new Error("Ran out of data");var i=n[a];a++;var f,r,u,c,v,g,b,x;switch(t){default:throw new Error("unrecognised depth");case 16:b=n[a],a++,e.push((i<<8)+b);break;case 4:b=i&15,x=i>>4,e.push(x,b);break;case 2:v=i&3,g=i>>2&3,b=i>>4&3,x=i>>6&3,e.push(x,b,g,v);break;case 1:f=i&1,r=i>>1&1,u=i>>2&1,c=i>>3&1,v=i>>4&1,g=i>>5&1,b=i>>6&1,x=i>>7&1,e.push(x,b,g,v,c,u,r,f);break}}return{get:function(i){for(;e.length<i;)l();var f=e.slice(0,i);return e=e.slice(i),f},resetAfterLine:function(){e.length=0},end:function(){if(a!==n.length)throw new Error("extra data found")}}}function o(n,t,e,a,l,i){for(var f=n.width,r=n.height,u=n.index,c=0;c<r;c++)for(var v=0;v<f;v++){for(var g=e(v,c,u),b=0;b<4;b++){var x=m[a][b];if(x===255)t[g+b]=255;else{var E=x+i;if(E===l.length)throw new Error("Ran out of data");t[g+b]=l[E]}}i+=a}return i}function s(n,t,e,a,l,i){for(var f=n.width,r=n.height,u=n.index,c=0;c<r;c++){for(var v=0;v<f;v++)for(var g=l.get(a),b=e(v,c,u),x=0;x<4;x++){var E=m[a][x];t[b+x]=E!==255?g[E]:i}l.resetAfterLine()}}_.dataToBitMap=function(n,t){var e=t.width,a=t.height,l=t.depth,i=t.bpp,f=t.interlace;if(l!==8)var r=d(n,l);var u;l<=8?u=new w(e*a*4):u=new Uint16Array(e*a*4);var c=Math.pow(2,l)-1,v=0,g,b;if(f)g=h.getImagePasses(e,a),b=h.getInterlaceIterator(e,a);else{var x=0;b=function(){var S=x;return x+=4,S},g=[{width:e,height:a}]}for(var E=0;E<g.length;E++)l===8?v=o(g[E],u,b,i,n,v):s(g[E],u,b,i,r,c);if(l===8){if(v!==n.length)throw new Error("extra data found")}else r.end();return u}}).call(this,y("buffer").Buffer)},{"./interlace":120,buffer:48}],111:[function(y,D,_){(function(w){var h=y("./constants");D.exports=function(m,d,o,s){var n=[h.COLORTYPE_COLOR_ALPHA,h.COLORTYPE_ALPHA].indexOf(s.colorType)!==-1;if(s.colorType===s.inputColorType){var t=function(){var S=new ArrayBuffer(2);return new DataView(S).setInt16(0,256,!0),new Int16Array(S)[0]!==256}();if(s.bitDepth===8||s.bitDepth===16&&t)return m}var e=s.bitDepth!==16?m:new Uint16Array(m.buffer),a=255,l=h.COLORTYPE_TO_BPP_MAP[s.inputColorType];l==4&&!s.inputHasAlpha&&(l=3);var i=h.COLORTYPE_TO_BPP_MAP[s.colorType];s.bitDepth===16&&(a=65535,i*=2);var f=new w(d*o*i),r=0,u=0,c=s.bgColor||{};c.red===void 0&&(c.red=a),c.green===void 0&&(c.green=a),c.blue===void 0&&(c.blue=a);function v(S,A){var F,M,z,U=a;switch(s.inputColorType){case h.COLORTYPE_COLOR_ALPHA:U=S[A+3],F=S[A],M=S[A+1],z=S[A+2];break;case h.COLORTYPE_COLOR:F=S[A],M=S[A+1],z=S[A+2];break;case h.COLORTYPE_ALPHA:U=S[A+1],F=S[A],M=F,z=F;break;case h.COLORTYPE_GRAYSCALE:F=S[A],M=F,z=F;break;default:throw new Error("input color type:"+s.inputColorType+" is not supported at present")}return s.inputHasAlpha&&(n||(U/=a,F=Math.min(Math.max(Math.round((1-U)*c.red+U*F),0),a),M=Math.min(Math.max(Math.round((1-U)*c.green+U*M),0),a),z=Math.min(Math.max(Math.round((1-U)*c.blue+U*z),0),a))),{red:F,green:M,blue:z,alpha:U}}for(var g=0;g<o;g++)for(var b=0;b<d;b++){var x=v(e,r);switch(s.colorType){case h.COLORTYPE_COLOR_ALPHA:case h.COLORTYPE_COLOR:s.bitDepth===8?(f[u]=x.red,f[u+1]=x.green,f[u+2]=x.blue,n&&(f[u+3]=x.alpha)):(f.writeUInt16BE(x.red,u),f.writeUInt16BE(x.green,u+2),f.writeUInt16BE(x.blue,u+4),n&&f.writeUInt16BE(x.alpha,u+6));break;case h.COLORTYPE_ALPHA:case h.COLORTYPE_GRAYSCALE:var E=(x.red+x.green+x.blue)/3;s.bitDepth===8?(f[u]=E,n&&(f[u+1]=x.alpha)):(f.writeUInt16BE(E,u),n&&f.writeUInt16BE(x.alpha,u+2));break}r+=l,u+=i}return f}}).call(this,y("buffer").Buffer)},{"./constants":113,buffer:48}],112:[function(y,D,_){(function(w,h){var m=y("util"),d=y("stream"),o=D.exports=function(){d.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};m.inherits(o,d),o.prototype.read=function(s,n){this._reads.push({length:Math.abs(s),allowLess:s<0,func:n}),w.nextTick(function(){this._process(),this._paused&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}.bind(this))},o.prototype.write=function(s,n){if(!this.writable)return this.emit("error",new Error("Stream not writable")),!1;var t;return h.isBuffer(s)?t=s:t=new h(s,n||this._encoding),this._buffers.push(t),this._buffered+=t.length,this._process(),this._reads&&this._reads.length===0&&(this._paused=!0),this.writable&&!this._paused},o.prototype.end=function(s,n){s&&this.write(s,n),this.writable=!1,this._buffers&&(this._buffers.length===0?this._end():(this._buffers.push(null),this._process()))},o.prototype.destroySoon=o.prototype.end,o.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("There are some read requests waiting on finished stream")),this.destroy()},o.prototype.destroy=function(){!this._buffers||(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},o.prototype._processReadAllowingLess=function(s){this._reads.shift();var n=this._buffers[0];n.length>s.length?(this._buffered-=s.length,this._buffers[0]=n.slice(s.length),s.func.call(this,n.slice(0,s.length))):(this._buffered-=n.length,this._buffers.shift(),s.func.call(this,n))},o.prototype._processRead=function(s){this._reads.shift();for(var n=0,t=0,e=new h(s.length);n<s.length;){var a=this._buffers[t++],l=Math.min(a.length,s.length-n);a.copy(e,n,0,l),n+=l,l!==a.length&&(this._buffers[--t]=a.slice(l))}t>0&&this._buffers.splice(0,t),this._buffered-=s.length,s.func.call(this,e)},o.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){var s=this._reads[0];if(s.allowLess)this._processReadAllowingLess(s);else if(this._buffered>=s.length)this._processRead(s);else break}this._buffers&&this._buffers.length>0&&this._buffers[0]===null&&this._end()}catch(n){this.emit("error",n)}}}).call(this,y("_process"),y("buffer").Buffer)},{_process:133,buffer:48,stream:155,util:186}],113:[function(y,D,_){D.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}},{}],114:[function(y,D,_){var w=[];(function(){for(var m=0;m<256;m++){for(var d=m,o=0;o<8;o++)d&1?d=3988292384^d>>>1:d=d>>>1;w[m]=d}})();var h=D.exports=function(){this._crc=-1};h.prototype.write=function(m){for(var d=0;d<m.length;d++)this._crc=w[(this._crc^m[d])&255]^this._crc>>>8;return!0},h.prototype.crc32=function(){return this._crc^-1},h.crc32=function(m){for(var d=-1,o=0;o<m.length;o++)d=w[(d^m[o])&255]^d>>>8;return d^-1}},{}],115:[function(y,D,_){(function(w){var h=y("./paeth-predictor");function m(u,c,v,g,b){for(var x=0;x<v;x++)g[b+x]=u[c+x]}function d(u,c,v){for(var g=0,b=c+v,x=c;x<b;x++)g+=Math.abs(u[x]);return g}function o(u,c,v,g,b,x){for(var E=0;E<v;E++){var S=E>=x?u[c+E-x]:0,A=u[c+E]-S;g[b+E]=A}}function s(u,c,v,g){for(var b=0,x=0;x<v;x++){var E=x>=g?u[c+x-g]:0,S=u[c+x]-E;b+=Math.abs(S)}return b}function n(u,c,v,g,b){for(var x=0;x<v;x++){var E=c>0?u[c+x-v]:0,S=u[c+x]-E;g[b+x]=S}}function t(u,c,v){for(var g=0,b=c+v,x=c;x<b;x++){var E=c>0?u[x-v]:0,S=u[x]-E;g+=Math.abs(S)}return g}function e(u,c,v,g,b,x){for(var E=0;E<v;E++){var S=E>=x?u[c+E-x]:0,A=c>0?u[c+E-v]:0,F=u[c+E]-(S+A>>1);g[b+E]=F}}function a(u,c,v,g){for(var b=0,x=0;x<v;x++){var E=x>=g?u[c+x-g]:0,S=c>0?u[c+x-v]:0,A=u[c+x]-(E+S>>1);b+=Math.abs(A)}return b}function l(u,c,v,g,b,x){for(var E=0;E<v;E++){var S=E>=x?u[c+E-x]:0,A=c>0?u[c+E-v]:0,F=c>0&&E>=x?u[c+E-(v+x)]:0,M=u[c+E]-h(S,A,F);g[b+E]=M}}function i(u,c,v,g){for(var b=0,x=0;x<v;x++){var E=x>=g?u[c+x-g]:0,S=c>0?u[c+x-v]:0,A=c>0&&x>=g?u[c+x-(v+g)]:0,F=u[c+x]-h(E,S,A);b+=Math.abs(F)}return b}var f={0:m,1:o,2:n,3:e,4:l},r={0:d,1:s,2:t,3:a,4:i};D.exports=function(u,c,v,g,b){var x;if(!("filterType"in g)||g.filterType===-1)x=[0,1,2,3,4];else if(typeof g.filterType=="number")x=[g.filterType];else throw new Error("unrecognised filter types");g.bitDepth===16&&(b*=2);for(var E=c*b,S=0,A=0,F=new w((E+1)*v),M=x[0],z=0;z<v;z++){if(x.length>1)for(var U=1/0,I=0;I<x.length;I++){var O=r[x[I]](u,A,E,b);O<U&&(M=x[I],U=O)}F[S]=M,S++,f[M](u,A,E,F,S,b),S+=E,A+=E}return F}}).call(this,y("buffer").Buffer)},{"./paeth-predictor":124,buffer:48}],116:[function(y,D,_){(function(w){var h=y("util"),m=y("./chunkstream"),d=y("./filter-parse"),o=D.exports=function(s){m.call(this);var n=[],t=this;this._filter=new d(s,{read:this.read.bind(this),write:function(e){n.push(e)},complete:function(){t.emit("complete",w.concat(n))}}),this._filter.start()};h.inherits(o,m)}).call(this,y("buffer").Buffer)},{"./chunkstream":112,"./filter-parse":118,buffer:48,util:186}],117:[function(y,D,_){(function(w){var h=y("./sync-reader"),m=y("./filter-parse");_.process=function(d,o){var s=[],n=new h(d),t=new m(o,{read:n.read.bind(n),write:function(e){s.push(e)},complete:function(){}});return t.start(),n.process(),w.concat(s)}}).call(this,y("buffer").Buffer)},{"./filter-parse":118,"./sync-reader":131,buffer:48}],118:[function(y,D,_){(function(w){var h=y("./interlace"),m=y("./paeth-predictor");function d(s,n,t){var e=s*n;return t!==8&&(e=Math.ceil(e/(8/t))),e}var o=D.exports=function(s,n){var t=s.width,e=s.height,a=s.interlace,l=s.bpp,i=s.depth;if(this.read=n.read,this.write=n.write,this.complete=n.complete,this._imageIndex=0,this._images=[],a)for(var f=h.getImagePasses(t,e),r=0;r<f.length;r++)this._images.push({byteWidth:d(f[r].width,l,i),height:f[r].height,lineIndex:0});else this._images.push({byteWidth:d(t,l,i),height:e,lineIndex:0});i===8?this._xComparison=l:i===16?this._xComparison=l*2:this._xComparison=1};o.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},o.prototype._unFilterType1=function(s,n,t){for(var e=this._xComparison,a=e-1,l=0;l<t;l++){var i=s[1+l],f=l>a?n[l-e]:0;n[l]=i+f}},o.prototype._unFilterType2=function(s,n,t){for(var e=this._lastLine,a=0;a<t;a++){var l=s[1+a],i=e?e[a]:0;n[a]=l+i}},o.prototype._unFilterType3=function(s,n,t){for(var e=this._xComparison,a=e-1,l=this._lastLine,i=0;i<t;i++){var f=s[1+i],r=l?l[i]:0,u=i>a?n[i-e]:0,c=Math.floor((u+r)/2);n[i]=f+c}},o.prototype._unFilterType4=function(s,n,t){for(var e=this._xComparison,a=e-1,l=this._lastLine,i=0;i<t;i++){var f=s[1+i],r=l?l[i]:0,u=i>a?n[i-e]:0,c=i>a&&l?l[i-e]:0,v=m(u,r,c);n[i]=f+v}},o.prototype._reverseFilterLine=function(s){var n=s[0],t,e=this._images[this._imageIndex],a=e.byteWidth;if(n===0)t=s.slice(1,a+1);else switch(t=new w(a),n){case 1:this._unFilterType1(s,t,a);break;case 2:this._unFilterType2(s,t,a);break;case 3:this._unFilterType3(s,t,a);break;case 4:this._unFilterType4(s,t,a);break;default:throw new Error("Unrecognised filter type - "+n)}this.write(t),e.lineIndex++,e.lineIndex>=e.height?(this._lastLine=null,this._imageIndex++,e=this._images[this._imageIndex]):this._lastLine=t,e?this.read(e.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}}).call(this,y("buffer").Buffer)},{"./interlace":120,"./paeth-predictor":124,buffer:48}],119:[function(y,D,_){(function(w){function h(o,s,n,t,e){for(var a=0,l=0;l<t;l++)for(var i=0;i<n;i++){var f=e[o[a]];if(!f)throw new Error("index "+o[a]+" not in palette");for(var r=0;r<4;r++)s[a+r]=f[r];a+=4}}function m(o,s,n,t,e){for(var a=0,l=0;l<t;l++)for(var i=0;i<n;i++){var f=!1;if(e.length===1?e[0]===o[a]&&(f=!0):e[0]===o[a]&&e[1]===o[a+1]&&e[2]===o[a+2]&&(f=!0),f)for(var r=0;r<4;r++)s[a+r]=0;a+=4}}function d(o,s,n,t,e){for(var a=255,l=Math.pow(2,e)-1,i=0,f=0;f<t;f++)for(var r=0;r<n;r++){for(var u=0;u<4;u++)s[i+u]=Math.floor(o[i+u]*a/l+.5);i+=4}}D.exports=function(o,s){var n=s.depth,t=s.width,e=s.height,a=s.colorType,l=s.transColor,i=s.palette,f=o;return a===3?h(o,f,t,e,i):(l&&m(o,f,t,e,l),n!==8&&(n===16&&(f=new w(t*e*4)),d(o,f,t,e,n))),f}}).call(this,y("buffer").Buffer)},{buffer:48}],120:[function(y,D,_){var w=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];_.getImagePasses=function(h,m){for(var d=[],o=h%8,s=m%8,n=(h-o)/8,t=(m-s)/8,e=0;e<w.length;e++){for(var a=w[e],l=n*a.x.length,i=t*a.y.length,f=0;f<a.x.length&&a.x[f]<o;f++)l++;for(f=0;f<a.y.length&&a.y[f]<s;f++)i++;l>0&&i>0&&d.push({width:l,height:i,index:e})}return d},_.getInterlaceIterator=function(h){return function(m,d,o){var s=m%w[o].x.length,n=(m-s)/w[o].x.length*8+w[o].x[s],t=d%w[o].y.length,e=(d-t)/w[o].y.length*8+w[o].y[t];return n*4+e*h*4}}},{}],121:[function(y,D,_){(function(w){var h=y("util"),m=y("stream"),d=y("./constants"),o=y("./packer"),s=D.exports=function(n){m.call(this);var t=n||{};this._packer=new o(t),this._deflate=this._packer.createDeflate(),this.readable=!0};h.inherits(s,m),s.prototype.pack=function(n,t,e,a){this.emit("data",new w(d.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(t,e)),a&&this.emit("data",this._packer.packGAMA(a));var l=this._packer.filterData(n,t,e);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",function(i){this.emit("data",this._packer.packIDAT(i))}.bind(this)),this._deflate.on("end",function(){this.emit("data",this._packer.packIEND()),this.emit("end")}.bind(this)),this._deflate.end(l)}}).call(this,y("buffer").Buffer)},{"./constants":113,"./packer":123,buffer:48,stream:155,util:186}],122:[function(y,D,_){(function(w){var h=!0,m=y("zlib");m.deflateSync||(h=!1);var d=y("./constants"),o=y("./packer");D.exports=function(s,n){if(!h)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");var t=n||{},e=new o(t),a=[];a.push(new w(d.PNG_SIGNATURE)),a.push(e.packIHDR(s.width,s.height)),s.gamma&&a.push(e.packGAMA(s.gamma));var l=e.filterData(s.data,s.width,s.height),i=m.deflateSync(l,e.getDeflateOptions());if(l=null,!i||!i.length)throw new Error("bad png - invalid compressed data response");return a.push(e.packIDAT(i)),a.push(e.packIEND()),w.concat(a)}}).call(this,y("buffer").Buffer)},{"./constants":113,"./packer":123,buffer:48,zlib:35}],123:[function(y,D,_){(function(w){var h=y("./constants"),m=y("./crc"),d=y("./bitpacker"),o=y("./filter-pack"),s=y("zlib"),n=D.exports=function(t){if(this._options=t,t.deflateChunkSize=t.deflateChunkSize||32*1024,t.deflateLevel=t.deflateLevel!=null?t.deflateLevel:9,t.deflateStrategy=t.deflateStrategy!=null?t.deflateStrategy:3,t.inputHasAlpha=t.inputHasAlpha!=null?t.inputHasAlpha:!0,t.deflateFactory=t.deflateFactory||s.createDeflate,t.bitDepth=t.bitDepth||8,t.colorType=typeof t.colorType=="number"?t.colorType:h.COLORTYPE_COLOR_ALPHA,t.inputColorType=typeof t.inputColorType=="number"?t.inputColorType:h.COLORTYPE_COLOR_ALPHA,[h.COLORTYPE_GRAYSCALE,h.COLORTYPE_COLOR,h.COLORTYPE_COLOR_ALPHA,h.COLORTYPE_ALPHA].indexOf(t.colorType)===-1)throw new Error("option color type:"+t.colorType+" is not supported at present");if([h.COLORTYPE_GRAYSCALE,h.COLORTYPE_COLOR,h.COLORTYPE_COLOR_ALPHA,h.COLORTYPE_ALPHA].indexOf(t.inputColorType)===-1)throw new Error("option input color type:"+t.inputColorType+" is not supported at present");if(t.bitDepth!==8&&t.bitDepth!==16)throw new Error("option bit depth:"+t.bitDepth+" is not supported at present")};n.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},n.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},n.prototype.filterData=function(t,e,a){var l=d(t,e,a,this._options),i=h.COLORTYPE_TO_BPP_MAP[this._options.colorType],f=o(l,e,a,this._options,i);return f},n.prototype._packChunk=function(t,e){var a=e?e.length:0,l=new w(a+12);return l.writeUInt32BE(a,0),l.writeUInt32BE(t,4),e&&e.copy(l,8),l.writeInt32BE(m.crc32(l.slice(4,l.length-4)),l.length-4),l},n.prototype.packGAMA=function(t){var e=new w(4);return e.writeUInt32BE(Math.floor(t*h.GAMMA_DIVISION),0),this._packChunk(h.TYPE_gAMA,e)},n.prototype.packIHDR=function(t,e){var a=new w(13);return a.writeUInt32BE(t,0),a.writeUInt32BE(e,4),a[8]=this._options.bitDepth,a[9]=this._options.colorType,a[10]=0,a[11]=0,a[12]=0,this._packChunk(h.TYPE_IHDR,a)},n.prototype.packIDAT=function(t){return this._packChunk(h.TYPE_IDAT,t)},n.prototype.packIEND=function(){return this._packChunk(h.TYPE_IEND,null)}}).call(this,y("buffer").Buffer)},{"./bitpacker":111,"./constants":113,"./crc":114,"./filter-pack":115,buffer:48,zlib:35}],124:[function(y,D,_){D.exports=function(h,m,d){var o=h+m-d,s=Math.abs(o-h),n=Math.abs(o-m),t=Math.abs(o-d);return s<=n&&s<=t?h:n<=t?m:d}},{}],125:[function(y,D,_){var w=y("util"),h=y("zlib"),m=y("./chunkstream"),d=y("./filter-parse-async"),o=y("./parser"),s=y("./bitmapper"),n=y("./format-normaliser"),t=D.exports=function(e){m.call(this),this._parser=new o(e,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this)}),this._options=e,this.writable=!0,this._parser.start()};w.inherits(t,m),t.prototype._handleError=function(e){this.emit("error",e),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",function(){})),this.errord=!0},t.prototype._inflateData=function(e){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=h.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{var a=(this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3)+1,l=a*this._bitmapInfo.height,i=Math.max(l,h.Z_MIN_CHUNK);this._inflate=h.createInflate({chunkSize:i});var f=l,r=this.emit.bind(this,"error");this._inflate.on("error",function(c){!f||r(c)}),this._filter.on("complete",this._complete.bind(this));var u=this._filter.write.bind(this._filter);this._inflate.on("data",function(c){!f||(c.length>f&&(c=c.slice(0,f)),f-=c.length,u(c))}),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(e)},t.prototype._handleMetaData=function(e){this.emit("metadata",e),this._bitmapInfo=Object.create(e),this._filter=new d(this._bitmapInfo)},t.prototype._handleTransColor=function(e){this._bitmapInfo.transColor=e},t.prototype._handlePalette=function(e){this._bitmapInfo.palette=e},t.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"),this.destroySoon())},t.prototype._complete=function(e){if(!this.errord){try{var a=s.dataToBitMap(e,this._bitmapInfo),l=n(a,this._bitmapInfo);a=null}catch(i){this._handleError(i);return}this.emit("parsed",l)}}},{"./bitmapper":110,"./chunkstream":112,"./filter-parse-async":116,"./format-normaliser":119,"./parser":127,util:186,zlib:35}],126:[function(y,D,_){(function(w){var h=!0,m=y("zlib"),d=y("./sync-inflate");m.deflateSync||(h=!1);var o=y("./sync-reader"),s=y("./filter-parse-sync"),n=y("./parser"),t=y("./bitmapper"),e=y("./format-normaliser");D.exports=function(a,l){if(!h)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");var i;function f(Y){i=Y}var r;function u(Y){r=Y}function c(Y){r.transColor=Y}function v(Y){r.palette=Y}var g;function b(Y){g=Y}var x=[];function E(Y){x.push(Y)}var S=new o(a),A=new n(l,{read:S.read.bind(S),error:f,metadata:u,gamma:b,palette:v,transColor:c,inflateData:E});if(A.start(),S.process(),i)throw i;var F=w.concat(x);x.length=0;var M;if(r.interlace)M=m.inflateSync(F);else{var z=(r.width*r.bpp*r.depth+7>>3)+1,U=z*r.height;M=d(F,{chunkSize:U,maxLength:U})}if(F=null,!M||!M.length)throw new Error("bad png - invalid inflate data response");var I=s.process(M,r);F=null;var O=t.dataToBitMap(I,r);I=null;var B=e(O,r);return r.data=B,r.gamma=g||0,r}}).call(this,y("buffer").Buffer)},{"./bitmapper":110,"./filter-parse-sync":117,"./format-normaliser":119,"./parser":127,"./sync-inflate":130,"./sync-reader":131,buffer:48,zlib:35}],127:[function(y,D,_){(function(w){var h=y("./constants"),m=y("./crc"),d=D.exports=function(o,s){this._options=o,o.checkCRC=o.checkCRC!==!1,this._hasIHDR=!1,this._hasIEND=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[h.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[h.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[h.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[h.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[h.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[h.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=s.read,this.error=s.error,this.metadata=s.metadata,this.gamma=s.gamma,this.transColor=s.transColor,this.palette=s.palette,this.parsed=s.parsed,this.inflateData=s.inflateData,this.finished=s.finished};d.prototype.start=function(){this.read(h.PNG_SIGNATURE.length,this._parseSignature.bind(this))},d.prototype._parseSignature=function(o){for(var s=h.PNG_SIGNATURE,n=0;n<s.length;n++)if(o[n]!==s[n]){this.error(new Error("Invalid file signature"));return}this.read(8,this._parseChunkBegin.bind(this))},d.prototype._parseChunkBegin=function(o){for(var s=o.readUInt32BE(0),n=o.readUInt32BE(4),t="",e=4;e<8;e++)t+=String.fromCharCode(o[e]);var a=Boolean(o[4]&32);if(!this._hasIHDR&&n!==h.TYPE_IHDR){this.error(new Error("Expected IHDR on beggining"));return}if(this._crc=new m,this._crc.write(new w(t)),this._chunks[n])return this._chunks[n](s);if(!a){this.error(new Error("Unsupported critical chunk type "+t));return}this.read(s+4,this._skipChunk.bind(this))},d.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},d.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},d.prototype._parseChunkEnd=function(o){var s=o.readInt32BE(0),n=this._crc.crc32();if(this._options.checkCRC&&n!==s){this.error(new Error("Crc error - "+s+" - "+n));return}this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},d.prototype._handleIHDR=function(o){this.read(o,this._parseIHDR.bind(this))},d.prototype._parseIHDR=function(o){this._crc.write(o);var s=o.readUInt32BE(0),n=o.readUInt32BE(4),t=o[8],e=o[9],a=o[10],l=o[11],i=o[12];if(t!==8&&t!==4&&t!==2&&t!==1&&t!==16){this.error(new Error("Unsupported bit depth "+t));return}if(!(e in h.COLORTYPE_TO_BPP_MAP)){this.error(new Error("Unsupported color type"));return}if(a!==0){this.error(new Error("Unsupported compression method"));return}if(l!==0){this.error(new Error("Unsupported filter method"));return}if(i!==0&&i!==1){this.error(new Error("Unsupported interlace method"));return}this._colorType=e;var f=h.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:s,height:n,depth:t,interlace:Boolean(i),palette:Boolean(e&h.COLORTYPE_PALETTE),color:Boolean(e&h.COLORTYPE_COLOR),alpha:Boolean(e&h.COLORTYPE_ALPHA),bpp:f,colorType:e}),this._handleChunkEnd()},d.prototype._handlePLTE=function(o){this.read(o,this._parsePLTE.bind(this))},d.prototype._parsePLTE=function(o){this._crc.write(o);for(var s=Math.floor(o.length/3),n=0;n<s;n++)this._palette.push([o[n*3],o[n*3+1],o[n*3+2],255]);this.palette(this._palette),this._handleChunkEnd()},d.prototype._handleTRNS=function(o){this.read(o,this._parseTRNS.bind(this))},d.prototype._parseTRNS=function(o){if(this._crc.write(o),this._colorType===h.COLORTYPE_PALETTE_COLOR){if(this._palette.length===0){this.error(new Error("Transparency chunk must be after palette"));return}if(o.length>this._palette.length){this.error(new Error("More transparent colors than palette size"));return}for(var s=0;s<o.length;s++)this._palette[s][3]=o[s];this.palette(this._palette)}this._colorType===h.COLORTYPE_GRAYSCALE&&this.transColor([o.readUInt16BE(0)]),this._colorType===h.COLORTYPE_COLOR&&this.transColor([o.readUInt16BE(0),o.readUInt16BE(2),o.readUInt16BE(4)]),this._handleChunkEnd()},d.prototype._handleGAMA=function(o){this.read(o,this._parseGAMA.bind(this))},d.prototype._parseGAMA=function(o){this._crc.write(o),this.gamma(o.readUInt32BE(0)/h.GAMMA_DIVISION),this._handleChunkEnd()},d.prototype._handleIDAT=function(o){this.read(-o,this._parseIDAT.bind(this,o))},d.prototype._parseIDAT=function(o,s){if(this._crc.write(s),this._colorType===h.COLORTYPE_PALETTE_COLOR&&this._palette.length===0)throw new Error("Expected palette not found");this.inflateData(s);var n=o-s.length;n>0?this._handleIDAT(n):this._handleChunkEnd()},d.prototype._handleIEND=function(o){this.read(o,this._parseIEND.bind(this))},d.prototype._parseIEND=function(o){this._crc.write(o),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}}).call(this,y("buffer").Buffer)},{"./constants":113,"./crc":114,buffer:48}],128:[function(y,D,_){var w=y("./parser-sync"),h=y("./packer-sync");_.read=function(m,d){return w(m,d||{})},_.write=function(m,d){return h(m,d)}},{"./packer-sync":122,"./parser-sync":126}],129:[function(y,D,_){(function(w,h){var m=y("util"),d=y("stream"),o=y("./parser-async"),s=y("./packer-async"),n=y("./png-sync"),t=_.PNG=function(e){d.call(this),e=e||{},this.width=e.width|0,this.height=e.height|0,this.data=this.width>0&&this.height>0?new h(4*this.width*this.height):null,e.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new o(e),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",function(a){this.data=a,this.emit("parsed",a)}.bind(this)),this._packer=new s(e),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};m.inherits(t,d),t.sync=n,t.prototype.pack=function(){return!this.data||!this.data.length?(this.emit("error","No data provided"),this):(w.nextTick(function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}.bind(this)),this)},t.prototype.parse=function(e,a){if(a){var l,i;l=function(f){this.removeListener("error",i),this.data=f,a(null,this)}.bind(this),i=function(f){this.removeListener("parsed",l),a(f,null)}.bind(this),this.once("parsed",l),this.once("error",i)}return this.end(e),this},t.prototype.write=function(e){return this._parser.write(e),!0},t.prototype.end=function(e){this._parser.end(e)},t.prototype._metadata=function(e){this.width=e.width,this.height=e.height,this.emit("metadata",e)},t.prototype._gamma=function(e){this.gamma=e},t.prototype._handleClose=function(){!this._parser.writable&&!this._packer.readable&&this.emit("close")},t.bitblt=function(e,a,l,i,f,r,u,c){if(l|=0,i|=0,f|=0,r|=0,u|=0,c|=0,l>e.width||i>e.height||l+f>e.width||i+r>e.height)throw new Error("bitblt reading outside image");if(u>a.width||c>a.height||u+f>a.width||c+r>a.height)throw new Error("bitblt writing outside image");for(var v=0;v<r;v++)e.data.copy(a.data,(c+v)*a.width+u<<2,(i+v)*e.width+l<<2,(i+v)*e.width+l+f<<2)},t.prototype.bitblt=function(e,a,l,i,f,r,u){return t.bitblt(this,e,a,l,i,f,r,u),this},t.adjustGamma=function(e){if(e.gamma){for(var a=0;a<e.height;a++)for(var l=0;l<e.width;l++)for(var i=e.width*a+l<<2,f=0;f<3;f++){var r=e.data[i+f]/255;r=Math.pow(r,1/2.2/e.gamma),e.data[i+f]=Math.round(r*255)}e.gamma=0}},t.prototype.adjustGamma=function(){t.adjustGamma(this)}}).call(this,y("_process"),y("buffer").Buffer)},{"./packer-async":121,"./parser-async":125,"./png-sync":128,_process:133,buffer:48,stream:155,util:186}],130:[function(y,D,_){(function(w,h){var m=y("assert").ok,d=y("zlib"),o=y("util"),s=y("buffer").kMaxLength;function n(i){if(!(this instanceof n))return new n(i);i&&i.chunkSize<d.Z_MIN_CHUNK&&(i.chunkSize=d.Z_MIN_CHUNK),d.Inflate.call(this,i),this._offset=this._offset===void 0?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,i&&i.maxLength!=null&&(this._maxLength=i.maxLength)}function t(i){return new n(i)}function e(i,f){f&&w.nextTick(f),i._handle&&(i._handle.close(),i._handle=null)}n.prototype._processChunk=function(i,f,r){if(typeof r=="function")return d.Inflate._processChunk.call(this,i,f,r);var u=this,c=i&&i.length,v=this._chunkSize-this._offset,g=this._maxLength,b=0,x=[],E=0,S;this.on("error",function(z){S=z});function A(z,U){if(!u._hadError){var I=v-U;if(m(I>=0,"have should not go down"),I>0){var O=u._buffer.slice(u._offset,u._offset+I);if(u._offset+=I,O.length>g&&(O=O.slice(0,g)),x.push(O),E+=O.length,g-=O.length,g===0)return!1}return(U===0||u._offset>=u._chunkSize)&&(v=u._chunkSize,u._offset=0,u._buffer=h.allocUnsafe(u._chunkSize)),U===0?(b+=c-z,c=z,!0):!1}}m(this._handle,"zlib binding closed");do{var F=this._handle.writeSync(f,i,b,c,this._buffer,this._offset,v);F=F||this._writeState}while(!this._hadError&&A(F[0],F[1]));if(this._hadError)throw S;if(E>=s)throw e(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+s.toString(16)+" bytes");var M=h.concat(x,E);return e(this),M},o.inherits(n,d.Inflate);function a(i,f){if(typeof f=="string"&&(f=h.from(f)),!(f instanceof h))throw new TypeError("Not a string or buffer");var r=i._finishFlushFlag;return r==null&&(r=d.Z_FINISH),i._processChunk(f,r)}function l(i,f){return a(new n(f),i)}D.exports=_=l,_.Inflate=n,_.createInflate=t,_.inflateSync=l}).call(this,y("_process"),y("buffer").Buffer)},{_process:133,assert:25,buffer:48,util:186,zlib:35}],131:[function(y,D,_){var w=D.exports=function(h){this._buffer=h,this._reads=[]};w.prototype.read=function(h,m){this._reads.push({length:Math.abs(h),allowLess:h<0,func:m})},w.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){var h=this._reads[0];if(this._buffer.length&&(this._buffer.length>=h.length||h.allowLess)){this._reads.shift();var m=this._buffer;this._buffer=m.slice(h.length),h.func.call(this,m.slice(0,h.length))}else break}if(this._reads.length>0)return new Error("There are some read requests waitng on finished stream");if(this._buffer.length>0)return new Error("unrecognised content at end of stream")}},{}],132:[function(y,D,_){(function(w){typeof w>"u"||!w.version||w.version.indexOf("v0.")===0||w.version.indexOf("v1.")===0&&w.version.indexOf("v1.8.")!==0?D.exports={nextTick:h}:D.exports=w;function h(m,d,o,s){if(typeof m!="function")throw new TypeError('"callback" argument must be a function');var n=arguments.length,t,e;switch(n){case 0:case 1:return w.nextTick(m);case 2:return w.nextTick(function(){m.call(null,d)});case 3:return w.nextTick(function(){m.call(null,d,o)});case 4:return w.nextTick(function(){m.call(null,d,o,s)});default:for(t=new Array(n-1),e=0;e<t.length;)t[e++]=arguments[e];return w.nextTick(function(){m.apply(null,t)})}}}).call(this,y("_process"))},{_process:133}],133:[function(y,D,_){var w=D.exports={},h,m;function d(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?h=setTimeout:h=d}catch{h=d}try{typeof clearTimeout=="function"?m=clearTimeout:m=o}catch{m=o}})();function s(c){if(h===setTimeout)return setTimeout(c,0);if((h===d||!h)&&setTimeout)return h=setTimeout,setTimeout(c,0);try{return h(c,0)}catch{try{return h.call(null,c,0)}catch{return h.call(this,c,0)}}}function n(c){if(m===clearTimeout)return clearTimeout(c);if((m===o||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(c);try{return m(c)}catch{try{return m.call(null,c)}catch{return m.call(this,c)}}}var t=[],e=!1,a,l=-1;function i(){!e||!a||(e=!1,a.length?t=a.concat(t):l=-1,t.length&&f())}function f(){if(!e){var c=s(i);e=!0;for(var v=t.length;v;){for(a=t,t=[];++l<v;)a&&a[l].run();l=-1,v=t.length}a=null,e=!1,n(c)}}w.nextTick=function(c){var v=new Array(arguments.length-1);if(arguments.length>1)for(var g=1;g<arguments.length;g++)v[g-1]=arguments[g];t.push(new r(c,v)),t.length===1&&!e&&s(f)};function r(c,v){this.fun=c,this.array=v}r.prototype.run=function(){this.fun.apply(null,this.array)},w.title="browser",w.browser=!0,w.env={},w.argv=[],w.version="",w.versions={};function u(){}w.on=u,w.addListener=u,w.once=u,w.off=u,w.removeListener=u,w.removeAllListeners=u,w.emit=u,w.prependListener=u,w.prependOnceListener=u,w.listeners=function(c){return[]},w.binding=function(c){throw new Error("process.binding is not supported")},w.cwd=function(){return"/"},w.chdir=function(c){throw new Error("process.chdir is not supported")},w.umask=function(){return 0}},{}],134:[function(y,D,_){(function(w){(function(h){var m=typeof _=="object"&&_&&!_.nodeType&&_,d=typeof D=="object"&&D&&!D.nodeType&&D,o=typeof w=="object"&&w;(o.global===o||o.window===o||o.self===o)&&(h=o);var s,n=2147483647,t=36,e=1,a=26,l=38,i=700,f=72,r=128,u="-",c=/^xn--/,v=/[^\x20-\x7E]/,g=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=t-e,E=Math.floor,S=String.fromCharCode,A;function F(V){throw new RangeError(b[V])}function M(V,W){for(var Q=V.length,oe=[];Q--;)oe[Q]=W(V[Q]);return oe}function z(V,W){var Q=V.split("@"),oe="";Q.length>1&&(oe=Q[0]+"@",V=Q[1]),V=V.replace(g,".");var ve=V.split("."),fe=M(ve,W).join(".");return oe+fe}function U(V){for(var W=[],Q=0,oe=V.length,ve,fe;Q<oe;)ve=V.charCodeAt(Q++),ve>=55296&&ve<=56319&&Q<oe?(fe=V.charCodeAt(Q++),(fe&64512)==56320?W.push(((ve&1023)<<10)+(fe&1023)+65536):(W.push(ve),Q--)):W.push(ve);return W}function I(V){return M(V,function(W){var Q="";return W>65535&&(W-=65536,Q+=S(W>>>10&1023|55296),W=56320|W&1023),Q+=S(W),Q}).join("")}function O(V){return V-48<10?V-22:V-65<26?V-65:V-97<26?V-97:t}function B(V,W){return V+22+75*(V<26)-((W!=0)<<5)}function Y(V,W,Q){var oe=0;for(V=Q?E(V/i):V>>1,V+=E(V/W);V>x*a>>1;oe+=t)V=E(V/x);return E(oe+(x+1)*V/(V+l))}function q(V){var W=[],Q=V.length,oe,ve=0,fe=r,de=f,be,le,se,X,J,te,j,P,R;for(be=V.lastIndexOf(u),be<0&&(be=0),le=0;le<be;++le)V.charCodeAt(le)>=128&&F("not-basic"),W.push(V.charCodeAt(le));for(se=be>0?be+1:0;se<Q;){for(X=ve,J=1,te=t;se>=Q&&F("invalid-input"),j=O(V.charCodeAt(se++)),(j>=t||j>E((n-ve)/J))&&F("overflow"),ve+=j*J,P=te<=de?e:te>=de+a?a:te-de,!(j<P);te+=t)R=t-P,J>E(n/R)&&F("overflow"),J*=R;oe=W.length+1,de=Y(ve-X,oe,X==0),E(ve/oe)>n-fe&&F("overflow"),fe+=E(ve/oe),ve%=oe,W.splice(ve++,0,fe)}return I(W)}function ie(V){var W,Q,oe,ve,fe,de,be,le,se,X,J,te=[],j,P,R,Z;for(V=U(V),j=V.length,W=r,Q=0,fe=f,de=0;de<j;++de)J=V[de],J<128&&te.push(S(J));for(oe=ve=te.length,ve&&te.push(u);oe<j;){for(be=n,de=0;de<j;++de)J=V[de],J>=W&&J<be&&(be=J);for(P=oe+1,be-W>E((n-Q)/P)&&F("overflow"),Q+=(be-W)*P,W=be,de=0;de<j;++de)if(J=V[de],J<W&&++Q>n&&F("overflow"),J==W){for(le=Q,se=t;X=se<=fe?e:se>=fe+a?a:se-fe,!(le<X);se+=t)Z=le-X,R=t-X,te.push(S(B(X+Z%R,0))),le=E(Z/R);te.push(S(B(le,0))),fe=Y(Q,P,oe==ve),Q=0,++oe}++Q,++W}return te.join("")}function ee(V){return z(V,function(W){return c.test(W)?q(W.slice(4).toLowerCase()):W})}function G(V){return z(V,function(W){return v.test(W)?"xn--"+ie(W):W})}if(s={version:"1.4.1",ucs2:{decode:U,encode:I},decode:q,encode:ie,toASCII:G,toUnicode:ee},m&&d)if(D.exports==m)d.exports=s;else for(A in s)s.hasOwnProperty(A)&&(m[A]=s[A]);else h.punycode=s})(this)}).call(this,typeof je<"u"?je:typeof self<"u"?self:typeof re<"u"?re:{})},{}],135:[function(y,D,_){function w(m,d){return Object.prototype.hasOwnProperty.call(m,d)}D.exports=function(m,d,o,s){d=d||"&",o=o||"=";var n={};if(typeof m!="string"||m.length===0)return n;var t=/\+/g;m=m.split(d);var e=1e3;s&&typeof s.maxKeys=="number"&&(e=s.maxKeys);var a=m.length;e>0&&a>e&&(a=e);for(var l=0;l<a;++l){var i=m[l].replace(t,"%20"),f=i.indexOf(o),r,u,c,v;f>=0?(r=i.substr(0,f),u=i.substr(f+1)):(r=i,u=""),c=decodeURIComponent(r),v=decodeURIComponent(u),w(n,c)?h(n[c])?n[c].push(v):n[c]=[n[c],v]:n[c]=v}return n};var h=Array.isArray||function(m){return Object.prototype.toString.call(m)==="[object Array]"}},{}],136:[function(y,D,_){var w=function(o){switch(typeof o){case"string":return o;case"boolean":return o?"true":"false";case"number":return isFinite(o)?o:"";default:return""}};D.exports=function(o,s,n,t){return s=s||"&",n=n||"=",o===null&&(o=void 0),typeof o=="object"?m(d(o),function(e){var a=encodeURIComponent(w(e))+n;return h(o[e])?m(o[e],function(l){return a+encodeURIComponent(w(l))}).join(s):a+encodeURIComponent(w(o[e]))}).join(s):t?encodeURIComponent(w(t))+n+encodeURIComponent(w(o)):""};var h=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function m(o,s){if(o.map)return o.map(s);for(var n=[],t=0;t<o.length;t++)n.push(s(o[t],t));return n}var d=Object.keys||function(o){var s=[];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&s.push(n);return s}},{}],137:[function(y,D,_){_.decode=_.parse=y("./decode"),_.encode=_.stringify=y("./encode")},{"./decode":135,"./encode":136}],138:[function(y,D,_){D.exports=y("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":139}],139:[function(y,D,_){var w=y("process-nextick-args"),h=Object.keys||function(i){var f=[];for(var r in i)f.push(r);return f};D.exports=e;var m=y("core-util-is");m.inherits=y("inherits");var d=y("./_stream_readable"),o=y("./_stream_writable");m.inherits(e,d);for(var s=h(o.prototype),n=0;n<s.length;n++){var t=s[n];e.prototype[t]||(e.prototype[t]=o.prototype[t])}function e(i){if(!(this instanceof e))return new e(i);d.call(this,i),o.call(this,i),i&&i.readable===!1&&(this.readable=!1),i&&i.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,i&&i.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",a)}Object.defineProperty(e.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function a(){this.allowHalfOpen||this._writableState.ended||w.nextTick(l,this)}function l(i){i.end()}Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(i){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=i,this._writableState.destroyed=i)}}),e.prototype._destroy=function(i,f){this.push(null),this.end(),w.nextTick(f,i)}},{"./_stream_readable":141,"./_stream_writable":143,"core-util-is":51,inherits:75,"process-nextick-args":132}],140:[function(y,D,_){D.exports=m;var w=y("./_stream_transform"),h=y("core-util-is");h.inherits=y("inherits"),h.inherits(m,w);function m(d){if(!(this instanceof m))return new m(d);w.call(this,d)}m.prototype._transform=function(d,o,s){s(null,d)}},{"./_stream_transform":142,"core-util-is":51,inherits:75}],141:[function(y,D,_){(function(w,h){var m=y("process-nextick-args");D.exports=E;var d=y("isarray"),o;E.ReadableState=x,y("events").EventEmitter;var s=function(X,J){return X.listeners(J).length},n=y("./internal/streams/stream"),t=y("safe-buffer").Buffer,e=h.Uint8Array||function(){};function a(X){return t.from(X)}function l(X){return t.isBuffer(X)||X instanceof e}var i=y("core-util-is");i.inherits=y("inherits");var f=y("util"),r=void 0;f&&f.debuglog?r=f.debuglog("stream"):r=function(){};var u=y("./internal/streams/BufferList"),c=y("./internal/streams/destroy"),v;i.inherits(E,n);var g=["error","close","destroy","pause","resume"];function b(X,J,te){if(typeof X.prependListener=="function")return X.prependListener(J,te);!X._events||!X._events[J]?X.on(J,te):d(X._events[J])?X._events[J].unshift(te):X._events[J]=[te,X._events[J]]}function x(X,J){o=o||y("./_stream_duplex"),X=X||{};var te=J instanceof o;this.objectMode=!!X.objectMode,te&&(this.objectMode=this.objectMode||!!X.readableObjectMode);var j=X.highWaterMark,P=X.readableHighWaterMark,R=this.objectMode?16:16*1024;j||j===0?this.highWaterMark=j:te&&(P||P===0)?this.highWaterMark=P:this.highWaterMark=R,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=X.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,X.encoding&&(v||(v=y("string_decoder/").StringDecoder),this.decoder=new v(X.encoding),this.encoding=X.encoding)}function E(X){if(o=o||y("./_stream_duplex"),!(this instanceof E))return new E(X);this._readableState=new x(X,this),this.readable=!0,X&&(typeof X.read=="function"&&(this._read=X.read),typeof X.destroy=="function"&&(this._destroy=X.destroy)),n.call(this)}Object.defineProperty(E.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(X){!this._readableState||(this._readableState.destroyed=X)}}),E.prototype.destroy=c.destroy,E.prototype._undestroy=c.undestroy,E.prototype._destroy=function(X,J){this.push(null),J(X)},E.prototype.push=function(X,J){var te=this._readableState,j;return te.objectMode?j=!0:typeof X=="string"&&(J=J||te.defaultEncoding,J!==te.encoding&&(X=t.from(X,J),J=""),j=!0),S(this,X,J,!1,j)},E.prototype.unshift=function(X){return S(this,X,null,!0,!1)};function S(X,J,te,j,P){var R=X._readableState;if(J===null)R.reading=!1,O(X,R);else{var Z;P||(Z=F(R,J)),Z?X.emit("error",Z):R.objectMode||J&&J.length>0?(typeof J!="string"&&!R.objectMode&&Object.getPrototypeOf(J)!==t.prototype&&(J=a(J)),j?R.endEmitted?X.emit("error",new Error("stream.unshift() after end event")):A(X,R,J,!0):R.ended?X.emit("error",new Error("stream.push() after EOF")):(R.reading=!1,R.decoder&&!te?(J=R.decoder.write(J),R.objectMode||J.length!==0?A(X,R,J,!1):q(X,R)):A(X,R,J,!1))):j||(R.reading=!1)}return M(R)}function A(X,J,te,j){J.flowing&&J.length===0&&!J.sync?(X.emit("data",te),X.read(0)):(J.length+=J.objectMode?1:te.length,j?J.buffer.unshift(te):J.buffer.push(te),J.needReadable&&B(X)),q(X,J)}function F(X,J){var te;return!l(J)&&typeof J!="string"&&J!==void 0&&!X.objectMode&&(te=new TypeError("Invalid non-string/buffer chunk")),te}function M(X){return!X.ended&&(X.needReadable||X.length<X.highWaterMark||X.length===0)}E.prototype.isPaused=function(){return this._readableState.flowing===!1},E.prototype.setEncoding=function(X){return v||(v=y("string_decoder/").StringDecoder),this._readableState.decoder=new v(X),this._readableState.encoding=X,this};var z=8388608;function U(X){return X>=z?X=z:(X--,X|=X>>>1,X|=X>>>2,X|=X>>>4,X|=X>>>8,X|=X>>>16,X++),X}function I(X,J){return X<=0||J.length===0&&J.ended?0:J.objectMode?1:X!==X?J.flowing&&J.length?J.buffer.head.data.length:J.length:(X>J.highWaterMark&&(J.highWaterMark=U(X)),X<=J.length?X:J.ended?J.length:(J.needReadable=!0,0))}E.prototype.read=function(X){r("read",X),X=parseInt(X,10);var J=this._readableState,te=X;if(X!==0&&(J.emittedReadable=!1),X===0&&J.needReadable&&(J.length>=J.highWaterMark||J.ended))return r("read: emitReadable",J.length,J.ended),J.length===0&&J.ended?be(this):B(this),null;if(X=I(X,J),X===0&&J.ended)return J.length===0&&be(this),null;var j=J.needReadable;r("need readable",j),(J.length===0||J.length-X<J.highWaterMark)&&(j=!0,r("length less than watermark",j)),J.ended||J.reading?(j=!1,r("reading or ended",j)):j&&(r("do read"),J.reading=!0,J.sync=!0,J.length===0&&(J.needReadable=!0),this._read(J.highWaterMark),J.sync=!1,J.reading||(X=I(te,J)));var P;return X>0?P=oe(X,J):P=null,P===null?(J.needReadable=!0,X=0):J.length-=X,J.length===0&&(J.ended||(J.needReadable=!0),te!==X&&J.ended&&be(this)),P!==null&&this.emit("data",P),P};function O(X,J){if(!J.ended){if(J.decoder){var te=J.decoder.end();te&&te.length&&(J.buffer.push(te),J.length+=J.objectMode?1:te.length)}J.ended=!0,B(X)}}function B(X){var J=X._readableState;J.needReadable=!1,J.emittedReadable||(r("emitReadable",J.flowing),J.emittedReadable=!0,J.sync?m.nextTick(Y,X):Y(X))}function Y(X){r("emit readable"),X.emit("readable"),Q(X)}function q(X,J){J.readingMore||(J.readingMore=!0,m.nextTick(ie,X,J))}function ie(X,J){for(var te=J.length;!J.reading&&!J.flowing&&!J.ended&&J.length<J.highWaterMark&&(r("maybeReadMore read 0"),X.read(0),te!==J.length);)te=J.length;J.readingMore=!1}E.prototype._read=function(X){this.emit("error",new Error("_read() is not implemented"))},E.prototype.pipe=function(X,J){var te=this,j=this._readableState;switch(j.pipesCount){case 0:j.pipes=X;break;case 1:j.pipes=[j.pipes,X];break;default:j.pipes.push(X);break}j.pipesCount+=1,r("pipe count=%d opts=%j",j.pipesCount,J);var P=(!J||J.end!==!1)&&X!==w.stdout&&X!==w.stderr,R=P?N:Oe;j.endEmitted?m.nextTick(R):te.once("end",R),X.on("unpipe",Z);function Z(Te,Re){r("onunpipe"),Te===te&&Re&&Re.hasUnpiped===!1&&(Re.hasUnpiped=!0,H())}function N(){r("onend"),X.end()}var C=ee(te);X.on("drain",C);var T=!1;function H(){r("cleanup"),X.removeListener("close",Me),X.removeListener("finish",ke),X.removeListener("drain",C),X.removeListener("error",ye),X.removeListener("unpipe",Z),te.removeListener("end",N),te.removeListener("end",Oe),te.removeListener("data",me),T=!0,j.awaitDrain&&(!X._writableState||X._writableState.needDrain)&&C()}var ue=!1;te.on("data",me);function me(Te){r("ondata"),ue=!1;var Re=X.write(Te);Re===!1&&!ue&&((j.pipesCount===1&&j.pipes===X||j.pipesCount>1&&se(j.pipes,X)!==-1)&&!T&&(r("false write response, pause",te._readableState.awaitDrain),te._readableState.awaitDrain++,ue=!0),te.pause())}function ye(Te){r("onerror",Te),Oe(),X.removeListener("error",ye),s(X,"error")===0&&X.emit("error",Te)}b(X,"error",ye);function Me(){X.removeListener("finish",ke),Oe()}X.once("close",Me);function ke(){r("onfinish"),X.removeListener("close",Me),Oe()}X.once("finish",ke);function Oe(){r("unpipe"),te.unpipe(X)}return X.emit("pipe",te),j.flowing||(r("pipe resume"),te.resume()),X};function ee(X){return function(){var J=X._readableState;r("pipeOnDrain",J.awaitDrain),J.awaitDrain&&J.awaitDrain--,J.awaitDrain===0&&s(X,"data")&&(J.flowing=!0,Q(X))}}E.prototype.unpipe=function(X){var J=this._readableState,te={hasUnpiped:!1};if(J.pipesCount===0)return this;if(J.pipesCount===1)return X&&X!==J.pipes?this:(X||(X=J.pipes),J.pipes=null,J.pipesCount=0,J.flowing=!1,X&&X.emit("unpipe",this,te),this);if(!X){var j=J.pipes,P=J.pipesCount;J.pipes=null,J.pipesCount=0,J.flowing=!1;for(var R=0;R<P;R++)j[R].emit("unpipe",this,te);return this}var Z=se(J.pipes,X);return Z===-1?this:(J.pipes.splice(Z,1),J.pipesCount-=1,J.pipesCount===1&&(J.pipes=J.pipes[0]),X.emit("unpipe",this,te),this)},E.prototype.on=function(X,J){var te=n.prototype.on.call(this,X,J);if(X==="data")this._readableState.flowing!==!1&&this.resume();else if(X==="readable"){var j=this._readableState;!j.endEmitted&&!j.readableListening&&(j.readableListening=j.needReadable=!0,j.emittedReadable=!1,j.reading?j.length&&B(this):m.nextTick(G,this))}return te},E.prototype.addListener=E.prototype.on;function G(X){r("readable nexttick read 0"),X.read(0)}E.prototype.resume=function(){var X=this._readableState;return X.flowing||(r("resume"),X.flowing=!0,V(this,X)),this};function V(X,J){J.resumeScheduled||(J.resumeScheduled=!0,m.nextTick(W,X,J))}function W(X,J){J.reading||(r("resume read 0"),X.read(0)),J.resumeScheduled=!1,J.awaitDrain=0,X.emit("resume"),Q(X),J.flowing&&!J.reading&&X.read(0)}E.prototype.pause=function(){return r("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(r("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function Q(X){var J=X._readableState;for(r("flow",J.flowing);J.flowing&&X.read()!==null;);}E.prototype.wrap=function(X){var J=this,te=this._readableState,j=!1;X.on("end",function(){if(r("wrapped end"),te.decoder&&!te.ended){var Z=te.decoder.end();Z&&Z.length&&J.push(Z)}J.push(null)}),X.on("data",function(Z){if(r("wrapped data"),te.decoder&&(Z=te.decoder.write(Z)),!(te.objectMode&&Z==null)&&!(!te.objectMode&&(!Z||!Z.length))){var N=J.push(Z);N||(j=!0,X.pause())}});for(var P in X)this[P]===void 0&&typeof X[P]=="function"&&(this[P]=function(Z){return function(){return X[Z].apply(X,arguments)}}(P));for(var R=0;R<g.length;R++)X.on(g[R],this.emit.bind(this,g[R]));return this._read=function(Z){r("wrapped _read",Z),j&&(j=!1,X.resume())},this},Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),E._fromList=oe;function oe(X,J){if(J.length===0)return null;var te;return J.objectMode?te=J.buffer.shift():!X||X>=J.length?(J.decoder?te=J.buffer.join(""):J.buffer.length===1?te=J.buffer.head.data:te=J.buffer.concat(J.length),J.buffer.clear()):te=ve(X,J.buffer,J.decoder),te}function ve(X,J,te){var j;return X<J.head.data.length?(j=J.head.data.slice(0,X),J.head.data=J.head.data.slice(X)):X===J.head.data.length?j=J.shift():j=te?fe(X,J):de(X,J),j}function fe(X,J){var te=J.head,j=1,P=te.data;for(X-=P.length;te=te.next;){var R=te.data,Z=X>R.length?R.length:X;if(Z===R.length?P+=R:P+=R.slice(0,X),X-=Z,X===0){Z===R.length?(++j,te.next?J.head=te.next:J.head=J.tail=null):(J.head=te,te.data=R.slice(Z));break}++j}return J.length-=j,P}function de(X,J){var te=t.allocUnsafe(X),j=J.head,P=1;for(j.data.copy(te),X-=j.data.length;j=j.next;){var R=j.data,Z=X>R.length?R.length:X;if(R.copy(te,te.length-X,0,Z),X-=Z,X===0){Z===R.length?(++P,j.next?J.head=j.next:J.head=J.tail=null):(J.head=j,j.data=R.slice(Z));break}++P}return J.length-=P,te}function be(X){var J=X._readableState;if(J.length>0)throw new Error('"endReadable()" called on non-empty stream');J.endEmitted||(J.ended=!0,m.nextTick(le,J,X))}function le(X,J){!X.endEmitted&&X.length===0&&(X.endEmitted=!0,J.readable=!1,J.emit("end"))}function se(X,J){for(var te=0,j=X.length;te<j;te++)if(X[te]===J)return te;return-1}}).call(this,y("_process"),typeof je<"u"?je:typeof self<"u"?self:typeof re<"u"?re:{})},{"./_stream_duplex":139,"./internal/streams/BufferList":144,"./internal/streams/destroy":145,"./internal/streams/stream":146,_process:133,"core-util-is":51,events:52,inherits:75,isarray:79,"process-nextick-args":132,"safe-buffer":147,"string_decoder/":148,util:33}],142:[function(y,D,_){D.exports=d;var w=y("./_stream_duplex"),h=y("core-util-is");h.inherits=y("inherits"),h.inherits(d,w);function m(n,t){var e=this._transformState;e.transforming=!1;var a=e.writecb;if(!a)return this.emit("error",new Error("write callback called multiple times"));e.writechunk=null,e.writecb=null,t!=null&&this.push(t),a(n);var l=this._readableState;l.reading=!1,(l.needReadable||l.length<l.highWaterMark)&&this._read(l.highWaterMark)}function d(n){if(!(this instanceof d))return new d(n);w.call(this,n),this._transformState={afterTransform:m.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush)),this.on("prefinish",o)}function o(){var n=this;typeof this._flush=="function"?this._flush(function(t,e){s(n,t,e)}):s(this,null,null)}d.prototype.push=function(n,t){return this._transformState.needTransform=!1,w.prototype.push.call(this,n,t)},d.prototype._transform=function(n,t,e){throw new Error("_transform() is not implemented")},d.prototype._write=function(n,t,e){var a=this._transformState;if(a.writecb=e,a.writechunk=n,a.writeencoding=t,!a.transforming){var l=this._readableState;(a.needTransform||l.needReadable||l.length<l.highWaterMark)&&this._read(l.highWaterMark)}},d.prototype._read=function(n){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},d.prototype._destroy=function(n,t){var e=this;w.prototype._destroy.call(this,n,function(a){t(a),e.emit("close")})};function s(n,t,e){if(t)return n.emit("error",t);if(e!=null&&n.push(e),n._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(n._transformState.transforming)throw new Error("Calling transform done when still transforming");return n.push(null)}},{"./_stream_duplex":139,"core-util-is":51,inherits:75}],143:[function(y,D,_){(function(w,h,m){var d=y("process-nextick-args");D.exports=b;function o(W){var Q=this;this.next=null,this.entry=null,this.finish=function(){V(Q,W)}}var s=!w.browser&&["v0.10","v0.9."].indexOf(w.version.slice(0,5))>-1?m:d.nextTick,n;b.WritableState=v;var t=y("core-util-is");t.inherits=y("inherits");var e={deprecate:y("util-deprecate")},a=y("./internal/streams/stream"),l=y("safe-buffer").Buffer,i=h.Uint8Array||function(){};function f(W){return l.from(W)}function r(W){return l.isBuffer(W)||W instanceof i}var u=y("./internal/streams/destroy");t.inherits(b,a);function c(){}function v(W,Q){n=n||y("./_stream_duplex"),W=W||{};var oe=Q instanceof n;this.objectMode=!!W.objectMode,oe&&(this.objectMode=this.objectMode||!!W.writableObjectMode);var ve=W.highWaterMark,fe=W.writableHighWaterMark,de=this.objectMode?16:16*1024;ve||ve===0?this.highWaterMark=ve:oe&&(fe||fe===0)?this.highWaterMark=fe:this.highWaterMark=de,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var be=W.decodeStrings===!1;this.decodeStrings=!be,this.defaultEncoding=W.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(le){U(Q,le)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}v.prototype.getBuffer=function(){for(var Q=this.bufferedRequest,oe=[];Q;)oe.push(Q),Q=Q.next;return oe},function(){try{Object.defineProperty(v.prototype,"buffer",{get:e.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var g;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(g=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(W){return g.call(this,W)?!0:this!==b?!1:W&&W._writableState instanceof v}})):g=function(W){return W instanceof this};function b(W){if(n=n||y("./_stream_duplex"),!g.call(b,this)&&!(this instanceof n))return new b(W);this._writableState=new v(W,this),this.writable=!0,W&&(typeof W.write=="function"&&(this._write=W.write),typeof W.writev=="function"&&(this._writev=W.writev),typeof W.destroy=="function"&&(this._destroy=W.destroy),typeof W.final=="function"&&(this._final=W.final)),a.call(this)}b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function x(W,Q){var oe=new Error("write after end");W.emit("error",oe),d.nextTick(Q,oe)}function E(W,Q,oe,ve){var fe=!0,de=!1;return oe===null?de=new TypeError("May not write null values to stream"):typeof oe!="string"&&oe!==void 0&&!Q.objectMode&&(de=new TypeError("Invalid non-string/buffer chunk")),de&&(W.emit("error",de),d.nextTick(ve,de),fe=!1),fe}b.prototype.write=function(W,Q,oe){var ve=this._writableState,fe=!1,de=!ve.objectMode&&r(W);return de&&!l.isBuffer(W)&&(W=f(W)),typeof Q=="function"&&(oe=Q,Q=null),de?Q="buffer":Q||(Q=ve.defaultEncoding),typeof oe!="function"&&(oe=c),ve.ended?x(this,oe):(de||E(this,ve,W,oe))&&(ve.pendingcb++,fe=A(this,ve,de,W,Q,oe)),fe},b.prototype.cork=function(){var W=this._writableState;W.corked++},b.prototype.uncork=function(){var W=this._writableState;W.corked&&(W.corked--,!W.writing&&!W.corked&&!W.finished&&!W.bufferProcessing&&W.bufferedRequest&&B(this,W))},b.prototype.setDefaultEncoding=function(Q){if(typeof Q=="string"&&(Q=Q.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Q+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+Q);return this._writableState.defaultEncoding=Q,this};function S(W,Q,oe){return!W.objectMode&&W.decodeStrings!==!1&&typeof Q=="string"&&(Q=l.from(Q,oe)),Q}Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function A(W,Q,oe,ve,fe,de){if(!oe){var be=S(Q,ve,fe);ve!==be&&(oe=!0,fe="buffer",ve=be)}var le=Q.objectMode?1:ve.length;Q.length+=le;var se=Q.length<Q.highWaterMark;if(se||(Q.needDrain=!0),Q.writing||Q.corked){var X=Q.lastBufferedRequest;Q.lastBufferedRequest={chunk:ve,encoding:fe,isBuf:oe,callback:de,next:null},X?X.next=Q.lastBufferedRequest:Q.bufferedRequest=Q.lastBufferedRequest,Q.bufferedRequestCount+=1}else F(W,Q,!1,le,ve,fe,de);return se}function F(W,Q,oe,ve,fe,de,be){Q.writelen=ve,Q.writecb=be,Q.writing=!0,Q.sync=!0,oe?W._writev(fe,Q.onwrite):W._write(fe,de,Q.onwrite),Q.sync=!1}function M(W,Q,oe,ve,fe){--Q.pendingcb,oe?(d.nextTick(fe,ve),d.nextTick(ee,W,Q),W._writableState.errorEmitted=!0,W.emit("error",ve)):(fe(ve),W._writableState.errorEmitted=!0,W.emit("error",ve),ee(W,Q))}function z(W){W.writing=!1,W.writecb=null,W.length-=W.writelen,W.writelen=0}function U(W,Q){var oe=W._writableState,ve=oe.sync,fe=oe.writecb;if(z(oe),Q)M(W,oe,ve,Q,fe);else{var de=Y(oe);!de&&!oe.corked&&!oe.bufferProcessing&&oe.bufferedRequest&&B(W,oe),ve?s(I,W,oe,de,fe):I(W,oe,de,fe)}}function I(W,Q,oe,ve){oe||O(W,Q),Q.pendingcb--,ve(),ee(W,Q)}function O(W,Q){Q.length===0&&Q.needDrain&&(Q.needDrain=!1,W.emit("drain"))}function B(W,Q){Q.bufferProcessing=!0;var oe=Q.bufferedRequest;if(W._writev&&oe&&oe.next){var ve=Q.bufferedRequestCount,fe=new Array(ve),de=Q.corkedRequestsFree;de.entry=oe;for(var be=0,le=!0;oe;)fe[be]=oe,oe.isBuf||(le=!1),oe=oe.next,be+=1;fe.allBuffers=le,F(W,Q,!0,Q.length,fe,"",de.finish),Q.pendingcb++,Q.lastBufferedRequest=null,de.next?(Q.corkedRequestsFree=de.next,de.next=null):Q.corkedRequestsFree=new o(Q),Q.bufferedRequestCount=0}else{for(;oe;){var se=oe.chunk,X=oe.encoding,J=oe.callback,te=Q.objectMode?1:se.length;if(F(W,Q,!1,te,se,X,J),oe=oe.next,Q.bufferedRequestCount--,Q.writing)break}oe===null&&(Q.lastBufferedRequest=null)}Q.bufferedRequest=oe,Q.bufferProcessing=!1}b.prototype._write=function(W,Q,oe){oe(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(W,Q,oe){var ve=this._writableState;typeof W=="function"?(oe=W,W=null,Q=null):typeof Q=="function"&&(oe=Q,Q=null),W!=null&&this.write(W,Q),ve.corked&&(ve.corked=1,this.uncork()),!ve.ending&&!ve.finished&&G(this,ve,oe)};function Y(W){return W.ending&&W.length===0&&W.bufferedRequest===null&&!W.finished&&!W.writing}function q(W,Q){W._final(function(oe){Q.pendingcb--,oe&&W.emit("error",oe),Q.prefinished=!0,W.emit("prefinish"),ee(W,Q)})}function ie(W,Q){!Q.prefinished&&!Q.finalCalled&&(typeof W._final=="function"?(Q.pendingcb++,Q.finalCalled=!0,d.nextTick(q,W,Q)):(Q.prefinished=!0,W.emit("prefinish")))}function ee(W,Q){var oe=Y(Q);return oe&&(ie(W,Q),Q.pendingcb===0&&(Q.finished=!0,W.emit("finish"))),oe}function G(W,Q,oe){Q.ending=!0,ee(W,Q),oe&&(Q.finished?d.nextTick(oe):W.once("finish",oe)),Q.ended=!0,W.writable=!1}function V(W,Q,oe){var ve=W.entry;for(W.entry=null;ve;){var fe=ve.callback;Q.pendingcb--,fe(oe),ve=ve.next}Q.corkedRequestsFree?Q.corkedRequestsFree.next=W:Q.corkedRequestsFree=W}Object.defineProperty(b.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(W){!this._writableState||(this._writableState.destroyed=W)}}),b.prototype.destroy=u.destroy,b.prototype._undestroy=u.undestroy,b.prototype._destroy=function(W,Q){this.end(),Q(W)}}).call(this,y("_process"),typeof je<"u"?je:typeof self<"u"?self:typeof re<"u"?re:{},y("timers").setImmediate)},{"./_stream_duplex":139,"./internal/streams/destroy":145,"./internal/streams/stream":146,_process:133,"core-util-is":51,inherits:75,"process-nextick-args":132,"safe-buffer":147,timers:176,"util-deprecate":183}],144:[function(y,D,_){function w(o,s){if(!(o instanceof s))throw new TypeError("Cannot call a class as a function")}var h=y("safe-buffer").Buffer,m=y("util");function d(o,s,n){o.copy(s,n)}D.exports=function(){function o(){w(this,o),this.head=null,this.tail=null,this.length=0}return o.prototype.push=function(n){var t={data:n,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},o.prototype.unshift=function(n){var t={data:n,next:this.head};this.length===0&&(this.tail=t),this.head=t,++this.length},o.prototype.shift=function(){if(this.length!==0){var n=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,n}},o.prototype.clear=function(){this.head=this.tail=null,this.length=0},o.prototype.join=function(n){if(this.length===0)return"";for(var t=this.head,e=""+t.data;t=t.next;)e+=n+t.data;return e},o.prototype.concat=function(n){if(this.length===0)return h.alloc(0);if(this.length===1)return this.head.data;for(var t=h.allocUnsafe(n>>>0),e=this.head,a=0;e;)d(e.data,t,a),a+=e.data.length,e=e.next;return t},o}(),m&&m.inspect&&m.inspect.custom&&(D.exports.prototype[m.inspect.custom]=function(){var o=m.inspect({length:this.length});return this.constructor.name+" "+o})},{"safe-buffer":147,util:33}],145:[function(y,D,_){var w=y("process-nextick-args");function h(o,s){var n=this,t=this._readableState&&this._readableState.destroyed,e=this._writableState&&this._writableState.destroyed;return t||e?(s?s(o):o&&(!this._writableState||!this._writableState.errorEmitted)&&w.nextTick(d,this,o),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(a){!s&&a?(w.nextTick(d,n,a),n._writableState&&(n._writableState.errorEmitted=!0)):s&&s(a)}),this)}function m(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function d(o,s){o.emit("error",s)}D.exports={destroy:h,undestroy:m}},{"process-nextick-args":132}],146:[function(y,D,_){D.exports=y("events").EventEmitter},{events:52}],147:[function(y,D,_){var w=y("buffer"),h=w.Buffer;function m(o,s){for(var n in o)s[n]=o[n]}h.from&&h.alloc&&h.allocUnsafe&&h.allocUnsafeSlow?D.exports=w:(m(w,_),_.Buffer=d);function d(o,s,n){return h(o,s,n)}m(h,d),d.from=function(o,s,n){if(typeof o=="number")throw new TypeError("Argument must not be a number");return h(o,s,n)},d.alloc=function(o,s,n){if(typeof o!="number")throw new TypeError("Argument must be a number");var t=h(o);return s!==void 0?typeof n=="string"?t.fill(s,n):t.fill(s):t.fill(0),t},d.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return h(o)},d.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return w.SlowBuffer(o)}},{buffer:48}],148:[function(y,D,_){var w=y("safe-buffer").Buffer,h=w.isEncoding||function(g){switch(g=""+g,g&&g.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function m(g){if(!g)return"utf8";for(var b;;)switch(g){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return g;default:if(b)return;g=(""+g).toLowerCase(),b=!0}}function d(g){var b=m(g);if(typeof b!="string"&&(w.isEncoding===h||!h(g)))throw new Error("Unknown encoding: "+g);return b||g}_.StringDecoder=o;function o(g){this.encoding=d(g);var b;switch(this.encoding){case"utf16le":this.text=i,this.end=f,b=4;break;case"utf8":this.fillLast=e,b=4;break;case"base64":this.text=r,this.end=u,b=3;break;default:this.write=c,this.end=v;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=w.allocUnsafe(b)}o.prototype.write=function(g){if(g.length===0)return"";var b,x;if(this.lastNeed){if(b=this.fillLast(g),b===void 0)return"";x=this.lastNeed,this.lastNeed=0}else x=0;return x<g.length?b?b+this.text(g,x):this.text(g,x):b||""},o.prototype.end=l,o.prototype.text=a,o.prototype.fillLast=function(g){if(this.lastNeed<=g.length)return g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,g.length),this.lastNeed-=g.length};function s(g){return g<=127?0:g>>5===6?2:g>>4===14?3:g>>3===30?4:g>>6===2?-1:-2}function n(g,b,x){var E=b.length-1;if(E<x)return 0;var S=s(b[E]);return S>=0?(S>0&&(g.lastNeed=S-1),S):--E<x||S===-2?0:(S=s(b[E]),S>=0?(S>0&&(g.lastNeed=S-2),S):--E<x||S===-2?0:(S=s(b[E]),S>=0?(S>0&&(S===2?S=0:g.lastNeed=S-3),S):0))}function t(g,b,x){if((b[0]&192)!==128)return g.lastNeed=0,"\uFFFD";if(g.lastNeed>1&&b.length>1){if((b[1]&192)!==128)return g.lastNeed=1,"\uFFFD";if(g.lastNeed>2&&b.length>2&&(b[2]&192)!==128)return g.lastNeed=2,"\uFFFD"}}function e(g){var b=this.lastTotal-this.lastNeed,x=t(this,g);if(x!==void 0)return x;if(this.lastNeed<=g.length)return g.copy(this.lastChar,b,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);g.copy(this.lastChar,b,0,g.length),this.lastNeed-=g.length}function a(g,b){var x=n(this,g,b);if(!this.lastNeed)return g.toString("utf8",b);this.lastTotal=x;var E=g.length-(x-this.lastNeed);return g.copy(this.lastChar,0,E),g.toString("utf8",b,E)}function l(g){var b=g&&g.length?this.write(g):"";return this.lastNeed?b+"\uFFFD":b}function i(g,b){if((g.length-b)%2===0){var x=g.toString("utf16le",b);if(x){var E=x.charCodeAt(x.length-1);if(E>=55296&&E<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1],x.slice(0,-1)}return x}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=g[g.length-1],g.toString("utf16le",b,g.length-1)}function f(g){var b=g&&g.length?this.write(g):"";if(this.lastNeed){var x=this.lastTotal-this.lastNeed;return b+this.lastChar.toString("utf16le",0,x)}return b}function r(g,b){var x=(g.length-b)%3;return x===0?g.toString("base64",b):(this.lastNeed=3-x,this.lastTotal=3,x===1?this.lastChar[0]=g[g.length-1]:(this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1]),g.toString("base64",b,g.length-x))}function u(g){var b=g&&g.length?this.write(g):"";return this.lastNeed?b+this.lastChar.toString("base64",0,3-this.lastNeed):b}function c(g){return g.toString(this.encoding)}function v(g){return g&&g.length?this.write(g):""}},{"safe-buffer":147}],149:[function(y,D,_){D.exports=y("./readable").PassThrough},{"./readable":150}],150:[function(y,D,_){_=D.exports=y("./lib/_stream_readable.js"),_.Stream=_,_.Readable=_,_.Writable=y("./lib/_stream_writable.js"),_.Duplex=y("./lib/_stream_duplex.js"),_.Transform=y("./lib/_stream_transform.js"),_.PassThrough=y("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":139,"./lib/_stream_passthrough.js":140,"./lib/_stream_readable.js":141,"./lib/_stream_transform.js":142,"./lib/_stream_writable.js":143}],151:[function(y,D,_){D.exports=y("./readable").Transform},{"./readable":150}],152:[function(y,D,_){D.exports=y("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":143}],153:[function(y,D,_){var w=function(h){var m=Object.prototype,d=m.hasOwnProperty,o,s=typeof Symbol=="function"?Symbol:{},n=s.iterator||"@@iterator",t=s.asyncIterator||"@@asyncIterator",e=s.toStringTag||"@@toStringTag";function a(ie,ee,G,V){var W=ee&&ee.prototype instanceof v?ee:v,Q=Object.create(W.prototype),oe=new B(V||[]);return Q._invoke=z(ie,G,oe),Q}h.wrap=a;function l(ie,ee,G){try{return{type:"normal",arg:ie.call(ee,G)}}catch(V){return{type:"throw",arg:V}}}var i="suspendedStart",f="suspendedYield",r="executing",u="completed",c={};function v(){}function g(){}function b(){}var x={};x[n]=function(){return this};var E=Object.getPrototypeOf,S=E&&E(E(Y([])));S&&S!==m&&d.call(S,n)&&(x=S);var A=b.prototype=v.prototype=Object.create(x);g.prototype=A.constructor=b,b.constructor=g,b[e]=g.displayName="GeneratorFunction";function F(ie){["next","throw","return"].forEach(function(ee){ie[ee]=function(G){return this._invoke(ee,G)}})}h.isGeneratorFunction=function(ie){var ee=typeof ie=="function"&&ie.constructor;return ee?ee===g||(ee.displayName||ee.name)==="GeneratorFunction":!1},h.mark=function(ie){return Object.setPrototypeOf?Object.setPrototypeOf(ie,b):(ie.__proto__=b,e in ie||(ie[e]="GeneratorFunction")),ie.prototype=Object.create(A),ie},h.awrap=function(ie){return{__await:ie}};function M(ie){function ee(W,Q,oe,ve){var fe=l(ie[W],ie,Q);if(fe.type==="throw")ve(fe.arg);else{var de=fe.arg,be=de.value;return be&&typeof be=="object"&&d.call(be,"__await")?Promise.resolve(be.__await).then(function(le){ee("next",le,oe,ve)},function(le){ee("throw",le,oe,ve)}):Promise.resolve(be).then(function(le){de.value=le,oe(de)},function(le){return ee("throw",le,oe,ve)})}}var G;function V(W,Q){function oe(){return new Promise(function(ve,fe){ee(W,Q,ve,fe)})}return G=G?G.then(oe,oe):oe()}this._invoke=V}F(M.prototype),M.prototype[t]=function(){return this},h.AsyncIterator=M,h.async=function(ie,ee,G,V){var W=new M(a(ie,ee,G,V));return h.isGeneratorFunction(ee)?W:W.next().then(function(Q){return Q.done?Q.value:W.next()})};function z(ie,ee,G){var V=i;return function(Q,oe){if(V===r)throw new Error("Generator is already running");if(V===u){if(Q==="throw")throw oe;return q()}for(G.method=Q,G.arg=oe;;){var ve=G.delegate;if(ve){var fe=U(ve,G);if(fe){if(fe===c)continue;return fe}}if(G.method==="next")G.sent=G._sent=G.arg;else if(G.method==="throw"){if(V===i)throw V=u,G.arg;G.dispatchException(G.arg)}else G.method==="return"&&G.abrupt("return",G.arg);V=r;var de=l(ie,ee,G);if(de.type==="normal"){if(V=G.done?u:f,de.arg===c)continue;return{value:de.arg,done:G.done}}else de.type==="throw"&&(V=u,G.method="throw",G.arg=de.arg)}}}function U(ie,ee){var G=ie.iterator[ee.method];if(G===o){if(ee.delegate=null,ee.method==="throw"){if(ie.iterator.return&&(ee.method="return",ee.arg=o,U(ie,ee),ee.method==="throw"))return c;ee.method="throw",ee.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var V=l(G,ie.iterator,ee.arg);if(V.type==="throw")return ee.method="throw",ee.arg=V.arg,ee.delegate=null,c;var W=V.arg;if(!W)return ee.method="throw",ee.arg=new TypeError("iterator result is not an object"),ee.delegate=null,c;if(W.done)ee[ie.resultName]=W.value,ee.next=ie.nextLoc,ee.method!=="return"&&(ee.method="next",ee.arg=o);else return W;return ee.delegate=null,c}F(A),A[e]="Generator",A[n]=function(){return this},A.toString=function(){return"[object Generator]"};function I(ie){var ee={tryLoc:ie[0]};1 in ie&&(ee.catchLoc=ie[1]),2 in ie&&(ee.finallyLoc=ie[2],ee.afterLoc=ie[3]),this.tryEntries.push(ee)}function O(ie){var ee=ie.completion||{};ee.type="normal",delete ee.arg,ie.completion=ee}function B(ie){this.tryEntries=[{tryLoc:"root"}],ie.forEach(I,this),this.reset(!0)}h.keys=function(ie){var ee=[];for(var G in ie)ee.push(G);return ee.reverse(),function V(){for(;ee.length;){var W=ee.pop();if(W in ie)return V.value=W,V.done=!1,V}return V.done=!0,V}};function Y(ie){if(ie){var ee=ie[n];if(ee)return ee.call(ie);if(typeof ie.next=="function")return ie;if(!isNaN(ie.length)){var G=-1,V=function W(){for(;++G<ie.length;)if(d.call(ie,G))return W.value=ie[G],W.done=!1,W;return W.value=o,W.done=!0,W};return V.next=V}}return{next:q}}h.values=Y;function q(){return{value:o,done:!0}}return B.prototype={constructor:B,reset:function(ie){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(O),!ie)for(var ee in this)ee.charAt(0)==="t"&&d.call(this,ee)&&!isNaN(+ee.slice(1))&&(this[ee]=o)},stop:function(){this.done=!0;var ie=this.tryEntries[0],ee=ie.completion;if(ee.type==="throw")throw ee.arg;return this.rval},dispatchException:function(ie){if(this.done)throw ie;var ee=this;function G(fe,de){return Q.type="throw",Q.arg=ie,ee.next=fe,de&&(ee.method="next",ee.arg=o),!!de}for(var V=this.tryEntries.length-1;V>=0;--V){var W=this.tryEntries[V],Q=W.completion;if(W.tryLoc==="root")return G("end");if(W.tryLoc<=this.prev){var oe=d.call(W,"catchLoc"),ve=d.call(W,"finallyLoc");if(oe&&ve){if(this.prev<W.catchLoc)return G(W.catchLoc,!0);if(this.prev<W.finallyLoc)return G(W.finallyLoc)}else if(oe){if(this.prev<W.catchLoc)return G(W.catchLoc,!0)}else if(ve){if(this.prev<W.finallyLoc)return G(W.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(ie,ee){for(var G=this.tryEntries.length-1;G>=0;--G){var V=this.tryEntries[G];if(V.tryLoc<=this.prev&&d.call(V,"finallyLoc")&&this.prev<V.finallyLoc){var W=V;break}}W&&(ie==="break"||ie==="continue")&&W.tryLoc<=ee&&ee<=W.finallyLoc&&(W=null);var Q=W?W.completion:{};return Q.type=ie,Q.arg=ee,W?(this.method="next",this.next=W.finallyLoc,c):this.complete(Q)},complete:function(ie,ee){if(ie.type==="throw")throw ie.arg;return ie.type==="break"||ie.type==="continue"?this.next=ie.arg:ie.type==="return"?(this.rval=this.arg=ie.arg,this.method="return",this.next="end"):ie.type==="normal"&&ee&&(this.next=ee),c},finish:function(ie){for(var ee=this.tryEntries.length-1;ee>=0;--ee){var G=this.tryEntries[ee];if(G.finallyLoc===ie)return this.complete(G.completion,G.afterLoc),O(G),c}},catch:function(ie){for(var ee=this.tryEntries.length-1;ee>=0;--ee){var G=this.tryEntries[ee];if(G.tryLoc===ie){var V=G.completion;if(V.type==="throw"){var W=V.arg;O(G)}return W}}throw new Error("illegal catch attempt")},delegateYield:function(ie,ee,G){return this.delegate={iterator:Y(ie),resultName:ee,nextLoc:G},this.method==="next"&&(this.arg=o),c}},h}(typeof D=="object"?D.exports:{});try{regeneratorRuntime=w}catch{Function("r","regeneratorRuntime = r")(w)}},{}],154:[function(y,D,_){var w=y("buffer"),h=w.Buffer;function m(o,s){for(var n in o)s[n]=o[n]}h.from&&h.alloc&&h.allocUnsafe&&h.allocUnsafeSlow?D.exports=w:(m(w,_),_.Buffer=d);function d(o,s,n){return h(o,s,n)}d.prototype=Object.create(h.prototype),m(h,d),d.from=function(o,s,n){if(typeof o=="number")throw new TypeError("Argument must not be a number");return h(o,s,n)},d.alloc=function(o,s,n){if(typeof o!="number")throw new TypeError("Argument must be a number");var t=h(o);return s!==void 0?typeof n=="string"?t.fill(s,n):t.fill(s):t.fill(0),t},d.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return h(o)},d.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return w.SlowBuffer(o)}},{buffer:48}],155:[function(y,D,_){D.exports=m;var w=y("events").EventEmitter,h=y("inherits");h(m,w),m.Readable=y("readable-stream/readable.js"),m.Writable=y("readable-stream/writable.js"),m.Duplex=y("readable-stream/duplex.js"),m.Transform=y("readable-stream/transform.js"),m.PassThrough=y("readable-stream/passthrough.js"),m.Stream=m;function m(){w.call(this)}m.prototype.pipe=function(d,o){var s=this;function n(r){d.writable&&d.write(r)===!1&&s.pause&&s.pause()}s.on("data",n);function t(){s.readable&&s.resume&&s.resume()}d.on("drain",t),!d._isStdio&&(!o||o.end!==!1)&&(s.on("end",a),s.on("close",l));var e=!1;function a(){e||(e=!0,d.end())}function l(){e||(e=!0,typeof d.destroy=="function"&&d.destroy())}function i(r){if(f(),w.listenerCount(this,"error")===0)throw r}s.on("error",i),d.on("error",i);function f(){s.removeListener("data",n),d.removeListener("drain",t),s.removeListener("end",a),s.removeListener("close",l),s.removeListener("error",i),d.removeListener("error",i),s.removeListener("end",f),s.removeListener("close",f),d.removeListener("close",f)}return s.on("end",f),s.on("close",f),d.on("close",f),d.emit("pipe",s),d}},{events:52,inherits:75,"readable-stream/duplex.js":138,"readable-stream/passthrough.js":149,"readable-stream/readable.js":150,"readable-stream/transform.js":151,"readable-stream/writable.js":152}],156:[function(y,D,_){(function(w){var h=y("./lib/request"),m=y("./lib/response"),d=y("xtend"),o=y("builtin-status-codes"),s=y("url"),n=_;n.request=function(t,e){typeof t=="string"?t=s.parse(t):t=d(t);var a=w.location.protocol.search(/^https?:$/)===-1?"http:":"",l=t.protocol||a,i=t.hostname||t.host,f=t.port,r=t.path||"/";i&&i.indexOf(":")!==-1&&(i="["+i+"]"),t.url=(i?l+"//"+i:"")+(f?":"+f:"")+r,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var u=new h(t);return e&&u.on("response",e),u},n.get=function(e,a){var l=n.request(e,a);return l.end(),l},n.ClientRequest=h,n.IncomingMessage=m.IncomingMessage,n.Agent=function(){},n.Agent.defaultMaxSockets=4,n.globalAgent=new n.Agent,n.STATUS_CODES=o,n.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,typeof je<"u"?je:typeof self<"u"?self:typeof re<"u"?re:{})},{"./lib/request":158,"./lib/response":159,"builtin-status-codes":50,url:180,xtend:189}],157:[function(y,D,_){(function(w){_.fetch=o(w.fetch)&&o(w.ReadableStream),_.writableStream=o(w.WritableStream),_.abortController=o(w.AbortController);var h;function m(){if(h!==void 0)return h;if(w.XMLHttpRequest){h=new w.XMLHttpRequest;try{h.open("GET",w.XDomainRequest?"/":"https://example.com")}catch{h=null}}else h=null;return h}function d(s){var n=m();if(!n)return!1;try{return n.responseType=s,n.responseType===s}catch{}return!1}_.arraybuffer=_.fetch||d("arraybuffer"),_.msstream=!_.fetch&&d("ms-stream"),_.mozchunkedarraybuffer=!_.fetch&&d("moz-chunked-arraybuffer"),_.overrideMimeType=_.fetch||(m()?o(m().overrideMimeType):!1);function o(s){return typeof s=="function"}h=null}).call(this,typeof je<"u"?je:typeof self<"u"?self:typeof re<"u"?re:{})},{}],158:[function(y,D,_){(function(w,h,m){var d=y("./capability"),o=y("inherits"),s=y("./response"),n=y("readable-stream"),t=s.IncomingMessage,e=s.readyStates;function a(r,u){return d.fetch&&u?"fetch":d.mozchunkedarraybuffer?"moz-chunked-arraybuffer":d.msstream?"ms-stream":d.arraybuffer&&r?"arraybuffer":"text"}var l=D.exports=function(r){var u=this;n.Writable.call(u),u._opts=r,u._body=[],u._headers={},r.auth&&u.setHeader("Authorization","Basic "+m.from(r.auth).toString("base64")),Object.keys(r.headers).forEach(function(g){u.setHeader(g,r.headers[g])});var c,v=!0;if(r.mode==="disable-fetch"||"requestTimeout"in r&&!d.abortController)v=!1,c=!0;else if(r.mode==="prefer-streaming")c=!1;else if(r.mode==="allow-wrong-content-type")c=!d.overrideMimeType;else if(!r.mode||r.mode==="default"||r.mode==="prefer-fast")c=!0;else throw new Error("Invalid value for opts.mode");u._mode=a(c,v),u._fetchTimer=null,u.on("finish",function(){u._onFinish()})};o(l,n.Writable),l.prototype.setHeader=function(r,u){var c=this,v=r.toLowerCase();f.indexOf(v)===-1&&(c._headers[v]={name:r,value:u})},l.prototype.getHeader=function(r){var u=this._headers[r.toLowerCase()];return u?u.value:null},l.prototype.removeHeader=function(r){var u=this;delete u._headers[r.toLowerCase()]},l.prototype._onFinish=function(){var r=this;if(!r._destroyed){var u=r._opts,c=r._headers,v=null;u.method!=="GET"&&u.method!=="HEAD"&&(v=new Blob(r._body,{type:(c["content-type"]||{}).value||""}));var g=[];if(Object.keys(c).forEach(function(S){var A=c[S].name,F=c[S].value;Array.isArray(F)?F.forEach(function(M){g.push([A,M])}):g.push([A,F])}),r._mode==="fetch"){var b=null;if(d.abortController){var x=new AbortController;b=x.signal,r._fetchAbortController=x,"requestTimeout"in u&&u.requestTimeout!==0&&(r._fetchTimer=h.setTimeout(function(){r.emit("requestTimeout"),r._fetchAbortController&&r._fetchAbortController.abort()},u.requestTimeout))}h.fetch(r._opts.url,{method:r._opts.method,headers:g,body:v||void 0,mode:"cors",credentials:u.withCredentials?"include":"same-origin",signal:b}).then(function(S){r._fetchResponse=S,r._connect()},function(S){h.clearTimeout(r._fetchTimer),r._destroyed||r.emit("error",S)})}else{var E=r._xhr=new h.XMLHttpRequest;try{E.open(r._opts.method,r._opts.url,!0)}catch(S){w.nextTick(function(){r.emit("error",S)});return}"responseType"in E&&(E.responseType=r._mode),"withCredentials"in E&&(E.withCredentials=!!u.withCredentials),r._mode==="text"&&"overrideMimeType"in E&&E.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in u&&(E.timeout=u.requestTimeout,E.ontimeout=function(){r.emit("requestTimeout")}),g.forEach(function(S){E.setRequestHeader(S[0],S[1])}),r._response=null,E.onreadystatechange=function(){switch(E.readyState){case e.LOADING:case e.DONE:r._onXHRProgress();break}},r._mode==="moz-chunked-arraybuffer"&&(E.onprogress=function(){r._onXHRProgress()}),E.onerror=function(){r._destroyed||r.emit("error",new Error("XHR error"))};try{E.send(v)}catch(S){w.nextTick(function(){r.emit("error",S)});return}}}};function i(r){try{var u=r.status;return u!==null&&u!==0}catch{return!1}}l.prototype._onXHRProgress=function(){var r=this;!i(r._xhr)||r._destroyed||(r._response||r._connect(),r._response._onXHRProgress())},l.prototype._connect=function(){var r=this;r._destroyed||(r._response=new t(r._xhr,r._fetchResponse,r._mode,r._fetchTimer),r._response.on("error",function(u){r.emit("error",u)}),r.emit("response",r._response))},l.prototype._write=function(r,u,c){var v=this;v._body.push(r),c()},l.prototype.abort=l.prototype.destroy=function(){var r=this;r._destroyed=!0,h.clearTimeout(r._fetchTimer),r._response&&(r._response._destroyed=!0),r._xhr?r._xhr.abort():r._fetchAbortController&&r._fetchAbortController.abort()},l.prototype.end=function(r,u,c){var v=this;typeof r=="function"&&(c=r,r=void 0),n.Writable.prototype.end.call(v,r,u,c)},l.prototype.flushHeaders=function(){},l.prototype.setTimeout=function(){},l.prototype.setNoDelay=function(){},l.prototype.setSocketKeepAlive=function(){};var f=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,y("_process"),typeof je<"u"?je:typeof self<"u"?self:typeof re<"u"?re:{},y("buffer").Buffer)},{"./capability":157,"./response":159,_process:133,buffer:48,inherits:75,"readable-stream":174}],159:[function(y,D,_){(function(w,h,m){var d=y("./capability"),o=y("inherits"),s=y("readable-stream"),n=_.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},t=_.IncomingMessage=function(e,a,l,i){var f=this;if(s.Readable.call(f),f._mode=l,f.headers={},f.rawHeaders=[],f.trailers={},f.rawTrailers=[],f.on("end",function(){w.nextTick(function(){f.emit("close")})}),l==="fetch"){let x=function(){u.read().then(function(E){if(!f._destroyed){if(E.done){h.clearTimeout(i),f.push(null);return}f.push(m.from(E.value)),x()}}).catch(function(E){h.clearTimeout(i),f._destroyed||f.emit("error",E)})};var b=x;if(f._fetchResponse=a,f.url=a.url,f.statusCode=a.status,f.statusMessage=a.statusText,a.headers.forEach(function(E,S){f.headers[S.toLowerCase()]=E,f.rawHeaders.push(S,E)}),d.writableStream){var r=new WritableStream({write:function(E){return new Promise(function(S,A){f._destroyed?A():f.push(m.from(E))?S():f._resumeFetch=S})},close:function(){h.clearTimeout(i),f._destroyed||f.push(null)},abort:function(E){f._destroyed||f.emit("error",E)}});try{a.body.pipeTo(r).catch(function(E){h.clearTimeout(i),f._destroyed||f.emit("error",E)});return}catch{}}var u=a.body.getReader();x()}else{f._xhr=e,f._pos=0,f.url=e.responseURL,f.statusCode=e.status,f.statusMessage=e.statusText;var c=e.getAllResponseHeaders().split(/\r?\n/);if(c.forEach(function(x){var E=x.match(/^([^:]+):\s*(.*)/);if(E){var S=E[1].toLowerCase();S==="set-cookie"?(f.headers[S]===void 0&&(f.headers[S]=[]),f.headers[S].push(E[2])):f.headers[S]!==void 0?f.headers[S]+=", "+E[2]:f.headers[S]=E[2],f.rawHeaders.push(E[1],E[2])}}),f._charset="x-user-defined",!d.overrideMimeType){var v=f.rawHeaders["mime-type"];if(v){var g=v.match(/;\s*charset=([^;])(;|$)/);g&&(f._charset=g[1].toLowerCase())}f._charset||(f._charset="utf-8")}}};o(t,s.Readable),t.prototype._read=function(){var e=this,a=e._resumeFetch;a&&(e._resumeFetch=null,a())},t.prototype._onXHRProgress=function(){var e=this,a=e._xhr,l=null;switch(e._mode){case"text":if(l=a.responseText,l.length>e._pos){var i=l.substr(e._pos);if(e._charset==="x-user-defined"){for(var f=m.alloc(i.length),r=0;r<i.length;r++)f[r]=i.charCodeAt(r)&255;e.push(f)}else e.push(i,e._charset);e._pos=l.length}break;case"arraybuffer":if(a.readyState!==n.DONE||!a.response)break;l=a.response,e.push(m.from(new Uint8Array(l)));break;case"moz-chunked-arraybuffer":if(l=a.response,a.readyState!==n.LOADING||!l)break;e.push(m.from(new Uint8Array(l)));break;case"ms-stream":if(l=a.response,a.readyState!==n.LOADING)break;var u=new h.MSStreamReader;u.onprogress=function(){u.result.byteLength>e._pos&&(e.push(m.from(new Uint8Array(u.result.slice(e._pos)))),e._pos=u.result.byteLength)},u.onload=function(){e.push(null)},u.readAsArrayBuffer(l);break}e._xhr.readyState===n.DONE&&e._mode!=="ms-stream"&&e.push(null)}}).call(this,y("_process"),typeof je<"u"?je:typeof self<"u"?self:typeof re<"u"?re:{},y("buffer").Buffer)},{"./capability":157,_process:133,buffer:48,inherits:75,"readable-stream":174}],160:[function(y,D,_){function w(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var h={};function m(t,e,a){a||(a=Error);function l(f,r,u){return typeof e=="string"?e:e(f,r,u)}var i=function(f){w(r,f);function r(u,c,v){return f.call(this,l(u,c,v))||this}return r}(a);i.prototype.name=a.name,i.prototype.code=t,h[t]=i}function d(t,e){if(Array.isArray(t)){var a=t.length;return t=t.map(function(l){return String(l)}),a>2?"one of ".concat(e," ").concat(t.slice(0,a-1).join(", "),", or ")+t[a-1]:a===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function o(t,e,a){return t.substr(!a||a<0?0:+a,e.length)===e}function s(t,e,a){return(a===void 0||a>t.length)&&(a=t.length),t.substring(a-e.length,a)===e}function n(t,e,a){return typeof a!="number"&&(a=0),a+e.length>t.length?!1:t.indexOf(e,a)!==-1}m("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError),m("ERR_INVALID_ARG_TYPE",function(t,e,a){var l;typeof e=="string"&&o(e,"not ")?(l="must not be",e=e.replace(/^not /,"")):l="must be";var i;if(s(t," argument"))i="The ".concat(t," ").concat(l," ").concat(d(e,"type"));else{var f=n(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(f," ").concat(l," ").concat(d(e,"type"))}return i+=". Received type ".concat(typeof a),i},TypeError),m("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),m("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"}),m("ERR_STREAM_PREMATURE_CLOSE","Premature close"),m("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"}),m("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),m("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),m("ERR_STREAM_WRITE_AFTER_END","write after end"),m("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),m("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError),m("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),D.exports.codes=h},{}],161:[function(y,D,_){(function(w){var h=new Set;function m(o){if(!h.has(o)){var s=o+" is an experimental feature. This feature could change at any time";h.add(o),w.emitWarning(s,"ExperimentalWarning")}}function d(){}D.exports.emitExperimentalWarning=w.emitWarning?m:d}).call(this,y("_process"))},{_process:133}],162:[function(y,D,_){(function(w){var h=Object.keys||function(l){var i=[];for(var f in l)i.push(f);return i};D.exports=t;var m=y("./_stream_readable"),d=y("./_stream_writable");y("inherits")(t,m);for(var o=h(d.prototype),s=0;s<o.length;s++){var n=o[s];t.prototype[n]||(t.prototype[n]=d.prototype[n])}function t(l){if(!(this instanceof t))return new t(l);m.call(this,l),d.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",e)))}Object.defineProperty(t.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(t.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(t.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function e(){this._writableState.ended||w.nextTick(a,this)}function a(l){l.end()}Object.defineProperty(t.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(i){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=i,this._writableState.destroyed=i)}})}).call(this,y("_process"))},{"./_stream_readable":164,"./_stream_writable":166,_process:133,inherits:75}],163:[function(y,D,_){D.exports=h;var w=y("./_stream_transform");y("inherits")(h,w);function h(m){if(!(this instanceof h))return new h(m);w.call(this,m)}h.prototype._transform=function(m,d,o){o(null,m)}},{"./_stream_transform":165,inherits:75}],164:[function(y,D,_){(function(w,h){D.exports=I;var m;I.ReadableState=U,y("events").EventEmitter;var d=function(R,Z){return R.listeners(Z).length},o=y("./internal/streams/stream"),s=y("buffer").Buffer,n=h.Uint8Array||function(){};function t(P){return s.from(P)}function e(P){return s.isBuffer(P)||P instanceof n}var a=y("util"),l;a&&a.debuglog?l=a.debuglog("stream"):l=function(){};var i=y("./internal/streams/buffer_list"),f=y("./internal/streams/destroy"),r=y("./internal/streams/state"),u=r.getHighWaterMark,c=y("../errors").codes,v=c.ERR_INVALID_ARG_TYPE,g=c.ERR_STREAM_PUSH_AFTER_EOF,b=c.ERR_METHOD_NOT_IMPLEMENTED,x=c.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,E=y("../experimentalWarning"),S=E.emitExperimentalWarning,A,F;y("inherits")(I,o);var M=["error","close","destroy","pause","resume"];function z(P,R,Z){if(typeof P.prependListener=="function")return P.prependListener(R,Z);!P._events||!P._events[R]?P.on(R,Z):Array.isArray(P._events[R])?P._events[R].unshift(Z):P._events[R]=[Z,P._events[R]]}function U(P,R,Z){m=m||y("./_stream_duplex"),P=P||{},typeof Z!="boolean"&&(Z=R instanceof m),this.objectMode=!!P.objectMode,Z&&(this.objectMode=this.objectMode||!!P.readableObjectMode),this.highWaterMark=u(this,P,"readableHighWaterMark",Z),this.buffer=new i,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=P.emitClose!==!1,this.destroyed=!1,this.defaultEncoding=P.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,P.encoding&&(A||(A=y("string_decoder/").StringDecoder),this.decoder=new A(P.encoding),this.encoding=P.encoding)}function I(P){if(m=m||y("./_stream_duplex"),!(this instanceof I))return new I(P);var R=this instanceof m;this._readableState=new U(P,this,R),this.readable=!0,P&&(typeof P.read=="function"&&(this._read=P.read),typeof P.destroy=="function"&&(this._destroy=P.destroy)),o.call(this)}Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(R){!this._readableState||(this._readableState.destroyed=R)}}),I.prototype.destroy=f.destroy,I.prototype._undestroy=f.undestroy,I.prototype._destroy=function(P,R){R(P)},I.prototype.push=function(P,R){var Z=this._readableState,N;return Z.objectMode?N=!0:typeof P=="string"&&(R=R||Z.defaultEncoding,R!==Z.encoding&&(P=s.from(P,R),R=""),N=!0),O(this,P,R,!1,N)},I.prototype.unshift=function(P){return O(this,P,null,!0,!1)};function O(P,R,Z,N,C){l("readableAddChunk",R);var T=P._readableState;if(R===null)T.reading=!1,G(P,T);else{var H;if(C||(H=Y(T,R)),H)P.emit("error",H);else if(T.objectMode||R&&R.length>0)if(typeof R!="string"&&!T.objectMode&&Object.getPrototypeOf(R)!==s.prototype&&(R=t(R)),N)T.endEmitted?P.emit("error",new x):B(P,T,R,!0);else if(T.ended)P.emit("error",new g);else{if(T.destroyed)return!1;T.reading=!1,T.decoder&&!Z?(R=T.decoder.write(R),T.objectMode||R.length!==0?B(P,T,R,!1):Q(P,T)):B(P,T,R,!1)}else N||(T.reading=!1,Q(P,T))}return!T.ended&&(T.length<T.highWaterMark||T.length===0)}function B(P,R,Z,N){R.flowing&&R.length===0&&!R.sync?(R.awaitDrain=0,P.emit("data",Z)):(R.length+=R.objectMode?1:Z.length,N?R.buffer.unshift(Z):R.buffer.push(Z),R.needReadable&&V(P)),Q(P,R)}function Y(P,R){var Z;return!e(R)&&typeof R!="string"&&R!==void 0&&!P.objectMode&&(Z=new v("chunk",["string","Buffer","Uint8Array"],R)),Z}I.prototype.isPaused=function(){return this._readableState.flowing===!1},I.prototype.setEncoding=function(P){return A||(A=y("string_decoder/").StringDecoder),this._readableState.decoder=new A(P),this._readableState.encoding=this._readableState.decoder.encoding,this};var q=8388608;function ie(P){return P>=q?P=q:(P--,P|=P>>>1,P|=P>>>2,P|=P>>>4,P|=P>>>8,P|=P>>>16,P++),P}function ee(P,R){return P<=0||R.length===0&&R.ended?0:R.objectMode?1:P!==P?R.flowing&&R.length?R.buffer.head.data.length:R.length:(P>R.highWaterMark&&(R.highWaterMark=ie(P)),P<=R.length?P:R.ended?R.length:(R.needReadable=!0,0))}I.prototype.read=function(P){l("read",P),P=parseInt(P,10);var R=this._readableState,Z=P;if(P!==0&&(R.emittedReadable=!1),P===0&&R.needReadable&&((R.highWaterMark!==0?R.length>=R.highWaterMark:R.length>0)||R.ended))return l("read: emitReadable",R.length,R.ended),R.length===0&&R.ended?J(this):V(this),null;if(P=ee(P,R),P===0&&R.ended)return R.length===0&&J(this),null;var N=R.needReadable;l("need readable",N),(R.length===0||R.length-P<R.highWaterMark)&&(N=!0,l("length less than watermark",N)),R.ended||R.reading?(N=!1,l("reading or ended",N)):N&&(l("do read"),R.reading=!0,R.sync=!0,R.length===0&&(R.needReadable=!0),this._read(R.highWaterMark),R.sync=!1,R.reading||(P=ee(Z,R)));var C;return P>0?C=X(P,R):C=null,C===null?(R.needReadable=!0,P=0):(R.length-=P,R.awaitDrain=0),R.length===0&&(R.ended||(R.needReadable=!0),Z!==P&&R.ended&&J(this)),C!==null&&this.emit("data",C),C};function G(P,R){if(!R.ended){if(R.decoder){var Z=R.decoder.end();Z&&Z.length&&(R.buffer.push(Z),R.length+=R.objectMode?1:Z.length)}R.ended=!0,R.sync?V(P):(R.needReadable=!1,R.emittedReadable||(R.emittedReadable=!0,W(P)))}}function V(P){var R=P._readableState;R.needReadable=!1,R.emittedReadable||(l("emitReadable",R.flowing),R.emittedReadable=!0,w.nextTick(W,P))}function W(P){var R=P._readableState;l("emitReadable_",R.destroyed,R.length,R.ended),!R.destroyed&&(R.length||R.ended)&&P.emit("readable"),R.needReadable=!R.flowing&&!R.ended&&R.length<=R.highWaterMark,se(P)}function Q(P,R){R.readingMore||(R.readingMore=!0,w.nextTick(oe,P,R))}function oe(P,R){for(;!R.reading&&!R.ended&&(R.length<R.highWaterMark||R.flowing&&R.length===0);){var Z=R.length;if(l("maybeReadMore read 0"),P.read(0),Z===R.length)break}R.readingMore=!1}I.prototype._read=function(P){this.emit("error",new b("_read()"))},I.prototype.pipe=function(P,R){var Z=this,N=this._readableState;switch(N.pipesCount){case 0:N.pipes=P;break;case 1:N.pipes=[N.pipes,P];break;default:N.pipes.push(P);break}N.pipesCount+=1,l("pipe count=%d opts=%j",N.pipesCount,R);var C=(!R||R.end!==!1)&&P!==w.stdout&&P!==w.stderr,T=C?ue:Le;N.endEmitted?w.nextTick(T):Z.once("end",T),P.on("unpipe",H);function H(Pe,Ie){l("onunpipe"),Pe===Z&&Ie&&Ie.hasUnpiped===!1&&(Ie.hasUnpiped=!0,Me())}function ue(){l("onend"),P.end()}var me=ve(Z);P.on("drain",me);var ye=!1;function Me(){l("cleanup"),P.removeListener("close",Te),P.removeListener("finish",Re),P.removeListener("drain",me),P.removeListener("error",Oe),P.removeListener("unpipe",H),Z.removeListener("end",ue),Z.removeListener("end",Le),Z.removeListener("data",ke),ye=!0,N.awaitDrain&&(!P._writableState||P._writableState.needDrain)&&me()}Z.on("data",ke);function ke(Pe){l("ondata");var Ie=P.write(Pe);l("dest.write",Ie),Ie===!1&&((N.pipesCount===1&&N.pipes===P||N.pipesCount>1&&j(N.pipes,P)!==-1)&&!ye&&(l("false write response, pause",N.awaitDrain),N.awaitDrain++),Z.pause())}function Oe(Pe){l("onerror",Pe),Le(),P.removeListener("error",Oe),d(P,"error")===0&&P.emit("error",Pe)}z(P,"error",Oe);function Te(){P.removeListener("finish",Re),Le()}P.once("close",Te);function Re(){l("onfinish"),P.removeListener("close",Te),Le()}P.once("finish",Re);function Le(){l("unpipe"),Z.unpipe(P)}return P.emit("pipe",Z),N.flowing||(l("pipe resume"),Z.resume()),P};function ve(P){return function(){var Z=P._readableState;l("pipeOnDrain",Z.awaitDrain),Z.awaitDrain&&Z.awaitDrain--,Z.awaitDrain===0&&d(P,"data")&&(Z.flowing=!0,se(P))}}I.prototype.unpipe=function(P){var R=this._readableState,Z={hasUnpiped:!1};if(R.pipesCount===0)return this;if(R.pipesCount===1)return P&&P!==R.pipes?this:(P||(P=R.pipes),R.pipes=null,R.pipesCount=0,R.flowing=!1,P&&P.emit("unpipe",this,Z),this);if(!P){var N=R.pipes,C=R.pipesCount;R.pipes=null,R.pipesCount=0,R.flowing=!1;for(var T=0;T<C;T++)N[T].emit("unpipe",this,{hasUnpiped:!1});return this}var H=j(R.pipes,P);return H===-1?this:(R.pipes.splice(H,1),R.pipesCount-=1,R.pipesCount===1&&(R.pipes=R.pipes[0]),P.emit("unpipe",this,Z),this)},I.prototype.on=function(P,R){var Z=o.prototype.on.call(this,P,R),N=this._readableState;return P==="data"?(N.readableListening=this.listenerCount("readable")>0,N.flowing!==!1&&this.resume()):P==="readable"&&!N.endEmitted&&!N.readableListening&&(N.readableListening=N.needReadable=!0,N.flowing=!1,N.emittedReadable=!1,l("on readable",N.length,N.reading),N.length?V(this):N.reading||w.nextTick(de,this)),Z},I.prototype.addListener=I.prototype.on,I.prototype.removeListener=function(P,R){var Z=o.prototype.removeListener.call(this,P,R);return P==="readable"&&w.nextTick(fe,this),Z},I.prototype.removeAllListeners=function(P){var R=o.prototype.removeAllListeners.apply(this,arguments);return(P==="readable"||P===void 0)&&w.nextTick(fe,this),R};function fe(P){var R=P._readableState;R.readableListening=P.listenerCount("readable")>0,R.resumeScheduled&&!R.paused?R.flowing=!0:P.listenerCount("data")>0&&P.resume()}function de(P){l("readable nexttick read 0"),P.read(0)}I.prototype.resume=function(){var P=this._readableState;return P.flowing||(l("resume"),P.flowing=!P.readableListening,be(this,P)),P.paused=!1,this};function be(P,R){R.resumeScheduled||(R.resumeScheduled=!0,w.nextTick(le,P,R))}function le(P,R){l("resume",R.reading),R.reading||P.read(0),R.resumeScheduled=!1,P.emit("resume"),se(P),R.flowing&&!R.reading&&P.read(0)}I.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function se(P){var R=P._readableState;for(l("flow",R.flowing);R.flowing&&P.read()!==null;);}I.prototype.wrap=function(P){var R=this,Z=this._readableState,N=!1;P.on("end",function(){if(l("wrapped end"),Z.decoder&&!Z.ended){var H=Z.decoder.end();H&&H.length&&R.push(H)}R.push(null)}),P.on("data",function(H){if(l("wrapped data"),Z.decoder&&(H=Z.decoder.write(H)),!(Z.objectMode&&H==null)&&!(!Z.objectMode&&(!H||!H.length))){var ue=R.push(H);ue||(N=!0,P.pause())}});for(var C in P)this[C]===void 0&&typeof P[C]=="function"&&(this[C]=function(ue){return function(){return P[ue].apply(P,arguments)}}(C));for(var T=0;T<M.length;T++)P.on(M[T],this.emit.bind(this,M[T]));return this._read=function(H){l("wrapped _read",H),N&&(N=!1,P.resume())},this},typeof Symbol=="function"&&(I.prototype[Symbol.asyncIterator]=function(){return S("Readable[Symbol.asyncIterator]"),F===void 0&&(F=y("./internal/streams/async_iterator")),F(this)}),Object.defineProperty(I.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(I.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(I.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(R){this._readableState&&(this._readableState.flowing=R)}}),I._fromList=X,Object.defineProperty(I.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function X(P,R){if(R.length===0)return null;var Z;return R.objectMode?Z=R.buffer.shift():!P||P>=R.length?(R.decoder?Z=R.buffer.join(""):R.buffer.length===1?Z=R.buffer.first():Z=R.buffer.concat(R.length),R.buffer.clear()):Z=R.buffer.consume(P,R.decoder),Z}function J(P){var R=P._readableState;l("endReadable",R.endEmitted),R.endEmitted||(R.ended=!0,w.nextTick(te,R,P))}function te(P,R){l("endReadableNT",P.endEmitted,P.length),!P.endEmitted&&P.length===0&&(P.endEmitted=!0,R.readable=!1,R.emit("end"))}function j(P,R){for(var Z=0,N=P.length;Z<N;Z++)if(P[Z]===R)return Z;return-1}}).call(this,y("_process"),typeof je<"u"?je:typeof self<"u"?self:typeof re<"u"?re:{})},{"../errors":160,"../experimentalWarning":161,"./_stream_duplex":162,"./internal/streams/async_iterator":167,"./internal/streams/buffer_list":168,"./internal/streams/destroy":169,"./internal/streams/state":172,"./internal/streams/stream":173,_process:133,buffer:48,events:52,inherits:75,"string_decoder/":175,util:33}],165:[function(y,D,_){D.exports=t;var w=y("../errors").codes,h=w.ERR_METHOD_NOT_IMPLEMENTED,m=w.ERR_MULTIPLE_CALLBACK,d=w.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=w.ERR_TRANSFORM_WITH_LENGTH_0,s=y("./_stream_duplex");y("inherits")(t,s);function n(l,i){var f=this._transformState;f.transforming=!1;var r=f.writecb;if(r===null)return this.emit("error",new m);f.writechunk=null,f.writecb=null,i!=null&&this.push(i),r(l);var u=this._readableState;u.reading=!1,(u.needReadable||u.length<u.highWaterMark)&&this._read(u.highWaterMark)}function t(l){if(!(this instanceof t))return new t(l);s.call(this,l),this._transformState={afterTransform:n.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",e)}function e(){var l=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(i,f){a(l,i,f)}):a(this,null,null)}t.prototype.push=function(l,i){return this._transformState.needTransform=!1,s.prototype.push.call(this,l,i)},t.prototype._transform=function(l,i,f){f(new h("_transform()"))},t.prototype._write=function(l,i,f){var r=this._transformState;if(r.writecb=f,r.writechunk=l,r.writeencoding=i,!r.transforming){var u=this._readableState;(r.needTransform||u.needReadable||u.length<u.highWaterMark)&&this._read(u.highWaterMark)}},t.prototype._read=function(l){var i=this._transformState;i.writechunk!==null&&!i.transforming?(i.transforming=!0,this._transform(i.writechunk,i.writeencoding,i.afterTransform)):i.needTransform=!0},t.prototype._destroy=function(l,i){s.prototype._destroy.call(this,l,function(f){i(f)})};function a(l,i,f){if(i)return l.emit("error",i);if(f!=null&&l.push(f),l._writableState.length)throw new o;if(l._transformState.transforming)throw new d;return l.push(null)}},{"../errors":160,"./_stream_duplex":162,inherits:75}],166:[function(y,D,_){(function(w,h){D.exports=z;function m(le){var se=this;this.next=null,this.entry=null,this.finish=function(){be(se,le)}}var d;z.WritableState=F;var o={deprecate:y("util-deprecate")},s=y("./internal/streams/stream"),n=y("buffer").Buffer,t=h.Uint8Array||function(){};function e(le){return n.from(le)}function a(le){return n.isBuffer(le)||le instanceof t}var l=y("./internal/streams/destroy"),i=y("./internal/streams/state"),f=i.getHighWaterMark,r=y("../errors").codes,u=r.ERR_INVALID_ARG_TYPE,c=r.ERR_METHOD_NOT_IMPLEMENTED,v=r.ERR_MULTIPLE_CALLBACK,g=r.ERR_STREAM_CANNOT_PIPE,b=r.ERR_STREAM_DESTROYED,x=r.ERR_STREAM_NULL_VALUES,E=r.ERR_STREAM_WRITE_AFTER_END,S=r.ERR_UNKNOWN_ENCODING;y("inherits")(z,s);function A(){}function F(le,se,X){d=d||y("./_stream_duplex"),le=le||{},typeof X!="boolean"&&(X=se instanceof d),this.objectMode=!!le.objectMode,X&&(this.objectMode=this.objectMode||!!le.writableObjectMode),this.highWaterMark=f(this,le,"writableHighWaterMark",X),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var J=le.decodeStrings===!1;this.decodeStrings=!J,this.defaultEncoding=le.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(te){ee(se,te)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=le.emitClose!==!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new m(this)}F.prototype.getBuffer=function(){for(var se=this.bufferedRequest,X=[];se;)X.push(se),se=se.next;return X},function(){try{Object.defineProperty(F.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var M;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(M=Function.prototype[Symbol.hasInstance],Object.defineProperty(z,Symbol.hasInstance,{value:function(se){return M.call(this,se)?!0:this!==z?!1:se&&se._writableState instanceof F}})):M=function(se){return se instanceof this};function z(le){d=d||y("./_stream_duplex");var se=this instanceof d;if(!se&&!M.call(z,this))return new z(le);this._writableState=new F(le,this,se),this.writable=!0,le&&(typeof le.write=="function"&&(this._write=le.write),typeof le.writev=="function"&&(this._writev=le.writev),typeof le.destroy=="function"&&(this._destroy=le.destroy),typeof le.final=="function"&&(this._final=le.final)),s.call(this)}z.prototype.pipe=function(){this.emit("error",new g)};function U(le,se){var X=new E;le.emit("error",X),w.nextTick(se,X)}function I(le,se,X,J){var te;return X===null?te=new x:typeof X!="string"&&!se.objectMode&&(te=new u("chunk",["string","Buffer"],X)),te?(le.emit("error",te),w.nextTick(J,te),!1):!0}z.prototype.write=function(le,se,X){var J=this._writableState,te=!1,j=!J.objectMode&&a(le);return j&&!n.isBuffer(le)&&(le=e(le)),typeof se=="function"&&(X=se,se=null),j?se="buffer":se||(se=J.defaultEncoding),typeof X!="function"&&(X=A),J.ending?U(this,X):(j||I(this,J,le,X))&&(J.pendingcb++,te=B(this,J,j,le,se,X)),te},z.prototype.cork=function(){this._writableState.corked++},z.prototype.uncork=function(){var le=this._writableState;le.corked&&(le.corked--,!le.writing&&!le.corked&&!le.bufferProcessing&&le.bufferedRequest&&W(this,le))},z.prototype.setDefaultEncoding=function(se){if(typeof se=="string"&&(se=se.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((se+"").toLowerCase())>-1))throw new S(se);return this._writableState.defaultEncoding=se,this},Object.defineProperty(z.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function O(le,se,X){return!le.objectMode&&le.decodeStrings!==!1&&typeof se=="string"&&(se=n.from(se,X)),se}Object.defineProperty(z.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function B(le,se,X,J,te,j){if(!X){var P=O(se,J,te);J!==P&&(X=!0,te="buffer",J=P)}var R=se.objectMode?1:J.length;se.length+=R;var Z=se.length<se.highWaterMark;if(Z||(se.needDrain=!0),se.writing||se.corked){var N=se.lastBufferedRequest;se.lastBufferedRequest={chunk:J,encoding:te,isBuf:X,callback:j,next:null},N?N.next=se.lastBufferedRequest:se.bufferedRequest=se.lastBufferedRequest,se.bufferedRequestCount+=1}else Y(le,se,!1,R,J,te,j);return Z}function Y(le,se,X,J,te,j,P){se.writelen=J,se.writecb=P,se.writing=!0,se.sync=!0,se.destroyed?se.onwrite(new b("write")):X?le._writev(te,se.onwrite):le._write(te,j,se.onwrite),se.sync=!1}function q(le,se,X,J,te){--se.pendingcb,X?(w.nextTick(te,J),w.nextTick(fe,le,se),le._writableState.errorEmitted=!0,le.emit("error",J)):(te(J),le._writableState.errorEmitted=!0,le.emit("error",J),fe(le,se))}function ie(le){le.writing=!1,le.writecb=null,le.length-=le.writelen,le.writelen=0}function ee(le,se){var X=le._writableState,J=X.sync,te=X.writecb;if(typeof te!="function")throw new v;if(ie(X),se)q(le,X,J,se,te);else{var j=Q(X)||le.destroyed;!j&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&W(le,X),J?w.nextTick(G,le,X,j,te):G(le,X,j,te)}}function G(le,se,X,J){X||V(le,se),se.pendingcb--,J(),fe(le,se)}function V(le,se){se.length===0&&se.needDrain&&(se.needDrain=!1,le.emit("drain"))}function W(le,se){se.bufferProcessing=!0;var X=se.bufferedRequest;if(le._writev&&X&&X.next){var J=se.bufferedRequestCount,te=new Array(J),j=se.corkedRequestsFree;j.entry=X;for(var P=0,R=!0;X;)te[P]=X,X.isBuf||(R=!1),X=X.next,P+=1;te.allBuffers=R,Y(le,se,!0,se.length,te,"",j.finish),se.pendingcb++,se.lastBufferedRequest=null,j.next?(se.corkedRequestsFree=j.next,j.next=null):se.corkedRequestsFree=new m(se),se.bufferedRequestCount=0}else{for(;X;){var Z=X.chunk,N=X.encoding,C=X.callback,T=se.objectMode?1:Z.length;if(Y(le,se,!1,T,Z,N,C),X=X.next,se.bufferedRequestCount--,se.writing)break}X===null&&(se.lastBufferedRequest=null)}se.bufferedRequest=X,se.bufferProcessing=!1}z.prototype._write=function(le,se,X){X(new c("_write()"))},z.prototype._writev=null,z.prototype.end=function(le,se,X){var J=this._writableState;return typeof le=="function"?(X=le,le=null,se=null):typeof se=="function"&&(X=se,se=null),le!=null&&this.write(le,se),J.corked&&(J.corked=1,this.uncork()),J.ending||de(this,J,X),this},Object.defineProperty(z.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Q(le){return le.ending&&le.length===0&&le.bufferedRequest===null&&!le.finished&&!le.writing}function oe(le,se){le._final(function(X){se.pendingcb--,X&&le.emit("error",X),se.prefinished=!0,le.emit("prefinish"),fe(le,se)})}function ve(le,se){!se.prefinished&&!se.finalCalled&&(typeof le._final=="function"&&!se.destroyed?(se.pendingcb++,se.finalCalled=!0,w.nextTick(oe,le,se)):(se.prefinished=!0,le.emit("prefinish")))}function fe(le,se){var X=Q(se);return X&&(ve(le,se),se.pendingcb===0&&(se.finished=!0,le.emit("finish"))),X}function de(le,se,X){se.ending=!0,fe(le,se),X&&(se.finished?w.nextTick(X):le.once("finish",X)),se.ended=!0,le.writable=!1}function be(le,se,X){var J=le.entry;for(le.entry=null;J;){var te=J.callback;se.pendingcb--,te(X),J=J.next}se.corkedRequestsFree.next=le}Object.defineProperty(z.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(se){!this._writableState||(this._writableState.destroyed=se)}}),z.prototype.destroy=l.destroy,z.prototype._undestroy=l.undestroy,z.prototype._destroy=function(le,se){se(le)}}).call(this,y("_process"),typeof je<"u"?je:typeof self<"u"?self:typeof re<"u"?re:{})},{"../errors":160,"./_stream_duplex":162,"./internal/streams/destroy":169,"./internal/streams/state":172,"./internal/streams/stream":173,_process:133,buffer:48,inherits:75,"util-deprecate":183}],167:[function(y,D,_){(function(w){var h;function m(b,x,E){return x in b?Object.defineProperty(b,x,{value:E,enumerable:!0,configurable:!0,writable:!0}):b[x]=E,b}var d=y("./end-of-stream"),o=Symbol("lastResolve"),s=Symbol("lastReject"),n=Symbol("error"),t=Symbol("ended"),e=Symbol("lastPromise"),a=Symbol("handlePromise"),l=Symbol("stream");function i(b,x){return{value:b,done:x}}function f(b){var x=b[o];if(x!==null){var E=b[l].read();E!==null&&(b[e]=null,b[o]=null,b[s]=null,x(i(E,!1)))}}function r(b){w.nextTick(f,b)}function u(b,x){return function(E,S){b.then(function(){if(x[t]){E(i(void 0,!0));return}x[a](E,S)},S)}}var c=Object.getPrototypeOf(function(){}),v=Object.setPrototypeOf((h={get stream(){return this[l]},next:function(){var x=this,E=this[n];if(E!==null)return Promise.reject(E);if(this[t])return Promise.resolve(i(void 0,!0));if(this[l].destroyed)return new Promise(function(M,z){w.nextTick(function(){x[n]?z(x[n]):M(i(void 0,!0))})});var S=this[e],A;if(S)A=new Promise(u(S,this));else{var F=this[l].read();if(F!==null)return Promise.resolve(i(F,!1));A=new Promise(this[a])}return this[e]=A,A}},m(h,Symbol.asyncIterator,function(){return this}),m(h,"return",function(){var x=this;return new Promise(function(E,S){x[l].destroy(null,function(A){if(A){S(A);return}E(i(void 0,!0))})})}),h),c),g=function(x){var E,S=Object.create(v,(E={},m(E,l,{value:x,writable:!0}),m(E,o,{value:null,writable:!0}),m(E,s,{value:null,writable:!0}),m(E,n,{value:null,writable:!0}),m(E,t,{value:x._readableState.endEmitted,writable:!0}),m(E,a,{value:function(F,M){var z=S[l].read();z?(S[e]=null,S[o]=null,S[s]=null,F(i(z,!1))):(S[o]=F,S[s]=M)},writable:!0}),E));return S[e]=null,d(x,function(A){if(A&&A.code!=="ERR_STREAM_PREMATURE_CLOSE"){var F=S[s];F!==null&&(S[e]=null,S[o]=null,S[s]=null,F(A)),S[n]=A;return}var M=S[o];M!==null&&(S[e]=null,S[o]=null,S[s]=null,M(i(void 0,!0))),S[t]=!0}),x.on("readable",r.bind(null,S)),S};D.exports=g}).call(this,y("_process"))},{"./end-of-stream":170,_process:133}],168:[function(y,D,_){function w(e){for(var a=1;a<arguments.length;a++){var l=arguments[a]!=null?arguments[a]:{},i=Object.keys(l);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(l).filter(function(f){return Object.getOwnPropertyDescriptor(l,f).enumerable}))),i.forEach(function(f){h(e,f,l[f])})}return e}function h(e,a,l){return a in e?Object.defineProperty(e,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[a]=l,e}var m=y("buffer"),d=m.Buffer,o=y("util"),s=o.inspect,n=s&&s.custom||"inspect";function t(e,a,l){d.prototype.copy.call(e,a,l)}D.exports=function(){function e(){this.head=null,this.tail=null,this.length=0}var a=e.prototype;return a.push=function(i){var f={data:i,next:null};this.length>0?this.tail.next=f:this.head=f,this.tail=f,++this.length},a.unshift=function(i){var f={data:i,next:this.head};this.length===0&&(this.tail=f),this.head=f,++this.length},a.shift=function(){if(this.length!==0){var i=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,i}},a.clear=function(){this.head=this.tail=null,this.length=0},a.join=function(i){if(this.length===0)return"";for(var f=this.head,r=""+f.data;f=f.next;)r+=i+f.data;return r},a.concat=function(i){if(this.length===0)return d.alloc(0);for(var f=d.allocUnsafe(i>>>0),r=this.head,u=0;r;)t(r.data,f,u),u+=r.data.length,r=r.next;return f},a.consume=function(i,f){var r;return i<this.head.data.length?(r=this.head.data.slice(0,i),this.head.data=this.head.data.slice(i)):i===this.head.data.length?r=this.shift():r=f?this._getString(i):this._getBuffer(i),r},a.first=function(){return this.head.data},a._getString=function(i){var f=this.head,r=1,u=f.data;for(i-=u.length;f=f.next;){var c=f.data,v=i>c.length?c.length:i;if(v===c.length?u+=c:u+=c.slice(0,i),i-=v,i===0){v===c.length?(++r,f.next?this.head=f.next:this.head=this.tail=null):(this.head=f,f.data=c.slice(v));break}++r}return this.length-=r,u},a._getBuffer=function(i){var f=d.allocUnsafe(i),r=this.head,u=1;for(r.data.copy(f),i-=r.data.length;r=r.next;){var c=r.data,v=i>c.length?c.length:i;if(c.copy(f,f.length-i,0,v),i-=v,i===0){v===c.length?(++u,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=c.slice(v));break}++u}return this.length-=u,f},a[n]=function(l,i){return s(this,w({},i,{depth:0,customInspect:!1}))},e}()},{buffer:48,util:33}],169:[function(y,D,_){(function(w){function h(n,t){var e=this,a=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return a||l?(t?t(n):n&&(!this._writableState||!this._writableState.errorEmitted)&&w.nextTick(s,this,n),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(n||null,function(i){!t&&i?(w.nextTick(m,e,i),e._writableState&&(e._writableState.errorEmitted=!0)):t?(w.nextTick(d,e),t(i)):w.nextTick(d,e)}),this)}function m(n,t){s(n,t),d(n)}function d(n){n._writableState&&!n._writableState.emitClose||n._readableState&&!n._readableState.emitClose||n.emit("close")}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function s(n,t){n.emit("error",t)}D.exports={destroy:h,undestroy:o}}).call(this,y("_process"))},{_process:133}],170:[function(y,D,_){var w=y("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function h(s){var n=!1;return function(){if(!n){n=!0;for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];s.apply(this,e)}}}function m(){}function d(s){return s.setHeader&&typeof s.abort=="function"}function o(s,n,t){if(typeof n=="function")return o(s,null,n);n||(n={}),t=h(t||m);var e=n.readable||n.readable!==!1&&s.readable,a=n.writable||n.writable!==!1&&s.writable,l=function(){s.writable||f()},i=s._writableState&&s._writableState.finished,f=function(){a=!1,i=!0,e||t.call(s)},r=s._readableState&&s._readableState.endEmitted,u=function(){e=!1,r=!0,a||t.call(s)},c=function(x){t.call(s,x)},v=function(){var x;if(e&&!r)return(!s._readableState||!s._readableState.ended)&&(x=new w),t.call(s,x);if(a&&!i)return(!s._writableState||!s._writableState.ended)&&(x=new w),t.call(s,x)},g=function(){s.req.on("finish",f)};return d(s)?(s.on("complete",f),s.on("abort",v),s.req?g():s.on("request",g)):a&&!s._writableState&&(s.on("end",l),s.on("close",l)),s.on("end",u),s.on("finish",f),n.error!==!1&&s.on("error",c),s.on("close",v),function(){s.removeListener("complete",f),s.removeListener("abort",v),s.removeListener("request",g),s.req&&s.req.removeListener("finish",f),s.removeListener("end",l),s.removeListener("close",l),s.removeListener("finish",f),s.removeListener("end",u),s.removeListener("error",c),s.removeListener("close",v)}}D.exports=o},{"../../../errors":160}],171:[function(y,D,_){var w;function h(f){var r=!1;return function(){r||(r=!0,f.apply(void 0,arguments))}}var m=y("../../../errors").codes,d=m.ERR_MISSING_ARGS,o=m.ERR_STREAM_DESTROYED;function s(f){if(f)throw f}function n(f){return f.setHeader&&typeof f.abort=="function"}function t(f,r,u,c){c=h(c);var v=!1;f.on("close",function(){v=!0}),w===void 0&&(w=y("./end-of-stream")),w(f,{readable:r,writable:u},function(b){if(b)return c(b);v=!0,c()});var g=!1;return function(b){if(!v&&!g){if(g=!0,n(f))return f.abort();if(typeof f.destroy=="function")return f.destroy();c(b||new o("pipe"))}}}function e(f){f()}function a(f,r){return f.pipe(r)}function l(f){return!f.length||typeof f[f.length-1]!="function"?s:f.pop()}function i(){for(var f=arguments.length,r=new Array(f),u=0;u<f;u++)r[u]=arguments[u];var c=l(r);if(Array.isArray(r[0])&&(r=r[0]),r.length<2)throw new d("streams");var v,g=r.map(function(b,x){var E=x<r.length-1,S=x>0;return t(b,E,S,function(A){v||(v=A),A&&g.forEach(e),!E&&(g.forEach(e),c(v))})});return r.reduce(a)}D.exports=i},{"../../../errors":160,"./end-of-stream":170}],172:[function(y,D,_){var w=y("../../../errors").codes.ERR_INVALID_OPT_VALUE;function h(d,o,s){return d.highWaterMark!=null?d.highWaterMark:o?d[s]:null}function m(d,o,s,n){var t=h(o,n,s);if(t!=null){if(!(isFinite(t)&&Math.floor(t)===t)||t<0){var e=n?s:"highWaterMark";throw new w(e,t)}return Math.floor(t)}return d.objectMode?16:16*1024}D.exports={getHighWaterMark:m}},{"../../../errors":160}],173:[function(y,D,_){arguments[4][146][0].apply(_,arguments)},{dup:146,events:52}],174:[function(y,D,_){_=D.exports=y("./lib/_stream_readable.js"),_.Stream=_,_.Readable=_,_.Writable=y("./lib/_stream_writable.js"),_.Duplex=y("./lib/_stream_duplex.js"),_.Transform=y("./lib/_stream_transform.js"),_.PassThrough=y("./lib/_stream_passthrough.js"),_.finished=y("./lib/internal/streams/end-of-stream.js"),_.pipeline=y("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":162,"./lib/_stream_passthrough.js":163,"./lib/_stream_readable.js":164,"./lib/_stream_transform.js":165,"./lib/_stream_writable.js":166,"./lib/internal/streams/end-of-stream.js":170,"./lib/internal/streams/pipeline.js":171}],175:[function(y,D,_){arguments[4][148][0].apply(_,arguments)},{dup:148,"safe-buffer":154}],176:[function(y,D,_){(function(w,h){var m=y("process/browser.js").nextTick,d=Function.prototype.apply,o=Array.prototype.slice,s={},n=0;_.setTimeout=function(){return new t(d.call(setTimeout,re,arguments),clearTimeout)},_.setInterval=function(){return new t(d.call(setInterval,re,arguments),clearInterval)},_.clearTimeout=_.clearInterval=function(e){e.close()};function t(e,a){this._id=e,this._clearFn=a}t.prototype.unref=t.prototype.ref=function(){},t.prototype.close=function(){this._clearFn.call(re,this._id)},_.enroll=function(e,a){clearTimeout(e._idleTimeoutId),e._idleTimeout=a},_.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},_._unrefActive=_.active=function(e){clearTimeout(e._idleTimeoutId);var a=e._idleTimeout;a>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},a))},_.setImmediate=typeof w=="function"?w:function(e){var a=n++,l=arguments.length<2?!1:o.call(arguments,1);return s[a]=!0,m(function(){s[a]&&(l?e.apply(null,l):e.call(null),_.clearImmediate(a))}),a},_.clearImmediate=typeof h=="function"?h:function(e){delete s[e]}}).call(this,y("timers").setImmediate,y("timers").clearImmediate)},{"process/browser.js":133,timers:176}],177:[function(y,D,_){(function(w){Object.defineProperty(_,"__esModule",{value:!0});var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O};_.clone=n,_.addLast=a,_.addFirst=l,_.removeLast=i,_.removeFirst=f,_.insert=r,_.removeAt=u,_.replaceAt=c,_.getIn=v,_.set=g,_.setIn=x,_.update=E,_.updateIn=S,_.merge=A,_.mergeDeep=F,_.mergeIn=M,_.omit=z,_.addDefaults=U;/*!
 * Timm
 *
 * Immutability helpers with fast reads and acceptable writes.
 *
 * @copyright Guillermo Grau Panea 2016
 * @license MIT
 */var m="INVALID_ARGS";function d(O){throw new Error(O)}function o(O){var B=Object.keys(O);return Object.getOwnPropertySymbols?B.concat(Object.getOwnPropertySymbols(O)):B}var s={}.hasOwnProperty;function n(O){if(Array.isArray(O))return O.slice();for(var B=o(O),Y={},q=0;q<B.length;q++){var ie=B[q];Y[ie]=O[ie]}return Y}function t(O,B,Y){var q=Y;q==null&&d(m);for(var ie=!1,ee=arguments.length,G=Array(ee>3?ee-3:0),V=3;V<ee;V++)G[V-3]=arguments[V];for(var W=0;W<G.length;W++){var Q=G[W];if(Q!=null){var oe=o(Q);if(!!oe.length)for(var ve=0;ve<=oe.length;ve++){var fe=oe[ve];if(!(O&&q[fe]!==void 0)){var de=Q[fe];B&&e(q[fe])&&e(de)&&(de=t(O,B,q[fe],de)),!(de===void 0||de===q[fe])&&(ie||(ie=!0,q=n(q)),q[fe]=de)}}}}return q}function e(O){var B=typeof O>"u"?"undefined":h(O);return O!=null&&B==="object"}function a(O,B){return Array.isArray(B)?O.concat(B):O.concat([B])}function l(O,B){return Array.isArray(B)?B.concat(O):[B].concat(O)}function i(O){return O.length?O.slice(0,O.length-1):O}function f(O){return O.length?O.slice(1):O}function r(O,B,Y){return O.slice(0,B).concat(Array.isArray(Y)?Y:[Y]).concat(O.slice(B))}function u(O,B){return B>=O.length||B<0?O:O.slice(0,B).concat(O.slice(B+1))}function c(O,B,Y){if(O[B]===Y)return O;for(var q=O.length,ie=Array(q),ee=0;ee<q;ee++)ie[ee]=O[ee];return ie[B]=Y,ie}function v(O,B){if(!Array.isArray(B)&&d(m),O!=null){for(var Y=O,q=0;q<B.length;q++){var ie=B[q];if(Y=Y?.[ie],Y===void 0)return Y}return Y}}function g(O,B,Y){var q=typeof B=="number"?[]:{},ie=O??q;if(ie[B]===Y)return ie;var ee=n(ie);return ee[B]=Y,ee}function b(O,B,Y,q){var ie=void 0,ee=B[q];if(q===B.length-1)ie=Y;else{var G=e(O)&&e(O[ee])?O[ee]:typeof B[q+1]=="number"?[]:{};ie=b(G,B,Y,q+1)}return g(O,ee,ie)}function x(O,B,Y){return B.length?b(O,B,Y,0):Y}function E(O,B,Y){var q=O?.[B],ie=Y(q);return g(O,B,ie)}function S(O,B,Y){var q=v(O,B),ie=Y(q);return x(O,B,ie)}function A(O,B,Y,q,ie,ee){for(var G=arguments.length,V=Array(G>6?G-6:0),W=6;W<G;W++)V[W-6]=arguments[W];return V.length?t.call.apply(t,[null,!1,!1,O,B,Y,q,ie,ee].concat(V)):t(!1,!1,O,B,Y,q,ie,ee)}function F(O,B,Y,q,ie,ee){for(var G=arguments.length,V=Array(G>6?G-6:0),W=6;W<G;W++)V[W-6]=arguments[W];return V.length?t.call.apply(t,[null,!1,!0,O,B,Y,q,ie,ee].concat(V)):t(!1,!0,O,B,Y,q,ie,ee)}function M(O,B,Y,q,ie,ee,G){var V=v(O,B);V==null&&(V={});for(var W=void 0,Q=arguments.length,oe=Array(Q>7?Q-7:0),ve=7;ve<Q;ve++)oe[ve-7]=arguments[ve];return oe.length?W=t.call.apply(t,[null,!1,!1,V,Y,q,ie,ee,G].concat(oe)):W=t(!1,!1,V,Y,q,ie,ee,G),x(O,B,W)}function z(O,B){for(var Y=Array.isArray(B)?B:[B],q=!1,ie=0;ie<Y.length;ie++)if(s.call(O,Y[ie])){q=!0;break}if(!q)return O;for(var ee={},G=o(O),V=0;V<G.length;V++){var W=G[V];Y.indexOf(W)>=0||(ee[W]=O[W])}return ee}function U(O,B,Y,q,ie,ee){for(var G=arguments.length,V=Array(G>6?G-6:0),W=6;W<G;W++)V[W-6]=arguments[W];return V.length?t.call.apply(t,[null,!0,!1,O,B,Y,q,ie,ee].concat(V)):t(!0,!1,O,B,Y,q,ie,ee)}var I={clone:n,addLast:a,addFirst:l,removeLast:i,removeFirst:f,insert:r,removeAt:u,replaceAt:c,getIn:v,set:g,setIn:x,update:E,updateIn:S,merge:A,mergeDeep:F,mergeIn:M,omit:z,addDefaults:U};_.default=I}).call(this,y("_process"))},{_process:133}],178:[function(y,D,_){(function(w){var h=/^\s+/,m=/\s+$/,d=0,o=w.round,s=w.min,n=w.max,t=w.random;function e(j,P){if(j=j||"",P=P||{},j instanceof e)return j;if(!(this instanceof e))return new e(j,P);var R=a(j);this._originalInput=j,this._r=R.r,this._g=R.g,this._b=R.b,this._a=R.a,this._roundA=o(100*this._a)/100,this._format=P.format||R.format,this._gradientType=P.gradientType,this._r<1&&(this._r=o(this._r)),this._g<1&&(this._g=o(this._g)),this._b<1&&(this._b=o(this._b)),this._ok=R.ok,this._tc_id=d++}e.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var j=this.toRgb();return(j.r*299+j.g*587+j.b*114)/1e3},getLuminance:function(){var j=this.toRgb(),P,R,Z,N,C,T;return P=j.r/255,R=j.g/255,Z=j.b/255,P<=.03928?N=P/12.92:N=w.pow((P+.055)/1.055,2.4),R<=.03928?C=R/12.92:C=w.pow((R+.055)/1.055,2.4),Z<=.03928?T=Z/12.92:T=w.pow((Z+.055)/1.055,2.4),.2126*N+.7152*C+.0722*T},setAlpha:function(j){return this._a=G(j),this._roundA=o(100*this._a)/100,this},toHsv:function(){var j=r(this._r,this._g,this._b);return{h:j.h*360,s:j.s,v:j.v,a:this._a}},toHsvString:function(){var j=r(this._r,this._g,this._b),P=o(j.h*360),R=o(j.s*100),Z=o(j.v*100);return this._a==1?"hsv("+P+", "+R+"%, "+Z+"%)":"hsva("+P+", "+R+"%, "+Z+"%, "+this._roundA+")"},toHsl:function(){var j=i(this._r,this._g,this._b);return{h:j.h*360,s:j.s,l:j.l,a:this._a}},toHslString:function(){var j=i(this._r,this._g,this._b),P=o(j.h*360),R=o(j.s*100),Z=o(j.l*100);return this._a==1?"hsl("+P+", "+R+"%, "+Z+"%)":"hsla("+P+", "+R+"%, "+Z+"%, "+this._roundA+")"},toHex:function(j){return c(this._r,this._g,this._b,j)},toHexString:function(j){return"#"+this.toHex(j)},toHex8:function(j){return v(this._r,this._g,this._b,this._a,j)},toHex8String:function(j){return"#"+this.toHex8(j)},toRgb:function(){return{r:o(this._r),g:o(this._g),b:o(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+o(this._r)+", "+o(this._g)+", "+o(this._b)+")":"rgba("+o(this._r)+", "+o(this._g)+", "+o(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:o(V(this._r,255)*100)+"%",g:o(V(this._g,255)*100)+"%",b:o(V(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+o(V(this._r,255)*100)+"%, "+o(V(this._g,255)*100)+"%, "+o(V(this._b,255)*100)+"%)":"rgba("+o(V(this._r,255)*100)+"%, "+o(V(this._g,255)*100)+"%, "+o(V(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:ie[c(this._r,this._g,this._b,!0)]||!1},toFilter:function(j){var P="#"+g(this._r,this._g,this._b,this._a),R=P,Z=this._gradientType?"GradientType = 1, ":"";if(j){var N=e(j);R="#"+g(N._r,N._g,N._b,N._a)}return"progid:DXImageTransform.Microsoft.gradient("+Z+"startColorstr="+P+",endColorstr="+R+")"},toString:function(j){var P=!!j;j=j||this._format;var R=!1,Z=this._a<1&&this._a>=0,N=!P&&Z&&(j==="hex"||j==="hex6"||j==="hex3"||j==="hex4"||j==="hex8"||j==="name");return N?j==="name"&&this._a===0?this.toName():this.toRgbString():(j==="rgb"&&(R=this.toRgbString()),j==="prgb"&&(R=this.toPercentageRgbString()),(j==="hex"||j==="hex6")&&(R=this.toHexString()),j==="hex3"&&(R=this.toHexString(!0)),j==="hex4"&&(R=this.toHex8String(!0)),j==="hex8"&&(R=this.toHex8String()),j==="name"&&(R=this.toName()),j==="hsl"&&(R=this.toHslString()),j==="hsv"&&(R=this.toHsvString()),R||this.toHexString())},clone:function(){return e(this.toString())},_applyModification:function(j,P){var R=j.apply(null,[this].concat([].slice.call(P)));return this._r=R._r,this._g=R._g,this._b=R._b,this.setAlpha(R._a),this},lighten:function(){return this._applyModification(S,arguments)},brighten:function(){return this._applyModification(A,arguments)},darken:function(){return this._applyModification(F,arguments)},desaturate:function(){return this._applyModification(b,arguments)},saturate:function(){return this._applyModification(x,arguments)},greyscale:function(){return this._applyModification(E,arguments)},spin:function(){return this._applyModification(M,arguments)},_applyCombination:function(j,P){return j.apply(null,[this].concat([].slice.call(P)))},analogous:function(){return this._applyCombination(B,arguments)},complement:function(){return this._applyCombination(z,arguments)},monochromatic:function(){return this._applyCombination(Y,arguments)},splitcomplement:function(){return this._applyCombination(O,arguments)},triad:function(){return this._applyCombination(U,arguments)},tetrad:function(){return this._applyCombination(I,arguments)}},e.fromRatio=function(j,P){if(typeof j=="object"){var R={};for(var Z in j)j.hasOwnProperty(Z)&&(Z==="a"?R[Z]=j[Z]:R[Z]=de(j[Z]));j=R}return e(j,P)};function a(j){var P={r:0,g:0,b:0},R=1,Z=null,N=null,C=null,T=!1,H=!1;return typeof j=="string"&&(j=J(j)),typeof j=="object"&&(X(j.r)&&X(j.g)&&X(j.b)?(P=l(j.r,j.g,j.b),T=!0,H=String(j.r).substr(-1)==="%"?"prgb":"rgb"):X(j.h)&&X(j.s)&&X(j.v)?(Z=de(j.s),N=de(j.v),P=u(j.h,Z,N),T=!0,H="hsv"):X(j.h)&&X(j.s)&&X(j.l)&&(Z=de(j.s),C=de(j.l),P=f(j.h,Z,C),T=!0,H="hsl"),j.hasOwnProperty("a")&&(R=j.a)),R=G(R),{ok:T,format:j.format||H,r:s(255,n(P.r,0)),g:s(255,n(P.g,0)),b:s(255,n(P.b,0)),a:R}}function l(j,P,R){return{r:V(j,255)*255,g:V(P,255)*255,b:V(R,255)*255}}function i(j,P,R){j=V(j,255),P=V(P,255),R=V(R,255);var Z=n(j,P,R),N=s(j,P,R),C,T,H=(Z+N)/2;if(Z==N)C=T=0;else{var ue=Z-N;switch(T=H>.5?ue/(2-Z-N):ue/(Z+N),Z){case j:C=(P-R)/ue+(P<R?6:0);break;case P:C=(R-j)/ue+2;break;case R:C=(j-P)/ue+4;break}C/=6}return{h:C,s:T,l:H}}function f(j,P,R){var Z,N,C;j=V(j,360),P=V(P,100),R=V(R,100);function T(me,ye,Me){return Me<0&&(Me+=1),Me>1&&(Me-=1),Me<1/6?me+(ye-me)*6*Me:Me<1/2?ye:Me<2/3?me+(ye-me)*(2/3-Me)*6:me}if(P===0)Z=N=C=R;else{var H=R<.5?R*(1+P):R+P-R*P,ue=2*R-H;Z=T(ue,H,j+1/3),N=T(ue,H,j),C=T(ue,H,j-1/3)}return{r:Z*255,g:N*255,b:C*255}}function r(j,P,R){j=V(j,255),P=V(P,255),R=V(R,255);var Z=n(j,P,R),N=s(j,P,R),C,T,H=Z,ue=Z-N;if(T=Z===0?0:ue/Z,Z==N)C=0;else{switch(Z){case j:C=(P-R)/ue+(P<R?6:0);break;case P:C=(R-j)/ue+2;break;case R:C=(j-P)/ue+4;break}C/=6}return{h:C,s:T,v:H}}function u(j,P,R){j=V(j,360)*6,P=V(P,100),R=V(R,100);var Z=w.floor(j),N=j-Z,C=R*(1-P),T=R*(1-N*P),H=R*(1-(1-N)*P),ue=Z%6,me=[R,T,C,C,H,R][ue],ye=[H,R,R,T,C,C][ue],Me=[C,C,H,R,R,T][ue];return{r:me*255,g:ye*255,b:Me*255}}function c(j,P,R,Z){var N=[fe(o(j).toString(16)),fe(o(P).toString(16)),fe(o(R).toString(16))];return Z&&N[0].charAt(0)==N[0].charAt(1)&&N[1].charAt(0)==N[1].charAt(1)&&N[2].charAt(0)==N[2].charAt(1)?N[0].charAt(0)+N[1].charAt(0)+N[2].charAt(0):N.join("")}function v(j,P,R,Z,N){var C=[fe(o(j).toString(16)),fe(o(P).toString(16)),fe(o(R).toString(16)),fe(be(Z))];return N&&C[0].charAt(0)==C[0].charAt(1)&&C[1].charAt(0)==C[1].charAt(1)&&C[2].charAt(0)==C[2].charAt(1)&&C[3].charAt(0)==C[3].charAt(1)?C[0].charAt(0)+C[1].charAt(0)+C[2].charAt(0)+C[3].charAt(0):C.join("")}function g(j,P,R,Z){var N=[fe(be(Z)),fe(o(j).toString(16)),fe(o(P).toString(16)),fe(o(R).toString(16))];return N.join("")}e.equals=function(j,P){return!j||!P?!1:e(j).toRgbString()==e(P).toRgbString()},e.random=function(){return e.fromRatio({r:t(),g:t(),b:t()})};function b(j,P){P=P===0?0:P||10;var R=e(j).toHsl();return R.s-=P/100,R.s=W(R.s),e(R)}function x(j,P){P=P===0?0:P||10;var R=e(j).toHsl();return R.s+=P/100,R.s=W(R.s),e(R)}function E(j){return e(j).desaturate(100)}function S(j,P){P=P===0?0:P||10;var R=e(j).toHsl();return R.l+=P/100,R.l=W(R.l),e(R)}function A(j,P){P=P===0?0:P||10;var R=e(j).toRgb();return R.r=n(0,s(255,R.r-o(255*-(P/100)))),R.g=n(0,s(255,R.g-o(255*-(P/100)))),R.b=n(0,s(255,R.b-o(255*-(P/100)))),e(R)}function F(j,P){P=P===0?0:P||10;var R=e(j).toHsl();return R.l-=P/100,R.l=W(R.l),e(R)}function M(j,P){var R=e(j).toHsl(),Z=(R.h+P)%360;return R.h=Z<0?360+Z:Z,e(R)}function z(j){var P=e(j).toHsl();return P.h=(P.h+180)%360,e(P)}function U(j){var P=e(j).toHsl(),R=P.h;return[e(j),e({h:(R+120)%360,s:P.s,l:P.l}),e({h:(R+240)%360,s:P.s,l:P.l})]}function I(j){var P=e(j).toHsl(),R=P.h;return[e(j),e({h:(R+90)%360,s:P.s,l:P.l}),e({h:(R+180)%360,s:P.s,l:P.l}),e({h:(R+270)%360,s:P.s,l:P.l})]}function O(j){var P=e(j).toHsl(),R=P.h;return[e(j),e({h:(R+72)%360,s:P.s,l:P.l}),e({h:(R+216)%360,s:P.s,l:P.l})]}function B(j,P,R){P=P||6,R=R||30;var Z=e(j).toHsl(),N=360/R,C=[e(j)];for(Z.h=(Z.h-(N*P>>1)+720)%360;--P;)Z.h=(Z.h+N)%360,C.push(e(Z));return C}function Y(j,P){P=P||6;for(var R=e(j).toHsv(),Z=R.h,N=R.s,C=R.v,T=[],H=1/P;P--;)T.push(e({h:Z,s:N,v:C})),C=(C+H)%1;return T}e.mix=function(j,P,R){R=R===0?0:R||50;var Z=e(j).toRgb(),N=e(P).toRgb(),C=R/100,T={r:(N.r-Z.r)*C+Z.r,g:(N.g-Z.g)*C+Z.g,b:(N.b-Z.b)*C+Z.b,a:(N.a-Z.a)*C+Z.a};return e(T)},e.readability=function(j,P){var R=e(j),Z=e(P);return(w.max(R.getLuminance(),Z.getLuminance())+.05)/(w.min(R.getLuminance(),Z.getLuminance())+.05)},e.isReadable=function(j,P,R){var Z=e.readability(j,P),N,C;switch(C=!1,N=te(R),N.level+N.size){case"AAsmall":case"AAAlarge":C=Z>=4.5;break;case"AAlarge":C=Z>=3;break;case"AAAsmall":C=Z>=7;break}return C},e.mostReadable=function(j,P,R){var Z=null,N=0,C,T,H,ue;R=R||{},T=R.includeFallbackColors,H=R.level,ue=R.size;for(var me=0;me<P.length;me++)C=e.readability(j,P[me]),C>N&&(N=C,Z=e(P[me]));return e.isReadable(j,Z,{level:H,size:ue})||!T?Z:(R.includeFallbackColors=!1,e.mostReadable(j,["#fff","#000"],R))};var q=e.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},ie=e.hexNames=ee(q);function ee(j){var P={};for(var R in j)j.hasOwnProperty(R)&&(P[j[R]]=R);return P}function G(j){return j=parseFloat(j),(isNaN(j)||j<0||j>1)&&(j=1),j}function V(j,P){oe(j)&&(j="100%");var R=ve(j);return j=s(P,n(0,parseFloat(j))),R&&(j=parseInt(j*P,10)/100),w.abs(j-P)<1e-6?1:j%P/parseFloat(P)}function W(j){return s(1,n(0,j))}function Q(j){return parseInt(j,16)}function oe(j){return typeof j=="string"&&j.indexOf(".")!=-1&&parseFloat(j)===1}function ve(j){return typeof j=="string"&&j.indexOf("%")!=-1}function fe(j){return j.length==1?"0"+j:""+j}function de(j){return j<=1&&(j=j*100+"%"),j}function be(j){return w.round(parseFloat(j)*255).toString(16)}function le(j){return Q(j)/255}var se=function(){var j="[-\\+]?\\d+%?",P="[-\\+]?\\d*\\.\\d+%?",R="(?:"+P+")|(?:"+j+")",Z="[\\s|\\(]+("+R+")[,|\\s]+("+R+")[,|\\s]+("+R+")\\s*\\)?",N="[\\s|\\(]+("+R+")[,|\\s]+("+R+")[,|\\s]+("+R+")[,|\\s]+("+R+")\\s*\\)?";return{CSS_UNIT:new RegExp(R),rgb:new RegExp("rgb"+Z),rgba:new RegExp("rgba"+N),hsl:new RegExp("hsl"+Z),hsla:new RegExp("hsla"+N),hsv:new RegExp("hsv"+Z),hsva:new RegExp("hsva"+N),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function X(j){return!!se.CSS_UNIT.exec(j)}function J(j){j=j.replace(h,"").replace(m,"").toLowerCase();var P=!1;if(q[j])j=q[j],P=!0;else if(j=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var R;return(R=se.rgb.exec(j))?{r:R[1],g:R[2],b:R[3]}:(R=se.rgba.exec(j))?{r:R[1],g:R[2],b:R[3],a:R[4]}:(R=se.hsl.exec(j))?{h:R[1],s:R[2],l:R[3]}:(R=se.hsla.exec(j))?{h:R[1],s:R[2],l:R[3],a:R[4]}:(R=se.hsv.exec(j))?{h:R[1],s:R[2],v:R[3]}:(R=se.hsva.exec(j))?{h:R[1],s:R[2],v:R[3],a:R[4]}:(R=se.hex8.exec(j))?{r:Q(R[1]),g:Q(R[2]),b:Q(R[3]),a:le(R[4]),format:P?"name":"hex8"}:(R=se.hex6.exec(j))?{r:Q(R[1]),g:Q(R[2]),b:Q(R[3]),format:P?"name":"hex"}:(R=se.hex4.exec(j))?{r:Q(R[1]+""+R[1]),g:Q(R[2]+""+R[2]),b:Q(R[3]+""+R[3]),a:le(R[4]+""+R[4]),format:P?"name":"hex8"}:(R=se.hex3.exec(j))?{r:Q(R[1]+""+R[1]),g:Q(R[2]+""+R[2]),b:Q(R[3]+""+R[3]),format:P?"name":"hex"}:!1}function te(j){var P,R;return j=j||{level:"AA",size:"small"},P=(j.level||"AA").toUpperCase(),R=(j.size||"small").toLowerCase(),P!=="AA"&&P!=="AAA"&&(P="AA"),R!=="small"&&R!=="large"&&(R="small"),{level:P,size:R}}typeof D<"u"&&D.exports?D.exports=e:re.tinycolor=e})(Math)},{}],179:[function(y,D,_){_=D.exports=w;function w(h){return h.replace(/^\s*|\s*$/g,"")}_.left=function(h){return h.replace(/^\s*/,"")},_.right=function(h){return h.replace(/\s*$/,"")}},{}],180:[function(y,D,_){var w=y("punycode"),h=y("./util");_.parse=b,_.resolve=E,_.resolveObject=S,_.format=x,_.Url=m;function m(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var d=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,n=["<",">",'"',"`"," ","\r",`
`,"	"],t=["{","}","|","\\","^","`"].concat(n),e=["'"].concat(t),a=["%","/","?",";","#"].concat(e),l=["/","?","#"],i=255,f=/^[+a-z0-9A-Z_-]{0,63}$/,r=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,u={javascript:!0,"javascript:":!0},c={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=y("querystring");function b(A,F,M){if(A&&h.isObject(A)&&A instanceof m)return A;var z=new m;return z.parse(A,F,M),z}m.prototype.parse=function(A,F,M){if(!h.isString(A))throw new TypeError("Parameter 'url' must be a string, not "+typeof A);var z=A.indexOf("?"),U=z!==-1&&z<A.indexOf("#")?"?":"#",I=A.split(U),O=/\\/g;I[0]=I[0].replace(O,"/"),A=I.join(U);var B=A;if(B=B.trim(),!M&&A.split("#").length===1){var Y=s.exec(B);if(Y)return this.path=B,this.href=B,this.pathname=Y[1],Y[2]?(this.search=Y[2],F?this.query=g.parse(this.search.substr(1)):this.query=this.search.substr(1)):F&&(this.search="",this.query={}),this}var q=d.exec(B);if(q){q=q[0];var ie=q.toLowerCase();this.protocol=ie,B=B.substr(q.length)}if(M||q||B.match(/^\/\/[^@\/]+@[^@\/]+/)){var ee=B.substr(0,2)==="//";ee&&!(q&&c[q])&&(B=B.substr(2),this.slashes=!0)}if(!c[q]&&(ee||q&&!v[q])){for(var G=-1,V=0;V<l.length;V++){var W=B.indexOf(l[V]);W!==-1&&(G===-1||W<G)&&(G=W)}var Q,oe;G===-1?oe=B.lastIndexOf("@"):oe=B.lastIndexOf("@",G),oe!==-1&&(Q=B.slice(0,oe),B=B.slice(oe+1),this.auth=decodeURIComponent(Q)),G=-1;for(var V=0;V<a.length;V++){var W=B.indexOf(a[V]);W!==-1&&(G===-1||W<G)&&(G=W)}G===-1&&(G=B.length),this.host=B.slice(0,G),B=B.slice(G),this.parseHost(),this.hostname=this.hostname||"";var ve=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!ve)for(var fe=this.hostname.split(/\./),V=0,de=fe.length;V<de;V++){var be=fe[V];if(!!be&&!be.match(f)){for(var le="",se=0,X=be.length;se<X;se++)be.charCodeAt(se)>127?le+="x":le+=be[se];if(!le.match(f)){var J=fe.slice(0,V),te=fe.slice(V+1),j=be.match(r);j&&(J.push(j[1]),te.unshift(j[2])),te.length&&(B="/"+te.join(".")+B),this.hostname=J.join(".");break}}}this.hostname.length>i?this.hostname="":this.hostname=this.hostname.toLowerCase(),ve||(this.hostname=w.toASCII(this.hostname));var P=this.port?":"+this.port:"",R=this.hostname||"";this.host=R+P,this.href+=this.host,ve&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),B[0]!=="/"&&(B="/"+B))}if(!u[ie])for(var V=0,de=e.length;V<de;V++){var Z=e[V];if(B.indexOf(Z)!==-1){var N=encodeURIComponent(Z);N===Z&&(N=escape(Z)),B=B.split(Z).join(N)}}var C=B.indexOf("#");C!==-1&&(this.hash=B.substr(C),B=B.slice(0,C));var T=B.indexOf("?");if(T!==-1?(this.search=B.substr(T),this.query=B.substr(T+1),F&&(this.query=g.parse(this.query)),B=B.slice(0,T)):F&&(this.search="",this.query={}),B&&(this.pathname=B),v[ie]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var P=this.pathname||"",H=this.search||"";this.path=P+H}return this.href=this.format(),this};function x(A){return h.isString(A)&&(A=b(A)),A instanceof m?A.format():m.prototype.format.call(A)}m.prototype.format=function(){var A=this.auth||"";A&&(A=encodeURIComponent(A),A=A.replace(/%3A/i,":"),A+="@");var F=this.protocol||"",M=this.pathname||"",z=this.hash||"",U=!1,I="";this.host?U=A+this.host:this.hostname&&(U=A+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(U+=":"+this.port)),this.query&&h.isObject(this.query)&&Object.keys(this.query).length&&(I=g.stringify(this.query));var O=this.search||I&&"?"+I||"";return F&&F.substr(-1)!==":"&&(F+=":"),this.slashes||(!F||v[F])&&U!==!1?(U="//"+(U||""),M&&M.charAt(0)!=="/"&&(M="/"+M)):U||(U=""),z&&z.charAt(0)!=="#"&&(z="#"+z),O&&O.charAt(0)!=="?"&&(O="?"+O),M=M.replace(/[?#]/g,function(B){return encodeURIComponent(B)}),O=O.replace("#","%23"),F+U+M+O+z};function E(A,F){return b(A,!1,!0).resolve(F)}m.prototype.resolve=function(A){return this.resolveObject(b(A,!1,!0)).format()};function S(A,F){return A?b(A,!1,!0).resolveObject(F):F}m.prototype.resolveObject=function(A){if(h.isString(A)){var F=new m;F.parse(A,!1,!0),A=F}for(var M=new m,z=Object.keys(this),U=0;U<z.length;U++){var I=z[U];M[I]=this[I]}if(M.hash=A.hash,A.href==="")return M.href=M.format(),M;if(A.slashes&&!A.protocol){for(var O=Object.keys(A),B=0;B<O.length;B++){var Y=O[B];Y!=="protocol"&&(M[Y]=A[Y])}return v[M.protocol]&&M.hostname&&!M.pathname&&(M.path=M.pathname="/"),M.href=M.format(),M}if(A.protocol&&A.protocol!==M.protocol){if(!v[A.protocol]){for(var q=Object.keys(A),ie=0;ie<q.length;ie++){var ee=q[ie];M[ee]=A[ee]}return M.href=M.format(),M}if(M.protocol=A.protocol,!A.host&&!c[A.protocol]){for(var de=(A.pathname||"").split("/");de.length&&!(A.host=de.shift()););A.host||(A.host=""),A.hostname||(A.hostname=""),de[0]!==""&&de.unshift(""),de.length<2&&de.unshift(""),M.pathname=de.join("/")}else M.pathname=A.pathname;if(M.search=A.search,M.query=A.query,M.host=A.host||"",M.auth=A.auth,M.hostname=A.hostname||A.host,M.port=A.port,M.pathname||M.search){var G=M.pathname||"",V=M.search||"";M.path=G+V}return M.slashes=M.slashes||A.slashes,M.href=M.format(),M}var W=M.pathname&&M.pathname.charAt(0)==="/",Q=A.host||A.pathname&&A.pathname.charAt(0)==="/",oe=Q||W||M.host&&A.pathname,ve=oe,fe=M.pathname&&M.pathname.split("/")||[],de=A.pathname&&A.pathname.split("/")||[],be=M.protocol&&!v[M.protocol];if(be&&(M.hostname="",M.port=null,M.host&&(fe[0]===""?fe[0]=M.host:fe.unshift(M.host)),M.host="",A.protocol&&(A.hostname=null,A.port=null,A.host&&(de[0]===""?de[0]=A.host:de.unshift(A.host)),A.host=null),oe=oe&&(de[0]===""||fe[0]==="")),Q)M.host=A.host||A.host===""?A.host:M.host,M.hostname=A.hostname||A.hostname===""?A.hostname:M.hostname,M.search=A.search,M.query=A.query,fe=de;else if(de.length)fe||(fe=[]),fe.pop(),fe=fe.concat(de),M.search=A.search,M.query=A.query;else if(!h.isNullOrUndefined(A.search)){if(be){M.hostname=M.host=fe.shift();var le=M.host&&M.host.indexOf("@")>0?M.host.split("@"):!1;le&&(M.auth=le.shift(),M.host=M.hostname=le.shift())}return M.search=A.search,M.query=A.query,(!h.isNull(M.pathname)||!h.isNull(M.search))&&(M.path=(M.pathname?M.pathname:"")+(M.search?M.search:"")),M.href=M.format(),M}if(!fe.length)return M.pathname=null,M.search?M.path="/"+M.search:M.path=null,M.href=M.format(),M;for(var se=fe.slice(-1)[0],X=(M.host||A.host||fe.length>1)&&(se==="."||se==="..")||se==="",J=0,te=fe.length;te>=0;te--)se=fe[te],se==="."?fe.splice(te,1):se===".."?(fe.splice(te,1),J++):J&&(fe.splice(te,1),J--);if(!oe&&!ve)for(;J--;J)fe.unshift("..");oe&&fe[0]!==""&&(!fe[0]||fe[0].charAt(0)!=="/")&&fe.unshift(""),X&&fe.join("/").substr(-1)!=="/"&&fe.push("");var j=fe[0]===""||fe[0]&&fe[0].charAt(0)==="/";if(be){M.hostname=M.host=j?"":fe.length?fe.shift():"";var le=M.host&&M.host.indexOf("@")>0?M.host.split("@"):!1;le&&(M.auth=le.shift(),M.host=M.hostname=le.shift())}return oe=oe||M.host&&fe.length,oe&&!j&&fe.unshift(""),fe.length?M.pathname=fe.join("/"):(M.pathname=null,M.path=null),(!h.isNull(M.pathname)||!h.isNull(M.search))&&(M.path=(M.pathname?M.pathname:"")+(M.search?M.search:"")),M.auth=A.auth||M.auth,M.slashes=M.slashes||A.slashes,M.href=M.format(),M},m.prototype.parseHost=function(){var A=this.host,F=o.exec(A);F&&(F=F[0],F!==":"&&(this.port=F.substr(1)),A=A.substr(0,A.length-F.length)),A&&(this.hostname=A)}},{"./util":181,punycode:134,querystring:137}],181:[function(y,D,_){D.exports={isString:function(w){return typeof w=="string"},isObject:function(w){return typeof w=="object"&&w!==null},isNull:function(w){return w===null},isNullOrUndefined:function(w){return w==null}}},{}],182:[function(y,D,_){(function(w){(function(){var h={};typeof D=="object"?D.exports=h:self.UTIF=h;var m;typeof y=="function"?m=y("pako"):m=self.pako;function d(){typeof w>"u"&&console.log.apply(console,arguments)}(function(o,s){(function(){var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},t=function(){function a(l){this.message="JPEG error: "+l}return a.prototype=Error(),a.prototype.name="JpegError",a.constructor=a}(),e=function(){function a(l,i){this.message=l,this.g=i}return a.prototype=Error(),a.prototype.name="DNLMarkerError",a.constructor=a}();(function(){function a(){this.M=null,this.B=-1}function l(c,v){for(var g=0,b=[],x,E,S=16;0<S&&!c[S-1];)S--;b.push({children:[],index:0});var A=b[0],F;for(x=0;x<S;x++){for(E=0;E<c[x];E++){for(A=b.pop(),A.children[A.index]=v[g];0<A.index;)A=b.pop();for(A.index++,b.push(A);b.length<=x;)b.push(F={children:[],index:0}),A.children[A.index]=F.children,A=F;g++}x+1<S&&(b.push(F={children:[],index:0}),A.children[A.index]=F.children,A=F)}return b[0].children}function i(c,v,g,b,x,E,S,A,F){function M(){if(0<Q)return Q--,W>>Q&1;if(W=c[v++],W===255){var C=c[v++];if(C){if(C===220&&ee){v+=2;var T=c[v++]<<8|c[v++];if(0<T&&T!==g.g)throw new e("Found DNL marker (0xFFDC) while parsing scan data",T)}throw new t("unexpected marker "+(W<<8|C).toString(16))}}return Q=7,W>>>7}function z(C){for(;;){if(C=C[M()],typeof C=="number")return C;if((typeof C>"u"?"undefined":n(C))!=="object")throw new t("invalid huffman sequence")}}function U(C){for(var T=0;0<C;)T=T<<1|M(),C--;return T}function I(C){if(C===1)return M()===1?1:-1;var T=U(C);return T>=1<<C-1?T:T+(-1<<C)+1}function O(C,T){var H=z(C.D);for(H=H===0?0:I(H),C.a[T]=C.m+=H,H=1;64>H;){var ue=z(C.o),me=ue&15;if(ue>>=4,me===0){if(15>ue)break;H+=16}else H+=ue,C.a[T+u[H]]=I(me),H++}}function B(C,T){var H=z(C.D);H=H===0?0:I(H)<<F,C.a[T]=C.m+=H}function Y(C,T){C.a[T]|=M()<<F}function q(C,T){if(0<oe)oe--;else for(var H=E;H<=S;){var ue=z(C.o),me=ue&15;if(ue>>=4,me===0){if(15>ue){oe=U(ue)+(1<<ue)-1;break}H+=16}else H+=ue,C.a[T+u[H]]=I(me)*(1<<F),H++}}function ie(C,T){for(var H=E,ue=0,me;H<=S;){me=T+u[H];var ye=0>C.a[me]?-1:1;switch(ve){case 0:if(ue=z(C.o),me=ue&15,ue>>=4,me===0)15>ue?(oe=U(ue)+(1<<ue),ve=4):(ue=16,ve=1);else{if(me!==1)throw new t("invalid ACn encoding");fe=I(me),ve=ue?2:3}continue;case 1:case 2:C.a[me]?C.a[me]+=ye*(M()<<F):(ue--,ue===0&&(ve=ve===2?3:0));break;case 3:C.a[me]?C.a[me]+=ye*(M()<<F):(C.a[me]=fe<<F,ve=0);break;case 4:C.a[me]&&(C.a[me]+=ye*(M()<<F))}H++}ve===4&&(oe--,oe===0&&(ve=0))}for(var ee=9<arguments.length&&arguments[9]!==void 0?arguments[9]:!1,G=g.P,V=v,W=0,Q=0,oe=0,ve=0,fe,de=b.length,be,le,se,X,J=g.S?E===0?A===0?B:Y:A===0?q:ie:O,te=0,j=de===1?b[0].c*b[0].l:G*g.O,P,R;te<j;){var Z=x?Math.min(j-te,x):j;for(be=0;be<de;be++)b[be].m=0;if(oe=0,de===1){var N=b[0];for(X=0;X<Z;X++)J(N,64*((N.c+1)*(te/N.c|0)+te%N.c)),te++}else for(X=0;X<Z;X++){for(be=0;be<de;be++)for(N=b[be],P=N.h,R=N.j,le=0;le<R;le++)for(se=0;se<P;se++)J(N,64*((N.c+1)*((te/G|0)*N.j+le)+(te%G*N.h+se)));te++}if(Q=0,(N=r(c,v))&&N.f&&((0,_util.warn)("decodeScan - unexpected MCU data, current marker is: "+N.f),v=N.offset),N=N&&N.F,!N||65280>=N)throw new t("marker was not found");if(65488<=N&&65495>=N)v+=2;else break}return(N=r(c,v))&&N.f&&((0,_util.warn)("decodeScan - unexpected Scan data, current marker is: "+N.f),v=N.offset),v-V}function f(c,v){for(var g=v.c,b=v.l,x=new Int16Array(64),E=0;E<b;E++)for(var S=0;S<g;S++){var A=64*((v.c+1)*E+S),F=x,M=v.G,z=v.a;if(!M)throw new t("missing required Quantization Table.");for(var U=0;64>U;U+=8){var I=z[A+U],O=z[A+U+1],B=z[A+U+2],Y=z[A+U+3],q=z[A+U+4],ie=z[A+U+5],ee=z[A+U+6],G=z[A+U+7];if(I*=M[U],(O|B|Y|q|ie|ee|G)===0)I=5793*I+512>>10,F[U]=I,F[U+1]=I,F[U+2]=I,F[U+3]=I,F[U+4]=I,F[U+5]=I,F[U+6]=I,F[U+7]=I;else{O*=M[U+1],B*=M[U+2],Y*=M[U+3],q*=M[U+4],ie*=M[U+5],ee*=M[U+6],G*=M[U+7];var V=5793*I+128>>8,W=5793*q+128>>8,Q=B,oe=ee;q=2896*(O-G)+128>>8,G=2896*(O+G)+128>>8,Y<<=4,ie<<=4,V=V+W+1>>1,W=V-W,I=3784*Q+1567*oe+128>>8,Q=1567*Q-3784*oe+128>>8,oe=I,q=q+ie+1>>1,ie=q-ie,G=G+Y+1>>1,Y=G-Y,V=V+oe+1>>1,oe=V-oe,W=W+Q+1>>1,Q=W-Q,I=2276*q+3406*G+2048>>12,q=3406*q-2276*G+2048>>12,G=I,I=799*Y+4017*ie+2048>>12,Y=4017*Y-799*ie+2048>>12,ie=I,F[U]=V+G,F[U+7]=V-G,F[U+1]=W+ie,F[U+6]=W-ie,F[U+2]=Q+Y,F[U+5]=Q-Y,F[U+3]=oe+q,F[U+4]=oe-q}}for(M=0;8>M;++M)I=F[M],O=F[M+8],B=F[M+16],Y=F[M+24],q=F[M+32],ie=F[M+40],ee=F[M+48],G=F[M+56],(O|B|Y|q|ie|ee|G)===0?(I=5793*I+8192>>14,I=-2040>I?0:2024<=I?255:I+2056>>4,z[A+M]=I,z[A+M+8]=I,z[A+M+16]=I,z[A+M+24]=I,z[A+M+32]=I,z[A+M+40]=I,z[A+M+48]=I,z[A+M+56]=I):(V=5793*I+2048>>12,W=5793*q+2048>>12,Q=B,oe=ee,q=2896*(O-G)+2048>>12,G=2896*(O+G)+2048>>12,V=(V+W+1>>1)+4112,W=V-W,I=3784*Q+1567*oe+2048>>12,Q=1567*Q-3784*oe+2048>>12,oe=I,q=q+ie+1>>1,ie=q-ie,G=G+Y+1>>1,Y=G-Y,V=V+oe+1>>1,oe=V-oe,W=W+Q+1>>1,Q=W-Q,I=2276*q+3406*G+2048>>12,q=3406*q-2276*G+2048>>12,G=I,I=799*Y+4017*ie+2048>>12,Y=4017*Y-799*ie+2048>>12,ie=I,I=V+G,G=V-G,O=W+ie,ee=W-ie,B=Q+Y,ie=Q-Y,Y=oe+q,q=oe-q,I=16>I?0:4080<=I?255:I>>4,O=16>O?0:4080<=O?255:O>>4,B=16>B?0:4080<=B?255:B>>4,Y=16>Y?0:4080<=Y?255:Y>>4,q=16>q?0:4080<=q?255:q>>4,ie=16>ie?0:4080<=ie?255:ie>>4,ee=16>ee?0:4080<=ee?255:ee>>4,G=16>G?0:4080<=G?255:G>>4,z[A+M]=I,z[A+M+8]=O,z[A+M+16]=B,z[A+M+24]=Y,z[A+M+32]=q,z[A+M+40]=ie,z[A+M+48]=ee,z[A+M+56]=G)}return v.a}function r(c,v){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:v,b=c.length-1;if(g=g<v?g:v,v>=b)return null;var x=c[v]<<8|c[v+1];if(65472<=x&&65534>=x)return{f:null,F:x,offset:v};for(var E=c[g]<<8|c[g+1];!(65472<=E&&65534>=E);){if(++g>=b)return null;E=c[g]<<8|c[g+1]}return{f:x.toString(16),F:E,offset:g}}var u=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);a.prototype={parse:function(c){function v(){var Q=c[S]<<8|c[S+1];return S+=2,Q}function g(){var Q=v();Q=S+Q-2;var oe=r(c,Q,S);return oe&&oe.f&&((0,_util.warn)("readDataBlock - incorrect length, current marker is: "+oe.f),Q=oe.offset),Q=c.subarray(S,Q),S+=Q.length,Q}function b(Q){for(var oe=Math.ceil(Q.v/8/Q.s),ve=Math.ceil(Q.g/8/Q.u),fe=0;fe<Q.b.length;fe++){V=Q.b[fe];var de=Math.ceil(Math.ceil(Q.v/8)*V.h/Q.s),be=Math.ceil(Math.ceil(Q.g/8)*V.j/Q.u);V.a=new Int16Array(64*ve*V.j*(oe*V.h+1)),V.c=de,V.l=be}Q.P=oe,Q.O=ve}var x=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).N,E=x===void 0?null:x,S=0,A=null,F=0;x=[];var M=[],z=[],U=v();if(U!==65496)throw new t("SOI not found");for(U=v();U!==65497;){switch(U){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var I=g();U===65518&&I[0]===65&&I[1]===100&&I[2]===111&&I[3]===98&&I[4]===101&&(A={version:I[5]<<8|I[6],Y:I[7]<<8|I[8],Z:I[9]<<8|I[10],W:I[11]});break;case 65499:U=v()+S-2;for(var O;S<U;){var B=c[S++],Y=new Uint16Array(64);if(B>>4===0)for(I=0;64>I;I++)O=u[I],Y[O]=c[S++];else if(B>>4===1)for(I=0;64>I;I++)O=u[I],Y[O]=v();else throw new t("DQT - invalid table spec");x[B&15]=Y}break;case 65472:case 65473:case 65474:if(q)throw new t("Only single frame JPEGs supported");v();var q={};for(q.X=U===65473,q.S=U===65474,q.precision=c[S++],U=v(),q.g=E||U,q.v=v(),q.b=[],q.C={},I=c[S++],U=Y=B=0;U<I;U++){O=c[S];var ie=c[S+1]>>4,ee=c[S+1]&15;B<ie&&(B=ie),Y<ee&&(Y=ee),ie=q.b.push({h:ie,j:ee,T:c[S+2],G:null}),q.C[O]=ie-1,S+=3}q.s=B,q.u=Y,b(q);break;case 65476:for(O=v(),U=2;U<O;){for(B=c[S++],Y=new Uint8Array(16),I=ie=0;16>I;I++,S++)ie+=Y[I]=c[S];for(ee=new Uint8Array(ie),I=0;I<ie;I++,S++)ee[I]=c[S];U+=17+ie,(B>>4===0?z:M)[B&15]=l(Y,ee)}break;case 65501:v();var G=v();break;case 65498:for(I=++F===1&&!E,v(),B=c[S++],O=[],U=0;U<B;U++){Y=q.C[c[S++]];var V=q.b[Y];Y=c[S++],V.D=z[Y>>4],V.o=M[Y&15],O.push(V)}U=c[S++],B=c[S++],Y=c[S++];try{var W=i(c,S,q,O,G,U,B,Y>>4,Y&15,I);S+=W}catch(Q){if(Q instanceof e)return(0,_util.warn)('Attempting to re-parse JPEG image using "scanLines" parameter found in DNL marker (0xFFDC) segment.'),this.parse(c,{N:Q.g});throw Q}break;case 65500:S+=4;break;case 65535:c[S]!==255&&S--;break;default:if(c[S-3]===255&&192<=c[S-2]&&254>=c[S-2])S-=3;else if((I=r(c,S-2))&&I.f)(0,_util.warn)("JpegImage.parse - unexpected data, current marker is: "+I.f),S=I.offset;else throw new t("unknown marker "+U.toString(16))}U=v()}for(this.width=q.v,this.height=q.g,this.A=A,this.b=[],U=0;U<q.b.length;U++)V=q.b[U],(G=x[V.T])&&(V.G=G),this.b.push({R:f(q,V),U:V.h/q.s,V:V.j/q.u,c:V.c,l:V.l});this.i=this.b.length},L:function(c,v){var g=this.width/c,b=this.height/v,x,E,S=this.b.length,A=c*v*S,F=new Uint8ClampedArray(A),M=new Uint32Array(c);for(E=0;E<S;E++){var z=this.b[E],U=z.U*g,I=z.V*b,O=E,B=z.R,Y=z.c+1<<3;for(x=0;x<c;x++)z=0|x*U,M[x]=(z&4294967288)<<3|z&7;for(U=0;U<v;U++)for(z=0|U*I,z=Y*(z&4294967288)|(z&7)<<3,x=0;x<c;x++)F[O]=B[z+M[x]],O+=S}if(b=this.M)for(E=0;E<A;)for(g=z=0;z<S;z++,E++,g+=2)F[E]=(F[E]*b[g]>>8)+b[g+1];return F},w:function(){return this.A?!!this.A.W:this.i===3?this.B!==0:this.B===1},I:function(c){for(var v,g,b,x=0,E=c.length;x<E;x+=3)v=c[x],g=c[x+1],b=c[x+2],c[x]=v-179.456+1.402*b,c[x+1]=v+135.459-.344*g-.714*b,c[x+2]=v-226.816+1.772*g;return c},K:function(c){for(var v,g,b,x,E=0,S=0,A=c.length;S<A;S+=4)v=c[S],g=c[S+1],b=c[S+2],x=c[S+3],c[E++]=-122.67195406894+g*(-660635669420364e-19*g+.000437130475926232*b-54080610064599e-18*v+.00048449797120281*x-.154362151871126)+b*(-.000957964378445773*b+.000817076911346625*v-.00477271405408747*x+1.53380253221734)+v*(.000961250184130688*v-.00266257332283933*x+.48357088451265)+x*(-.000336197177618394*x+.484791561490776),c[E++]=107.268039397724+g*(219927104525741e-19*g-.000640992018297945*b+.000659397001245577*v+.000426105652938837*x-.176491792462875)+b*(-.000778269941513683*b+.00130872261408275*v+.000770482631801132*x-.151051492775562)+v*(.00126935368114843*v-.00265090189010898*x+.25802910206845)+x*(-.000318913117588328*x-.213742400323665),c[E++]=-20.810012546947+g*(-.000570115196973677*g-263409051004589e-19*b+.0020741088115012*v-.00288260236853442*x+.814272968359295)+b*(-153496057440975e-19*b-.000132689043961446*v+.000560833691242812*x-.195152027534049)+v*(.00174418132927582*v-.00255243321439347*x+.116935020465145)+x*(-.000343531996510555*x+.24165260232407);return c.subarray(0,E)},J:function(c){for(var v,g,b,x=0,E=c.length;x<E;x+=4)v=c[x],g=c[x+1],b=c[x+2],c[x]=434.456-v-1.402*b,c[x+1]=119.541-v+.344*g+.714*b,c[x+2]=481.816-v-1.772*g;return c},H:function(c){for(var v,g,b,x,E=0,S=1/255,A=0,F=c.length;A<F;A+=4)v=c[A]*S,g=c[A+1]*S,b=c[A+2]*S,x=c[A+3]*S,c[E++]=255+v*(-4.387332384609988*v+54.48615194189176*g+18.82290502165302*b+212.25662451639585*x-285.2331026137004)+g*(1.7149763477362134*g-5.6096736904047315*b-17.873870861415444*x-5.497006427196366)+b*(-2.5217340131683033*b-21.248923337353073*x+17.5119270841813)-x*(21.86122147463605*x+189.48180835922747),c[E++]=255+v*(8.841041422036149*v+60.118027045597366*g+6.871425592049007*b+31.159100130055922*x-79.2970844816548)+g*(-15.310361306967817*g+17.575251261109482*b+131.35250912493976*x-190.9453302588951)+b*(4.444339102852739*b+9.8632861493405*x-24.86741582555878)-x*(20.737325471181034*x+187.80453709719578),c[E++]=255+v*(.8842522430003296*v+8.078677503112928*g+30.89978309703729*b-.23883238689178934*x-14.183576799673286)+g*(10.49593273432072*g+63.02378494754052*b+50.606957656360734*x-112.23884253719248)+b*(.03296041114873217*b+115.60384449646641*x-193.58209356861505)-x*(22.33816807309886*x+180.12613974708367);return c.subarray(0,E)},getData:function(c,v,g){if(4<this.i)throw new t("Unsupported color mode");if(c=this.L(c,v),this.i===1&&g){g=c.length,v=new Uint8ClampedArray(3*g);for(var b=0,x=0;x<g;x++){var E=c[x];v[b++]=E,v[b++]=E,v[b++]=E}return v}if(this.i===3&&this.w())return this.I(c);if(this.i===4){if(this.w())return g?this.K(c):this.J(c);if(g)return this.H(c)}return c}},o.JpegDecoder=a})()})(),o.encodeImage=function(n,t,e,a){var l={t256:[t],t257:[e],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[e],t279:[t*e*4],t282:[1],t283:[1],t284:[1],t286:[0],t287:[0],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(a)for(var i in a)l[i]=a[i];for(var f=new Uint8Array(o.encode([l])),r=new Uint8Array(n),u=new Uint8Array(1e3+t*e*4),i=0;i<f.length;i++)u[i]=f[i];for(var i=0;i<r.length;i++)u[1e3+i]=r[i];return u.buffer},o.encode=function(n){var t=new Uint8Array(2e4),e=4,a=o._binBE;t[0]=77,t[1]=77,t[3]=42;var l=8;a.writeUint(t,e,l),e+=4;for(var i=0;i<n.length;i++){var f=o._writeIFD(a,t,l,n[i]);l=f[1],i<n.length-1&&a.writeUint(t,f[0],l)}return t.slice(0,l).buffer},o.decode=function(n){o.decode._decodeG3.allow2D=null;var t=new Uint8Array(n),e=0,a=o._binBE.readASCII(t,e,2);e+=2;var l=a=="II"?o._binLE:o._binBE;l.readUshort(t,e),e+=2;var i=l.readUint(t,e);e+=4;for(var f=[];;){var r=o._readIFD(l,t,i,f);if(i=l.readUint(t,r),i==0)break}return f},o.decodeImages=function(n,t){for(var e=new Uint8Array(n),a=o._binBE.readASCII(e,0,2),l=0;l<t.length;l++){var i=t[l];if(i.t256!=null){i.isLE=a=="II",i.width=i.t256[0],i.height=i.t257[0];var f=i.t259?i.t259[0]:1,r=i.t266?i.t266[0]:1;i.t284&&i.t284[0]==2&&d("PlanarConfiguration 2 should not be used!");var u=(i.t258?Math.min(32,i.t258[0]):1)*(i.t277?i.t277[0]:1),c=Math.ceil(i.width*u/8)*8,v=i.t273;v==null&&(v=i.t324);var g=i.t279;f==1&&v.length==1&&(g=[i.height*(c>>>3)]),g==null&&(g=i.t325);var b=new Uint8Array(i.height*(c>>>3)),x=0;if(i.t322!=null){for(var E=i.t322[0],S=i.t323[0],A=Math.floor((i.width+E-1)/E),F=Math.floor((i.height+S-1)/S),M=new Uint8Array(Math.ceil(E*S*u/8)|0),z=0;z<F;z++)for(var U=0;U<A;U++){for(var I=z*A+U,O=0;O<M.length;O++)M[O]=0;o.decode._decompress(i,e,v[I],g[I],f,M,0,r),f==6?b=M:o._copyTile(M,Math.ceil(E*u/8)|0,S,b,Math.ceil(i.width*u/8)|0,i.height,Math.ceil(U*E*u/8)|0,z*S)}x=b.length*8}else{var B=i.t278?i.t278[0]:i.height;B=Math.min(B,i.height);for(var I=0;I<v.length;I++)o.decode._decompress(i,e,v[I],g[I],f,b,Math.ceil(x/8)|0,r),x+=c*B;x=Math.min(x,b.length*8)}i.data=new Uint8Array(b.buffer,0,Math.ceil(x/8)|0)}}},o.decode._decompress=function(n,t,e,a,l,i,f,r){if(l==1)for(var u=0;u<a;u++)i[f+u]=t[e+u];else if(l==3)o.decode._decodeG3(t,e,a,i,f,n.width,r);else if(l==4)o.decode._decodeG4(t,e,a,i,f,n.width,r);else if(l==5)o.decode._decodeLZW(t,e,i,f);else if(l==6)o.decode._decodeOldJPEG(n,t,e,a,i,f);else if(l==7)o.decode._decodeNewJPEG(n,t,e,a,i,f);else if(l==8)for(var c=new Uint8Array(t.buffer,e,a),v=s.inflate(c),g=0;g<v.length;g++)i[f+g]=v[g];else l==32773?o.decode._decodePackBits(t,e,a,i,f):l==32809?o.decode._decodeThunder(t,e,a,i,f):d("Unknown compression",l);if(n.t317&&n.t317[0]==2)for(var b=n.t277?n.t277[0]:1,x=n.t278?n.t278[0]:n.height,E=n.width*b,S=0;S<x;S++){var A=f+S*E;if(b==3)for(var u=3;u<E;u+=3)i[A+u]=i[A+u]+i[A+u-3]&255,i[A+u+1]=i[A+u+1]+i[A+u-2]&255,i[A+u+2]=i[A+u+2]+i[A+u-1]&255;else for(var u=b;u<E;u++)i[A+u]=i[A+u]+i[A+u-b]&255}},o.decode._decodeNikon=function(n,t,r,a,l){var i,f,r;d(n.slice(t,t+100)),i=n[t],t++,f=n[t],t++,d(i.toString(16),f.toString(16),r)},o.decode._decodeNewJPEG=function(n,t,e,a,l,i){var f=n.t347,r=f?f.length:0,u=new Uint8Array(r+a);if(f){for(var c=216,v=217,g=0,b=0;b<r-1&&!(f[b]==255&&f[b+1]==v);b++)u[g++]=f[b];var x=t[e],E=t[e+1];(x!=255||E!=c)&&(u[g++]=x,u[g++]=E);for(var b=2;b<a;b++)u[g++]=t[e+b]}else for(var b=0;b<a;b++)u[b]=t[e+b];if(n.t262==32803){var S=n.t258[0],A=new LosslessJpegDecoder,F=A.decode(u),M=F.length;if(S==16)for(var b=0;b<M;b++)l[i++]=F[b]&255,l[i++]=F[b]>>>8;else if(S==12)for(var b=0;b<M;b+=2)l[i++]=F[b]>>>4,l[i++]=(F[b]<<4|F[b+1]>>>8)&255,l[i++]=F[b+1]&255;else throw new Error("unsupported bit depth "+S)}else{var z=new o.JpegDecoder;z.parse(u);for(var U=z.getData(z.width,z.height),b=0;b<U.length;b++)l[i+b]=U[b]}n.t262[0]==6&&(n.t262[0]=2)},o.decode._decodeOldJPEGInit=function(n,t,e,a){var l=216,i=219,f=196,r=221,u=192,c=218,v=0,g=0,b,x,E=!1,S,A,F,M=n.t513,z=M?M[0]:0,U=n.t514,I=U?U[0]:0,O=n.t324||n.t273||M,B=n.t530,Y=0,q=0,ie=n.t277?n.t277[0]:1,ee=n.t515;if(O&&(g=O[0],E=O.length>1),!E){if(t[e]==255&&t[e+1]==l)return{jpegOffset:e};if(M!=null&&(t[e+z]==255&&t[e+z+1]==l?v=e+z:d("JPEGInterchangeFormat does not point to SOI"),U==null?d("JPEGInterchangeFormatLength field is missing"):(z>=g||z+I<=g)&&d("JPEGInterchangeFormatLength field value is invalid"),v!=null))return{jpegOffset:v}}if(B!=null&&(Y=B[0],q=B[1]),M!=null&&U!=null)if(I>=2&&z+I<=g){for(t[e+z+I-2]==255&&t[e+z+I-1]==l?b=new Uint8Array(I-2):b=new Uint8Array(I),S=0;S<b.length;S++)b[S]=t[e+z+S];d("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else d("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(b==null){var G=0,V=[];V[G++]=255,V[G++]=l;var W=n.t519;if(W==null)throw new Error("JPEGQTables tag is missing");for(S=0;S<W.length;S++)for(V[G++]=255,V[G++]=i,V[G++]=0,V[G++]=67,V[G++]=S,A=0;A<64;A++)V[G++]=t[e+W[S]+A];for(F=0;F<2;F++){var Q=n[F==0?"t520":"t521"];if(Q==null)throw new Error((F==0?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(S=0;S<Q.length;S++){V[G++]=255,V[G++]=f;var oe=19;for(A=0;A<16;A++)oe+=t[e+Q[S]+A];for(V[G++]=oe>>>8,V[G++]=oe&255,V[G++]=S|F<<4,A=0;A<16;A++)V[G++]=t[e+Q[S]+A];for(A=0;A<oe;A++)V[G++]=t[e+Q[S]+16+A]}}if(V[G++]=255,V[G++]=u,V[G++]=0,V[G++]=8+3*ie,V[G++]=8,V[G++]=n.height>>>8&255,V[G++]=n.height&255,V[G++]=n.width>>>8&255,V[G++]=n.width&255,V[G++]=ie,ie==1)V[G++]=1,V[G++]=17,V[G++]=0;else for(S=0;S<3;S++)V[G++]=S+1,V[G++]=S!=0?17:(Y&15)<<4|q&15,V[G++]=S;ee!=null&&ee[0]!=0&&(V[G++]=255,V[G++]=r,V[G++]=0,V[G++]=4,V[G++]=ee[0]>>>8&255,V[G++]=ee[0]&255),b=new Uint8Array(V)}var ve=-1;for(S=0;S<b.length-1;){if(b[S]==255&&b[S+1]==u){ve=S;break}S++}if(ve==-1){var fe=new Uint8Array(b.length+10+3*ie);fe.set(b);var de=b.length;if(ve=b.length,b=fe,b[de++]=255,b[de++]=u,b[de++]=0,b[de++]=8+3*ie,b[de++]=8,b[de++]=n.height>>>8&255,b[de++]=n.height&255,b[de++]=n.width>>>8&255,b[de++]=n.width&255,b[de++]=ie,ie==1)b[de++]=1,b[de++]=17,b[de++]=0;else for(S=0;S<3;S++)b[de++]=S+1,b[de++]=S!=0?17:(Y&15)<<4|q&15,b[de++]=S}if(t[g]==255&&t[g+1]==c){var be=t[g+2]<<8|t[g+3];for(x=new Uint8Array(be+2),x[0]=t[g],x[1]=t[g+1],x[2]=t[g+2],x[3]=t[g+3],S=0;S<be-2;S++)x[S+4]=t[g+S+4]}else{x=new Uint8Array(2+6+2*ie);var le=0;if(x[le++]=255,x[le++]=c,x[le++]=0,x[le++]=6+2*ie,x[le++]=ie,ie==1)x[le++]=1,x[le++]=0;else for(S=0;S<3;S++)x[le++]=S+1,x[le++]=S<<4|S;x[le++]=0,x[le++]=63,x[le++]=0}return{jpegOffset:e,tables:b,sosMarker:x,sofPosition:ve}},o.decode._decodeOldJPEG=function(n,t,e,a,l,i){var f,r,u,c,v=o.decode._decodeOldJPEGInit(n,t,e,a);if(v.jpegOffset!=null)for(r=e+a-v.jpegOffset,c=new Uint8Array(r),f=0;f<r;f++)c[f]=t[v.jpegOffset+f];else{for(u=v.tables.length,c=new Uint8Array(u+v.sosMarker.length+a+2),c.set(v.tables),c[v.sofPosition+5]=n.height>>>8&255,c[v.sofPosition+6]=n.height&255,c[v.sofPosition+7]=n.width>>>8&255,c[v.sofPosition+8]=n.width&255,(t[e]!=255||t[e+1]!=SOS)&&(c.set(v.sosMarker,bufoff),bufoff+=sosMarker.length),f=0;f<a;f++)c[bufoff++]=t[e+f];c[bufoff++]=255,c[bufoff++]=EOI}var g=new o.JpegDecoder;g.parse(c);for(var b=g.getData(g.width,g.height),f=0;f<b.length;f++)l[i+f]=b[f];n.t262[0]==6&&(n.t262[0]=2)},o.decode._decodePackBits=function(n,t,e,a,l){for(var i=new Int8Array(n.buffer),f=new Int8Array(a.buffer),r=t+e;t<r;){var u=i[t];if(t++,u>=0&&u<128)for(var c=0;c<u+1;c++)f[l]=i[t],l++,t++;if(u>=-127&&u<0){for(var c=0;c<-u+1;c++)f[l]=i[t],l++;t++}}},o.decode._decodeThunder=function(n,t,e,a,l){for(var i=[0,1,0,-1],f=[0,1,2,3,0,-3,-2,-1],r=t+e,u=l*2,c=0;t<r;){var v=n[t],g=v>>>6,b=v&63;if(t++,g==3&&(c=b&15,a[u>>>1]|=c<<4*(1-u&1),u++),g==0)for(var x=0;x<b;x++)a[u>>>1]|=c<<4*(1-u&1),u++;if(g==2)for(var x=0;x<2;x++){var E=b>>>3*(1-x)&7;E!=4&&(c+=f[E],a[u>>>1]|=c<<4*(1-u&1),u++)}if(g==1)for(var x=0;x<3;x++){var E=b>>>2*(2-x)&3;E!=2&&(c+=i[E],a[u>>>1]|=c<<4*(1-u&1),u++)}}},o.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},o.decode._lens=function(){var n=function(u,c,v,g){for(var b=0;b<c.length;b++)u[c[b]]=v+b*g},t="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",e="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",a="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",l="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",i="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";t=t.split(","),e=e.split(","),a=a.split(","),l=l.split(","),i=i.split(",");var f={},r={};return n(f,t,0,1),n(f,a,64,64),n(f,i,1792,64),n(r,e,0,1),n(r,l,64,64),n(r,i,1792,64),[f,r]}(),o.decode._decodeG4=function(n,t,e,a,l,i,f){for(var r=o.decode,u=t<<3,c=0,v="",g=[],b=[],x=0;x<i;x++)b.push(0);b=r._makeDiff(b);for(var E=0,S=0,A=0,F=0,M=0,z=0,U="",I=0,O=Math.ceil(i/8)*8;u>>>3<t+e;){A=r._findDiff(b,E+(E==0?0:1),1-M),F=r._findDiff(b,A,M);var B=0;if(f==1&&(B=n[u>>>3]>>>7-(u&7)&1),f==2&&(B=n[u>>>3]>>>(u&7)&1),u++,v+=B,U=="H"){if(r._lens[M][v]!=null){var Y=r._lens[M][v];v="",c+=Y,Y<64&&(r._addNtimes(g,c,M),E+=c,M=1-M,c=0,I--,I==0&&(U=""))}}else v=="0001"&&(v="",r._addNtimes(g,F-E,M),E=F),v=="001"&&(v="",U="H",I=2),r._dmap[v]!=null&&(S=A+r._dmap[v],r._addNtimes(g,S-E,M),E=S,v="",M=1-M);g.length==i&&U==""&&(r._writeBits(g,a,l*8+z*O),M=0,z++,E=0,b=r._makeDiff(g),g=[])}},o.decode._findDiff=function(n,t,e){for(var a=0;a<n.length;a+=2)if(n[a]>=t&&n[a+1]==e)return n[a]},o.decode._makeDiff=function(n){var t=[];n[0]==1&&t.push(0,1);for(var e=1;e<n.length;e++)n[e-1]!=n[e]&&t.push(e,n[e]);return t.push(n.length,0,n.length,1),t},o.decode._decodeG3=function(n,t,e,a,l,i,f){for(var r=o.decode,u=t<<3,c=0,v="",g=[],b=[],x=0;x<i;x++)g.push(0);for(var E=0,S=0,A=0,F=0,M=0,z=-1,U="",I=0,O=!1,B=Math.ceil(i/8)*8;u>>>3<t+e;){A=r._findDiff(b,E+(E==0?0:1),1-M),F=r._findDiff(b,A,M);var Y=0;if(f==1&&(Y=n[u>>>3]>>>7-(u&7)&1),f==2&&(Y=n[u>>>3]>>>(u&7)&1),u++,v+=Y,O){if(r._lens[M][v]!=null){var q=r._lens[M][v];v="",c+=q,q<64&&(r._addNtimes(g,c,M),M=1-M,c=0)}}else if(U=="H"){if(r._lens[M][v]!=null){var q=r._lens[M][v];v="",c+=q,q<64&&(r._addNtimes(g,c,M),E+=c,M=1-M,c=0,I--,I==0&&(U=""))}}else v=="0001"&&(v="",r._addNtimes(g,F-E,M),E=F),v=="001"&&(v="",U="H",I=2),r._dmap[v]!=null&&(S=A+r._dmap[v],r._addNtimes(g,S-E,M),E=S,v="",M=1-M);v.endsWith("000000000001")&&(z>=0&&r._writeBits(g,a,l*8+z*B),f==1&&(O=(n[u>>>3]>>>7-(u&7)&1)==1),f==2&&(O=(n[u>>>3]>>>(u&7)&1)==1),u++,r._decodeG3.allow2D==null&&(r._decodeG3.allow2D=O),r._decodeG3.allow2D||(O=!0,u--),v="",M=0,z++,E=0,b=r._makeDiff(g),g=[])}g.length==i&&r._writeBits(g,a,l*8+z*B)},o.decode._addNtimes=function(n,t,e){for(var a=0;a<t;a++)n.push(e)},o.decode._writeBits=function(n,t,e){for(var a=0;a<n.length;a++)t[e+a>>>3]|=n[a]<<7-(e+a&7)},o.decode._decodeLZW=function(n,t,e,a){if(o.decode._lzwTab==null){for(var l=new Uint32Array(65535),i=new Uint16Array(65535),v=new Uint8Array(2e6),f=0;f<256;f++)v[f<<2]=f,l[f]=f<<2,i[f]=1;o.decode._lzwTab=[l,i,v]}for(var r=o.decode._copyData,u=o.decode._lzwTab[0],c=o.decode._lzwTab[1],v=o.decode._lzwTab[2],g=258,b=258<<2,x=9,E=t<<3,S=256,A=257,F=0,M=0,z=0;F=n[E>>>3]<<16|n[E+8>>>3]<<8|n[E+16>>>3],M=F>>24-(E&7)-x&(1<<x)-1,E+=x,M!=A;){if(M==S){if(x=9,g=258,b=258<<2,F=n[E>>>3]<<16|n[E+8>>>3]<<8|n[E+16>>>3],M=F>>24-(E&7)-x&(1<<x)-1,E+=x,M==A)break;e[a]=M,a++}else if(M<g){var U=u[M],I=c[M];if(r(v,U,e,a,I),a+=I,z>=g)u[g]=b,v[u[g]]=U[0],c[g]=1,b=b+1+3&-4,g++;else{u[g]=b;var O=u[z],B=c[z];r(v,O,v,b,B),v[b+B]=v[U],B++,c[g]=B,g++,b=b+B+3&-4}g+1==1<<x&&x++}else{if(z>=g)u[g]=b,c[g]=0,g++;else{u[g]=b;var O=u[z],B=c[z];r(v,O,v,b,B),v[b+B]=v[b],B++,c[g]=B,g++,r(v,b,e,a,B),a+=B,b=b+B+3&-4}g+1==1<<x&&x++}z=M}},o.decode._copyData=function(n,t,e,a,l){for(var i=0;i<l;i+=4)e[a+i]=n[t+i],e[a+i+1]=n[t+i+1],e[a+i+2]=n[t+i+2],e[a+i+3]=n[t+i+3]},o.tags={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffset",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",296:"ResolutionUnit",297:"PageNumber",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffset",325:"TileByteCounts",330:"SubIFDs",336:"DotRange",338:"ExtraSample",339:"SampleFormat",347:"JPEGTables",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",700:"XMP",33421:"CFARepeatPatternDim",33422:"CFAPattern",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33723:"IPTC/NAA",34377:"Photoshop",34665:"ExifIFD",34675:"ICC Profile",34850:"ExposureProgram",34853:"GPSInfo",34855:"ISOSpeedRatings",34858:"TimeZoneOffset",34859:"SelfTimeMode",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37377:"ShutterSpeedValue",37378:"ApertureValue",37380:"ExposureBiasValue",37383:"MeteringMode",37385:"Flash",37386:"FocalLength",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37398:"TIFF/EPStandardID",37399:"SensingMethod",37500:"MakerNote",37510:"UserComment",37724:"ImageSourceData",40092:"XPComment",40094:"XPKeywords",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelXDimension",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50733:"BayerGreenSplit",50738:"AntiAliasStrength",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50727:"AnalogBalance",50728:"AsShotNeutral",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50827:"OriginalRawFileName",50829:"ActiveArea",50830:"MaskedAreas",50931:"CameraCalibrationSignature",50932:"ProfileCalibrationSignature",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualityFinalSize",51091:"OriginalDefaultCropSize",51125:"DefaultUserCrop"},o.ttypes={256:3,257:3,258:3,259:3,262:3,273:4,274:3,277:3,278:4,279:4,282:5,283:5,284:3,286:5,287:5,296:3,305:2,306:2,338:3,513:4,514:4,34665:4},o._readIFD=function(n,t,e,a){var l=n.readUshort(t,e);e+=2;var i={};a.push(i);for(var f=0;f<l;f++){var r=n.readUshort(t,e);e+=2;var u=n.readUshort(t,e);e+=2;var c=n.readUint(t,e);e+=4;var v=n.readUint(t,e);e+=4;var g=[];if(i["t"+r]=g,u==1||u==7)for(var b=0;b<c;b++)g.push(t[(c<5?e-4:v)+b]);if(u==2&&g.push(n.readASCII(t,c<5?e-4:v,c-1)),u==3)for(var b=0;b<c;b++)g.push(n.readUshort(t,(c<3?e-4:v)+2*b));if(u==4)for(var b=0;b<c;b++)g.push(n.readUint(t,(c<2?e-4:v)+4*b));if(u==5)for(var b=0;b<c;b++)g.push(n.readUint(t,v+b*8)/n.readUint(t,v+b*8+4));if(u==8)for(var b=0;b<c;b++)g.push(n.readShort(t,(c<3?e-4:v)+2*b));if(u==9)for(var b=0;b<c;b++)g.push(n.readInt(t,(c<2?e-4:v)+4*b));if(u==10)for(var b=0;b<c;b++)g.push(n.readInt(t,v+b*8)/n.readInt(t,v+b*8+4));if(u==11)for(var b=0;b<c;b++)g.push(n.readFloat(t,v+b*4));if(u==12)for(var b=0;b<c;b++)g.push(n.readDouble(t,v+b*8));if(c!=0&&g.length==0&&d("unknown TIFF tag type: ",u,"num:",c),r==330)for(var b=0;b<c;b++)o._readIFD(n,t,g[b],a)}return e},o._writeIFD=function(n,t,e,a){var l=Object.keys(a);n.writeUshort(t,e,l.length),e+=2;for(var i=e+l.length*12+4,f=0;f<l.length;f++){var r=l[f],u=parseInt(r.slice(1)),c=o.ttypes[u];if(c==null)throw new Error("unknown type of tag: "+u);var v=a[r];c==2&&(v=v[0]+"\0");var g=v.length;n.writeUshort(t,e,u),e+=2,n.writeUshort(t,e,c),e+=2,n.writeUint(t,e,g),e+=4;var b=[-1,1,1,2,4,8,0,0,0,0,0,0,8][c]*g,x=e;if(b>4&&(n.writeUint(t,e,i),x=i),c==2&&n.writeASCII(t,x,v),c==3)for(var E=0;E<g;E++)n.writeUshort(t,x+2*E,v[E]);if(c==4)for(var E=0;E<g;E++)n.writeUint(t,x+4*E,v[E]);if(c==5)for(var E=0;E<g;E++)n.writeUint(t,x+8*E,Math.round(v[E]*1e4)),n.writeUint(t,x+8*E+4,1e4);if(c==12)for(var E=0;E<g;E++)n.writeDouble(t,x+8*E,v[E]);b>4&&(b+=b&1,i+=b),e+=4}return[e,i]},o.toRGBA8=function(n){var t=n.width,e=n.height,a=t*e,l=a*4,i=n.data,f=new Uint8Array(a*4),r=n.t262[0],u=n.t258?Math.min(32,n.t258[0]):1,c=n.isLE?1:0;if(r==0)for(var v=Math.ceil(u*t/8),g=0;g<e;g++){var b=g*v,x=g*t;if(u==1)for(var E=0;E<t;E++){var S=x+E<<2,A=i[b+(E>>3)]>>7-(E&7)&1;f[S]=f[S+1]=f[S+2]=(1-A)*255,f[S+3]=255}if(u==4)for(var E=0;E<t;E++){var S=x+E<<2,A=i[b+(E>>1)]>>4-4*(E&1)&15;f[S]=f[S+1]=f[S+2]=(15-A)*17,f[S+3]=255}if(u==8)for(var E=0;E<t;E++){var S=x+E<<2,A=i[b+E];f[S]=f[S+1]=f[S+2]=255-A,f[S+3]=255}}else if(r==1)for(var v=Math.ceil(u*t/8),g=0;g<e;g++){var b=g*v,x=g*t;if(u==1)for(var E=0;E<t;E++){var S=x+E<<2,A=i[b+(E>>3)]>>7-(E&7)&1;f[S]=f[S+1]=f[S+2]=A*255,f[S+3]=255}if(u==2)for(var E=0;E<t;E++){var S=x+E<<2,A=i[b+(E>>2)]>>6-2*(E&3)&3;f[S]=f[S+1]=f[S+2]=A*85,f[S+3]=255}if(u==8)for(var E=0;E<t;E++){var S=x+E<<2,A=i[b+E];f[S]=f[S+1]=f[S+2]=A,f[S+3]=255}if(u==16)for(var E=0;E<t;E++){var S=x+E<<2,A=i[b+(2*E+c)];f[S]=f[S+1]=f[S+2]=Math.min(255,A),f[S+3]=255}}else if(r==2)if(u==8)if(n.t338)if(n.t338[0]>0)for(var E=0;E<l;E++)f[E]=i[E];else for(var E=0;E<l;E+=4)f[E]=i[E],f[E+1]=i[E+1],f[E+2]=i[E+2],f[E+3]=255;else{var F=n.t258?n.t258.length:3;if(F==4)for(var E=0;E<l;E++)f[E]=i[E];if(F==3)for(var E=0;E<a;E++){var S=E<<2,M=E*3;f[S]=i[M],f[S+1]=i[M+1],f[S+2]=i[M+2],f[S+3]=255}}else for(var E=0;E<a;E++){var S=E<<2,M=E*6;f[S]=i[M],f[S+1]=i[M+2],f[S+2]=i[M+4],f[S+3]=255}else if(r==3)for(var z=n.t320,E=0;E<a;E++){var S=E<<2,U=i[E];f[S]=z[U]>>8,f[S+1]=z[256+U]>>8,f[S+2]=z[512+U]>>8,f[S+3]=255}else if(r==5)for(var F=n.t258?n.t258.length:4,I=F>4?1:0,E=0;E<a;E++){var S=E<<2,O=E*F,B=255-i[O],Y=255-i[O+1],q=255-i[O+2],ie=(255-i[O+3])*(1/255);f[S]=~~(B*ie+.5),f[S+1]=~~(Y*ie+.5),f[S+2]=~~(q*ie+.5),f[S+3]=255*(1-I)+i[O+4]*I}else d("Unknown Photometric interpretation: "+r);return f},o.replaceIMG=function(){for(var n=document.getElementsByTagName("img"),t=0;t<n.length;t++){var e=n[t],a=e.getAttribute("src");if(a!=null){var l=a.split(".").pop().toLowerCase();if(!(l!="tif"&&l!="tiff")){var i=new XMLHttpRequest;o._xhrs.push(i),o._imgs.push(e),i.open("GET",a),i.responseType="arraybuffer",i.onload=o._imgLoaded,i.send()}}}},o._xhrs=[],o._imgs=[],o._imgLoaded=function(n){var t=n.target.response,e=o.decode(t),a=e[0];o.decodeImages(t,e);var l=o.toRGBA8(a),i=a.width,f=a.height,r=o._xhrs.indexOf(n.target),u=o._imgs[r];o._xhrs.splice(r,1),o._imgs.splice(r,1);var c=document.createElement("canvas");c.width=i,c.height=f;for(var v=c.getContext("2d"),g=v.createImageData(i,f),b=0;b<l.length;b++)g.data[b]=l[b];v.putImageData(g,0,0);for(var x=["style","class","id"],b=0;b<x.length;b++)c.setAttribute(x[b],u.getAttribute(x[b]));u.parentNode.replaceChild(c,u)},o._binBE={nextZero:function(n,t){for(;n[t]!=0;)t++;return t},readUshort:function(n,t){return n[t]<<8|n[t+1]},readShort:function(n,t){var e=o._binBE.ui8;return e[0]=n[t+1],e[1]=n[t+0],o._binBE.i16[0]},readInt:function(n,t){var e=o._binBE.ui8;return e[0]=n[t+3],e[1]=n[t+2],e[2]=n[t+1],e[3]=n[t+0],o._binBE.i32[0]},readUint:function(n,t){var e=o._binBE.ui8;return e[0]=n[t+3],e[1]=n[t+2],e[2]=n[t+1],e[3]=n[t+0],o._binBE.ui32[0]},readASCII:function(n,t,e){for(var a="",l=0;l<e;l++)a+=String.fromCharCode(n[t+l]);return a},readFloat:function(n,t){for(var e=o._binBE.ui8,a=0;a<4;a++)e[a]=n[t+3-a];return o._binBE.fl32[0]},readDouble:function(n,t){for(var e=o._binBE.ui8,a=0;a<8;a++)e[a]=n[t+7-a];return o._binBE.fl64[0]},writeUshort:function(n,t,e){n[t]=e>>8&255,n[t+1]=e&255},writeUint:function(n,t,e){n[t]=e>>24&255,n[t+1]=e>>16&255,n[t+2]=e>>8&255,n[t+3]=e>>0&255},writeASCII:function(n,t,e){for(var a=0;a<e.length;a++)n[t+a]=e.charCodeAt(a)},writeDouble:function(n,t,e){o._binBE.fl64[0]=e;for(var a=0;a<8;a++)n[t+a]=o._binBE.ui8[7-a]}},o._binBE.ui8=new Uint8Array(8),o._binBE.i16=new Int16Array(o._binBE.ui8.buffer),o._binBE.i32=new Int32Array(o._binBE.ui8.buffer),o._binBE.ui32=new Uint32Array(o._binBE.ui8.buffer),o._binBE.fl32=new Float32Array(o._binBE.ui8.buffer),o._binBE.fl64=new Float64Array(o._binBE.ui8.buffer),o._binLE={nextZero:o._binBE.nextZero,readUshort:function(n,t){return n[t+1]<<8|n[t]},readShort:function(n,t){var e=o._binBE.ui8;return e[0]=n[t+0],e[1]=n[t+1],o._binBE.i16[0]},readInt:function(n,t){var e=o._binBE.ui8;return e[0]=n[t+0],e[1]=n[t+1],e[2]=n[t+2],e[3]=n[t+3],o._binBE.i32[0]},readUint:function(n,t){var e=o._binBE.ui8;return e[0]=n[t+0],e[1]=n[t+1],e[2]=n[t+2],e[3]=n[t+3],o._binBE.ui32[0]},readASCII:o._binBE.readASCII,readFloat:function(n,t){for(var e=o._binBE.ui8,a=0;a<4;a++)e[a]=n[t+a];return o._binBE.fl32[0]},readDouble:function(n,t){for(var e=o._binBE.ui8,a=0;a<8;a++)e[a]=n[t+a];return o._binBE.fl64[0]}},o._copyTile=function(n,t,e,a,l,i,f,r){for(var u=Math.min(t,l-f),c=Math.min(e,i-r),v=0;v<c;v++)for(var g=(r+v)*l+f,b=v*t,x=0;x<u;x++)a[g+x]=n[b+x]}})(h,m)})()}).call(this,y("_process"))},{_process:133,pako:86}],183:[function(y,D,_){(function(w){D.exports=h;function h(d,o){if(m("noDeprecation"))return d;var s=!1;function n(){if(!s){if(m("throwDeprecation"))throw new Error(o);m("traceDeprecation")?console.trace(o):console.warn(o),s=!0}return d.apply(this,arguments)}return n}function m(d){try{if(!w.localStorage)return!1}catch{return!1}var o=w.localStorage[d];return o==null?!1:String(o).toLowerCase()==="true"}}).call(this,typeof je<"u"?je:typeof self<"u"?self:typeof re<"u"?re:{})},{}],184:[function(y,D,_){arguments[4][26][0].apply(_,arguments)},{dup:26}],185:[function(y,D,_){arguments[4][27][0].apply(_,arguments)},{dup:27}],186:[function(y,D,_){arguments[4][28][0].apply(_,arguments)},{"./support/isBuffer":185,_process:133,dup:28,inherits:184}],187:[function(y,D,_){var w=y("global/window"),h=y("is-function"),m=y("parse-headers"),d=y("xtend");D.exports=t,D.exports.default=t,t.XMLHttpRequest=w.XMLHttpRequest||l,t.XDomainRequest="withCredentials"in new t.XMLHttpRequest?t.XMLHttpRequest:w.XDomainRequest,o(["get","put","post","patch","head","delete"],function(i){t[i==="delete"?"del":i]=function(f,r,u){return r=n(f,r,u),r.method=i.toUpperCase(),e(r)}});function o(i,f){for(var r=0;r<i.length;r++)f(i[r])}function s(i){for(var f in i)if(i.hasOwnProperty(f))return!1;return!0}function n(i,f,r){var u=i;return h(f)?(r=f,typeof i=="string"&&(u={uri:i})):u=d(f,{uri:i}),u.callback=r,u}function t(i,f,r){return f=n(i,f,r),e(f)}function e(i){if(typeof i.callback>"u")throw new Error("callback argument missing");var f=!1,r=function(Y,q,ie){f||(f=!0,i.callback(Y,q,ie))};function u(){b.readyState===4&&setTimeout(g,0)}function c(){var B=void 0;if(b.response?B=b.response:B=b.responseText||a(b),U)try{B=JSON.parse(B)}catch{}return B}function v(B){return clearTimeout(I),B instanceof Error||(B=new Error(""+(B||"Unknown XMLHttpRequest Error"))),B.statusCode=0,r(B,O)}function g(){if(!E){var B;clearTimeout(I),i.useXDR&&b.status===void 0?B=200:B=b.status===1223?204:b.status;var Y=O,q=null;return B!==0?(Y={body:c(),statusCode:B,method:A,headers:{},url:S,rawRequest:b},b.getAllResponseHeaders&&(Y.headers=m(b.getAllResponseHeaders()))):q=new Error("Internal XMLHttpRequest Error"),r(q,Y,Y.body)}}var b=i.xhr||null;b||(i.cors||i.useXDR?b=new t.XDomainRequest:b=new t.XMLHttpRequest);var x,E,S=b.url=i.uri||i.url,A=b.method=i.method||"GET",F=i.body||i.data,M=b.headers=i.headers||{},z=!!i.sync,U=!1,I,O={body:void 0,headers:{},statusCode:0,method:A,url:S,rawRequest:b};if("json"in i&&i.json!==!1&&(U=!0,M.accept||M.Accept||(M.Accept="application/json"),A!=="GET"&&A!=="HEAD"&&(M["content-type"]||M["Content-Type"]||(M["Content-Type"]="application/json"),F=JSON.stringify(i.json===!0?F:i.json))),b.onreadystatechange=u,b.onload=g,b.onerror=v,b.onprogress=function(){},b.onabort=function(){E=!0},b.ontimeout=v,b.open(A,S,!z,i.username,i.password),z||(b.withCredentials=!!i.withCredentials),!z&&i.timeout>0&&(I=setTimeout(function(){if(!E){E=!0,b.abort("timeout");var B=new Error("XMLHttpRequest timeout");B.code="ETIMEDOUT",v(B)}},i.timeout)),b.setRequestHeader)for(x in M)M.hasOwnProperty(x)&&b.setRequestHeader(x,M[x]);else if(i.headers&&!s(i.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in i&&(b.responseType=i.responseType),"beforeSend"in i&&typeof i.beforeSend=="function"&&i.beforeSend(b),b.send(F||null),b}function a(i){try{if(i.responseType==="document")return i.responseXML;var f=i.responseXML&&i.responseXML.documentElement.nodeName==="parsererror";if(i.responseType===""&&!f)return i.responseXML}catch{}return null}function l(){}},{"global/window":71,"is-function":78,"parse-headers":106,xtend:189}],188:[function(y,D,_){D.exports=function(){return typeof self.DOMParser<"u"?function(h){var m=new self.DOMParser;return m.parseFromString(h,"application/xml")}:typeof self.ActiveXObject<"u"&&new self.ActiveXObject("Microsoft.XMLDOM")?function(h){var m=new self.ActiveXObject("Microsoft.XMLDOM");return m.async="false",m.loadXML(h),m}:function(h){var m=document.createElement("div");return m.innerHTML=h,m}}()},{}],189:[function(y,D,_){D.exports=h;var w=Object.prototype.hasOwnProperty;function h(){for(var m={},d=0;d<arguments.length;d++){var o=arguments[d];for(var s in o)w.call(o,s)&&(m[s]=o[s])}return m}},{}],190:[function(y,D,_){Object.defineProperty(_,"__esModule",{value:!0}),_.srcOver=w,_.dstOver=h,_.multiply=m,_.add=d,_.screen=o,_.overlay=s,_.darken=n,_.lighten=t,_.hardLight=e,_.difference=a,_.exclusion=l;function w(i,f){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;i.a*=r;var u=f.a+i.a-f.a*i.a,c=(i.r*i.a+f.r*f.a*(1-i.a))/u,v=(i.g*i.a+f.g*f.a*(1-i.a))/u,g=(i.b*i.a+f.b*f.a*(1-i.a))/u;return{r:c,g:v,b:g,a:u}}function h(i,f){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;i.a*=r;var u=f.a+i.a-f.a*i.a,c=(f.r*f.a+i.r*i.a*(1-f.a))/u,v=(f.g*f.a+i.g*i.a*(1-f.a))/u,g=(f.b*f.a+i.b*i.a*(1-f.a))/u;return{r:c,g:v,b:g,a:u}}function m(i,f){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;i.a*=r;var u=f.a+i.a-f.a*i.a,c=i.r*i.a,v=i.g*i.a,g=i.b*i.a,b=f.r*f.a,x=f.g*f.a,E=f.b*f.a,S=(c*b+c*(1-f.a)+b*(1-i.a))/u,A=(v*x+v*(1-f.a)+x*(1-i.a))/u,F=(g*E+g*(1-f.a)+E*(1-i.a))/u;return{r:S,g:A,b:F,a:u}}function d(i,f){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;i.a*=r;var u=f.a+i.a-f.a*i.a,c=i.r*i.a,v=i.g*i.a,g=i.b*i.a,b=f.r*f.a,x=f.g*f.a,E=f.b*f.a,S=(c+b)/u,A=(v+x)/u,F=(g+E)/u;return{r:S,g:A,b:F,a:u}}function o(i,f){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;i.a*=r;var u=f.a+i.a-f.a*i.a,c=i.r*i.a,v=i.g*i.a,g=i.b*i.a,b=f.r*f.a,x=f.g*f.a,E=f.b*f.a,S=(c*f.a+b*i.a-c*b+c*(1-f.a)+b*(1-i.a))/u,A=(v*f.a+x*i.a-v*x+v*(1-f.a)+x*(1-i.a))/u,F=(g*f.a+E*i.a-g*E+g*(1-f.a)+E*(1-i.a))/u;return{r:S,g:A,b:F,a:u}}function s(i,f){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;i.a*=r;var u=f.a+i.a-f.a*i.a,c=i.r*i.a,v=i.g*i.a,g=i.b*i.a,b=f.r*f.a,x=f.g*f.a,E=f.b*f.a,S=(2*b<=f.a?2*c*b+c*(1-f.a)+b*(1-i.a):c*(1+f.a)+b*(1+i.a)-2*b*c-f.a*i.a)/u,A=(2*x<=f.a?2*v*x+v*(1-f.a)+x*(1-i.a):v*(1+f.a)+x*(1+i.a)-2*x*v-f.a*i.a)/u,F=(2*E<=f.a?2*g*E+g*(1-f.a)+E*(1-i.a):g*(1+f.a)+E*(1+i.a)-2*E*g-f.a*i.a)/u;return{r:S,g:A,b:F,a:u}}function n(i,f){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;i.a*=r;var u=f.a+i.a-f.a*i.a,c=i.r*i.a,v=i.g*i.a,g=i.b*i.a,b=f.r*f.a,x=f.g*f.a,E=f.b*f.a,S=(Math.min(c*f.a,b*i.a)+c*(1-f.a)+b*(1-i.a))/u,A=(Math.min(v*f.a,x*i.a)+v*(1-f.a)+x*(1-i.a))/u,F=(Math.min(g*f.a,E*i.a)+g*(1-f.a)+E*(1-i.a))/u;return{r:S,g:A,b:F,a:u}}function t(i,f){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;i.a*=r;var u=f.a+i.a-f.a*i.a,c=i.r*i.a,v=i.g*i.a,g=i.b*i.a,b=f.r*f.a,x=f.g*f.a,E=f.b*f.a,S=(Math.max(c*f.a,b*i.a)+c*(1-f.a)+b*(1-i.a))/u,A=(Math.max(v*f.a,x*i.a)+v*(1-f.a)+x*(1-i.a))/u,F=(Math.max(g*f.a,E*i.a)+g*(1-f.a)+E*(1-i.a))/u;return{r:S,g:A,b:F,a:u}}function e(i,f){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;i.a*=r;var u=f.a+i.a-f.a*i.a,c=i.r*i.a,v=i.g*i.a,g=i.b*i.a,b=f.r*f.a,x=f.g*f.a,E=f.b*f.a,S=(2*c<=i.a?2*c*b+c*(1-f.a)+b*(1-i.a):c*(1+f.a)+b*(1+i.a)-2*b*c-f.a*i.a)/u,A=(2*v<=i.a?2*v*x+v*(1-f.a)+x*(1-i.a):v*(1+f.a)+x*(1+i.a)-2*x*v-f.a*i.a)/u,F=(2*g<=i.a?2*g*E+g*(1-f.a)+E*(1-i.a):g*(1+f.a)+E*(1+i.a)-2*E*g-f.a*i.a)/u;return{r:S,g:A,b:F,a:u}}function a(i,f){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;i.a*=r;var u=f.a+i.a-f.a*i.a,c=i.r*i.a,v=i.g*i.a,g=i.b*i.a,b=f.r*f.a,x=f.g*f.a,E=f.b*f.a,S=(c+b-2*Math.min(c*f.a,b*i.a))/u,A=(v+x-2*Math.min(v*f.a,x*i.a))/u,F=(g+E-2*Math.min(g*f.a,E*i.a))/u;return{r:S,g:A,b:F,a:u}}function l(i,f){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;i.a*=r;var u=f.a+i.a-f.a*i.a,c=i.r*i.a,v=i.g*i.a,g=i.b*i.a,b=f.r*f.a,x=f.g*f.a,E=f.b*f.a,S=(c*f.a+b*i.a-2*c*b+c*(1-f.a)+b*(1-i.a))/u,A=(v*f.a+x*i.a-2*v*x+v*(1-f.a)+x*(1-i.a))/u,F=(g*f.a+E*i.a-2*g*E+g*(1-f.a)+E*(1-i.a))/u;return{r:S,g:A,b:F,a:u}}},{}],191:[function(y,D,_){var w=y("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(_,"__esModule",{value:!0}),_.default=o;var h=y("@jimp/utils"),m=w(y("../constants")),d=w(y("./composite-modes"));function o(s,n,t){var e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=arguments.length>4?arguments[4]:void 0;if(typeof e=="function"&&(a=e,e={}),!(s instanceof this.constructor))return h.throwError.call(this,"The source must be a Jimp image",a);if(typeof n!="number"||typeof t!="number")return h.throwError.call(this,"x and y must be numbers",a);var l=e,i=l.mode,f=l.opacitySource,r=l.opacityDest;i||(i=m.BLEND_SOURCE_OVER),(typeof f!="number"||f<0||f>1)&&(f=1),(typeof r!="number"||r<0||r>1)&&(r=1);var u=d[i];n=Math.round(n),t=Math.round(t);var c=this;return r!==1&&c.opacity(r),s.scanQuiet(0,0,s.bitmap.width,s.bitmap.height,function(v,g,b){var x=c.getPixelIndex(n+v,t+g,m.EDGE_CROP),E=u({r:this.bitmap.data[b+0]/255,g:this.bitmap.data[b+1]/255,b:this.bitmap.data[b+2]/255,a:this.bitmap.data[b+3]/255},{r:c.bitmap.data[x+0]/255,g:c.bitmap.data[x+1]/255,b:c.bitmap.data[x+2]/255,a:c.bitmap.data[x+3]/255},f);c.bitmap.data[x+0]=this.constructor.limit255(E.r*255),c.bitmap.data[x+1]=this.constructor.limit255(E.g*255),c.bitmap.data[x+2]=this.constructor.limit255(E.b*255),c.bitmap.data[x+3]=this.constructor.limit255(E.a*255)}),(0,h.isNodePattern)(a)&&a.call(this,null,this),this}D.exports=_.default},{"../constants":192,"./composite-modes":190,"@babel/runtime/helpers/interopRequireWildcard":12,"@jimp/utils":235}],192:[function(y,D,_){Object.defineProperty(_,"__esModule",{value:!0}),_.EDGE_CROP=_.EDGE_WRAP=_.EDGE_EXTEND=_.BLEND_EXCLUSION=_.BLEND_DIFFERENCE=_.BLEND_HARDLIGHT=_.BLEND_LIGHTEN=_.BLEND_DARKEN=_.BLEND_OVERLAY=_.BLEND_SCREEN=_.BLEND_ADD=_.BLEND_MULTIPLY=_.BLEND_DESTINATION_OVER=_.BLEND_SOURCE_OVER=_.VERTICAL_ALIGN_BOTTOM=_.VERTICAL_ALIGN_MIDDLE=_.VERTICAL_ALIGN_TOP=_.HORIZONTAL_ALIGN_RIGHT=_.HORIZONTAL_ALIGN_CENTER=_.HORIZONTAL_ALIGN_LEFT=_.AUTO=void 0;var w=-1;_.AUTO=w;var h=1;_.HORIZONTAL_ALIGN_LEFT=h;var m=2;_.HORIZONTAL_ALIGN_CENTER=m;var d=4;_.HORIZONTAL_ALIGN_RIGHT=d;var o=8;_.VERTICAL_ALIGN_TOP=o;var s=16;_.VERTICAL_ALIGN_MIDDLE=s;var n=32;_.VERTICAL_ALIGN_BOTTOM=n;var t="srcOver";_.BLEND_SOURCE_OVER=t;var e="dstOver";_.BLEND_DESTINATION_OVER=e;var a="multiply";_.BLEND_MULTIPLY=a;var l="add";_.BLEND_ADD=l;var i="screen";_.BLEND_SCREEN=i;var f="overlay";_.BLEND_OVERLAY=f;var r="darken";_.BLEND_DARKEN=r;var u="lighten";_.BLEND_LIGHTEN=u;var c="hardLight";_.BLEND_HARDLIGHT=c;var v="difference";_.BLEND_DIFFERENCE=v;var g="exclusion";_.BLEND_EXCLUSION=g;var b=1;_.EDGE_EXTEND=b;var x=2;_.EDGE_WRAP=x;var E=3;_.EDGE_CROP=E},{}],193:[function(y,D,_){(function(w){var h=y("@babel/runtime/helpers/interopRequireWildcard"),m=y("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(_,"__esModule",{value:!0}),_.addConstants=de,_.addJimpMethods=be,_.jimpEvMethod=le,_.jimpEvChange=se,Object.defineProperty(_,"addType",{enumerable:!0,get:function(){return z.addType}}),_.default=void 0;for(var d=m(y("@babel/runtime/helpers/construct")),o=m(y("@babel/runtime/helpers/slicedToArray")),s=m(y("@babel/runtime/helpers/classCallCheck")),n=m(y("@babel/runtime/helpers/createClass")),t=m(y("@babel/runtime/helpers/possibleConstructorReturn")),e=m(y("@babel/runtime/helpers/getPrototypeOf")),a=m(y("@babel/runtime/helpers/assertThisInitialized")),l=m(y("@babel/runtime/helpers/inherits")),i=m(y("@babel/runtime/helpers/defineProperty")),f=m(y("@babel/runtime/helpers/typeof")),r=m(y("fs")),u=m(y("path")),c=m(y("events")),v=y("@jimp/utils"),g=m(y("any-base")),b=m(y("mkdirp")),x=m(y("pixelmatch")),E=m(y("tinycolor2")),S=m(y("./modules/phash")),A=m(y("./request")),F=m(y("./composite")),M=m(y("./utils/promisify")),z=h(y("./utils/mime")),U=y("./utils/image-bitmap"),I=h(y("./constants")),O="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",B=[NaN,NaN],Y=2;Y<65;Y++){var q=(0,g.default)(g.default.BIN,O.slice(0,Y))(new Array(65).join("1"));B.push(q.length)}function ie(){}function ee(te){return Object.prototype.toString.call(te).toLowerCase().indexOf("arraybuffer")>-1}function G(te){for(var j=w.alloc(te.byteLength),P=new Uint8Array(te),R=0;R<j.length;++R)j[R]=P[R];return j}function V(te,j){(0,A.default)(te,function(P,R,Z){if(P)return j(P);if("headers"in R&&"location"in R.headers)return te.url=R.headers.location,V(te,j);if((0,f.default)(Z)==="object"&&w.isBuffer(Z))return j(null,Z);var N="Could not load Buffer from <"+te.url+"> (HTTP: "+R.statusCode+")";return new Error(N)})}function W(te,j){r.default&&typeof r.default.readFile=="function"&&!te.match(/^(http|ftp)s?:\/\/./)?r.default.readFile(te,j):V({url:te},j)}function Q(te){return te&&(0,f.default)(te)==="object"&&typeof te.width=="number"&&typeof te.height=="number"&&(w.isBuffer(te.data)||te.data instanceof Uint8Array||typeof Uint8ClampedArray=="function"&&te.data instanceof Uint8ClampedArray)&&(te.data.length===te.width*te.height*4||te.data.length===te.width*te.height*3)}function oe(te){if(te.length%3!==0)throw new Error("Buffer length is incorrect");for(var j=w.allocUnsafe(te.length/3*4),P=0,R=0;R<te.length;R++)j[P]=te[R],(R+1)%3===0&&(j[++P]=255),P++;return j}var ve={data:null,width:null,height:null},fe=function(te){(0,l.default)(j,te);function j(){for(var P,R=arguments.length,Z=new Array(R),N=0;N<R;N++)Z[N]=arguments[N];(0,s.default)(this,j),P=(0,t.default)(this,(0,e.default)(j).call(this)),(0,i.default)((0,a.default)(P),"bitmap",ve),(0,i.default)((0,a.default)(P),"_background",0),(0,i.default)((0,a.default)(P),"_originalMime",j.MIME_PNG),(0,i.default)((0,a.default)(P),"_exif",null),(0,i.default)((0,a.default)(P),"_rgba",!0),(0,i.default)((0,a.default)(P),"writeAsync",function(Ie){return(0,M.default)(P.write,(0,a.default)(P),Ie)}),(0,i.default)((0,a.default)(P),"getBase64Async",function(Ie){return(0,M.default)(P.getBase64,(0,a.default)(P),Ie)}),(0,i.default)((0,a.default)(P),"getBuffer",U.getBuffer),(0,i.default)((0,a.default)(P),"getBufferAsync",U.getBufferAsync),(0,i.default)((0,a.default)(P),"getPixelColour",P.getPixelColor),(0,i.default)((0,a.default)(P),"setPixelColour",P.setPixelColor);var C=(0,a.default)(P),T=ie;ee(Z[0])&&(Z[0]=G(Z[0]));function H(){for(var Ie=arguments.length,k=new Array(Ie),pe=0;pe<Ie;pe++)k[pe]=arguments[pe];var _e=k[0],Ee=_e||{};Ee.methodName="constructor",setTimeout(function(){var ce;_e&&T===ie?C.emitError("constructor",_e):_e||C.emitMulti("constructor","initialized"),(ce=T).call.apply(ce,[C].concat(k))},1)}if(typeof Z[0]=="number"&&typeof Z[1]=="number"||parseInt(Z[0],10)&&parseInt(Z[1],10)){var ue=parseInt(Z[0],10),me=parseInt(Z[1],10);if(T=Z[2],typeof Z[2]=="number"&&(P._background=Z[2],T=Z[3]),typeof Z[2]=="string"&&(P._background=j.cssColorToHex(Z[2]),T=Z[3]),typeof T>"u"&&(T=ie),typeof T!="function")return(0,t.default)(P,v.throwError.call((0,a.default)(P),"cb must be a function",H));P.bitmap={data:w.alloc(ue*me*4),width:ue,height:me};for(var ye=0;ye<P.bitmap.data.length;ye+=4)P.bitmap.data.writeUInt32BE(P._background,ye);H(null,(0,a.default)(P))}else if((0,f.default)(Z[0])==="object"&&Z[0].url){if(T=Z[1]||ie,typeof T!="function")return(0,t.default)(P,v.throwError.call((0,a.default)(P),"cb must be a function",H));V(Z[0],function(Ie,k){if(Ie)return v.throwError.call((0,a.default)(P),Ie,H);P.parseBitmap(k,Z[0].url,H)})}else if(Z[0]instanceof j){var Me=Z[0];if(T=Z[1],typeof T>"u"&&(T=ie),typeof T!="function")return(0,t.default)(P,v.throwError.call((0,a.default)(P),"cb must be a function",H));P.bitmap={data:w.from(Me.bitmap.data),width:Me.bitmap.width,height:Me.bitmap.height},P._quality=Me._quality,P._deflateLevel=Me._deflateLevel,P._deflateStrategy=Me._deflateStrategy,P._filterType=Me._filterType,P._rgba=Me._rgba,P._background=Me._background,P._originalMime=Me._originalMime,H(null,(0,a.default)(P))}else if(Q(Z[0])){var ke=Z[0];T=Z[1]||ie;var Oe=ke.width*ke.height*4===ke.data.length,Te=Oe?w.from(ke.data):oe(ke.data);P.bitmap={data:Te,width:ke.width,height:ke.height},H(null,(0,a.default)(P))}else if(typeof Z[0]=="string"){var Re=Z[0];if(T=Z[1],typeof T>"u"&&(T=ie),typeof T!="function")return(0,t.default)(P,v.throwError.call((0,a.default)(P),"cb must be a function",H));W(Re,function(Ie,k){if(Ie)return v.throwError.call((0,a.default)(P),Ie,H);P.parseBitmap(k,Re,H)})}else if((0,f.default)(Z[0])==="object"&&w.isBuffer(Z[0])){var Le=Z[0];if(T=Z[1],typeof T!="function")return(0,t.default)(P,v.throwError.call((0,a.default)(P),"cb must be a function",H));P.parseBitmap(Le,null,H)}else{T=Z[Z.length-1],typeof T!="function"&&(T=Z[Z.length-2],typeof T!="function"&&(T=ie));var Pe=j.__extraConstructors.find(function(Ie){return Ie.test.apply(Ie,Z)});if(Pe)new Promise(function(Ie,k){var pe;return(pe=Pe.run).call.apply(pe,[(0,a.default)(P),Ie,k].concat(Z))}).then(function(){return H(null,(0,a.default)(P))}).catch(H);else return(0,t.default)(P,v.throwError.call((0,a.default)(P),"No matching constructor overloading was found. Please see the docs for how to call the Jimp constructor.",H))}return P}return(0,n.default)(j,[{key:"parseBitmap",value:function(R,Z,N){U.parseBitmap.call(this,R,null,N)}},{key:"rgba",value:function(R,Z){return typeof R!="boolean"?v.throwError.call(this,"bool must be a boolean, true for RGBA or false for RGB",Z):(this._rgba=R,(0,v.isNodePattern)(Z)&&Z.call(this,null,this),this)}},{key:"emitMulti",value:function(R,Z){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};N=Object.assign(N,{methodName:R,eventName:Z}),this.emit("any",N),R&&this.emit(R,N),this.emit(Z,N)}},{key:"emitError",value:function(R,Z){this.emitMulti(R,"error",Z)}},{key:"getHeight",value:function(){return this.bitmap.height}},{key:"getWidth",value:function(){return this.bitmap.width}},{key:"inspect",value:function(){return"<Jimp "+(this.bitmap===ve?"pending...":this.bitmap.width+"x"+this.bitmap.height)+">"}},{key:"toString",value:function(){return"[object Jimp]"}},{key:"getMIME",value:function(){var R=this._originalMime||j.MIME_PNG;return R}},{key:"getExtension",value:function(){var R=this.getMIME();return z.getExtension(R)}},{key:"write",value:function(R,Z){var N=this;if(!r.default||!r.default.createWriteStream)throw new Error("Cant access the filesystem. You can use the getBase64 method.");if(typeof R!="string")return v.throwError.call(this,"path must be a string",Z);if(typeof Z>"u"&&(Z=ie),typeof Z!="function")return v.throwError.call(this,"cb must be a function",Z);var C=z.getType(R)||this.getMIME(),T=u.default.parse(R);return T.dir&&b.default.sync(T.dir),this.getBuffer(C,function(H,ue){if(H)return v.throwError.call(N,H,Z);var me=r.default.createWriteStream(R);me.on("open",function(){me.write(ue),me.end()}).on("error",function(ye){return v.throwError.call(N,ye,Z)}),me.on("finish",function(){Z.call(N,null,N)})}),this}},{key:"getBase64",value:function(R,Z){return R===j.AUTO&&(R=this.getMIME()),typeof R!="string"?v.throwError.call(this,"mime must be a string",Z):typeof Z!="function"?v.throwError.call(this,"cb must be a function",Z):(this.getBuffer(R,function(N,C){if(N)return v.throwError.call(this,N,Z);var T="data:"+R+";base64,"+C.toString("base64");Z.call(this,null,T)}),this)}},{key:"hash",value:function(R,Z){if(R=R||64,typeof R=="function"&&(Z=R,R=64),typeof R!="number")return v.throwError.call(this,"base must be a number",Z);if(R<2||R>64)return v.throwError.call(this,"base must be a number between 2 and 64",Z);var N=this.pHash();for(N=(0,g.default)(g.default.BIN,O.slice(0,R))(N);N.length<B[R];)N="0"+N;return(0,v.isNodePattern)(Z)&&Z.call(this,null,N),N}},{key:"pHash",value:function(){var R=new S.default;return R.getHash(this)}},{key:"distanceFromHash",value:function(R){var Z=new S.default,N=Z.getHash(this);return Z.distance(N,R)}},{key:"getPixelIndex",value:function(R,Z,N,C){var T,H;if(typeof N=="function"&&typeof C>"u"&&(C=N,N=null),N||(N=j.EDGE_EXTEND),typeof R!="number"||typeof Z!="number")return v.throwError.call(this,"x and y must be numbers",C);R=Math.round(R),Z=Math.round(Z),T=R,H=Z,N===j.EDGE_EXTEND&&(R<0&&(T=0),R>=this.bitmap.width&&(T=this.bitmap.width-1),Z<0&&(H=0),Z>=this.bitmap.height&&(H=this.bitmap.height-1)),N===j.EDGE_WRAP&&(R<0&&(T=this.bitmap.width+R),R>=this.bitmap.width&&(T=R%this.bitmap.width),Z<0&&(T=this.bitmap.height+Z),Z>=this.bitmap.height&&(H=Z%this.bitmap.height));var ue=this.bitmap.width*H+T<<2;return(T<0||T>=this.bitmap.width)&&(ue=-1),(H<0||H>=this.bitmap.height)&&(ue=-1),(0,v.isNodePattern)(C)&&C.call(this,null,ue),ue}},{key:"getPixelColor",value:function(R,Z,N){if(typeof R!="number"||typeof Z!="number")return v.throwError.call(this,"x and y must be numbers",N);R=Math.round(R),Z=Math.round(Z);var C=this.getPixelIndex(R,Z),T=this.bitmap.data.readUInt32BE(C);return(0,v.isNodePattern)(N)&&N.call(this,null,T),T}},{key:"setPixelColor",value:function(R,Z,N,C){if(typeof R!="number"||typeof Z!="number"||typeof N!="number")return v.throwError.call(this,"hex, x and y must be numbers",C);Z=Math.round(Z),N=Math.round(N);var T=this.getPixelIndex(Z,N);return this.bitmap.data.writeUInt32BE(R,T),(0,v.isNodePattern)(C)&&C.call(this,null,this),this}},{key:"hasAlpha",value:function(){for(var R=0;R<this.bitmap.height;R++)for(var Z=0;Z<this.bitmap.width;Z++){var N=this.bitmap.width*R+Z<<2,C=this.bitmap.data[N+3];if(C!==255)return!0}return!1}},{key:"scanIterator",value:function(R,Z,N,C){return typeof R!="number"||typeof Z!="number"?v.throwError.call(this,"x and y must be numbers"):typeof N!="number"||typeof C!="number"?v.throwError.call(this,"w and h must be numbers"):(0,v.scanIterator)(this,R,Z,N,C)}}]),j}(c.default);function de(te){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fe;Object.entries(te).forEach(function(P){var R=(0,o.default)(P,2),Z=R[0],N=R[1];j[Z]=N})}function be(te){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fe;Object.entries(te).forEach(function(P){var R=(0,o.default)(P,2),Z=R[0],N=R[1];j.prototype[Z]=N})}de(I),be({composite:F.default}),fe.__extraConstructors=[],fe.appendConstructorOption=function(te,j,P){fe.__extraConstructors.push({name:te,test:j,run:P})},fe.read=function(){for(var te=arguments.length,j=new Array(te),P=0;P<te;P++)j[P]=arguments[P];return new Promise(function(R,Z){(0,d.default)(fe,j.concat([function(N,C){N?Z(N):R(C)}]))})},fe.create=fe.read,fe.rgbaToInt=function(te,j,P,R,Z){if(typeof te!="number"||typeof j!="number"||typeof P!="number"||typeof R!="number")return v.throwError.call(this,"r, g, b and a must be numbers",Z);if(te<0||te>255)return v.throwError.call(this,"r must be between 0 and 255",Z);if((j<0||j>255)&&v.throwError.call(this,"g must be between 0 and 255",Z),P<0||P>255)return v.throwError.call(this,"b must be between 0 and 255",Z);if(R<0||R>255)return v.throwError.call(this,"a must be between 0 and 255",Z);te=Math.round(te),P=Math.round(P),j=Math.round(j),R=Math.round(R);var N=te*Math.pow(256,3)+j*Math.pow(256,2)+P*Math.pow(256,1)+R*Math.pow(256,0);return(0,v.isNodePattern)(Z)&&Z.call(this,null,N),N},fe.intToRGBA=function(te,j){if(typeof te!="number")return v.throwError.call(this,"i must be a number",j);var P={};return P.r=Math.floor(te/Math.pow(256,3)),P.g=Math.floor((te-P.r*Math.pow(256,3))/Math.pow(256,2)),P.b=Math.floor((te-P.r*Math.pow(256,3)-P.g*Math.pow(256,2))/Math.pow(256,1)),P.a=Math.floor((te-P.r*Math.pow(256,3)-P.g*Math.pow(256,2)-P.b*Math.pow(256,1))/Math.pow(256,0)),(0,v.isNodePattern)(j)&&j.call(this,null,P),P},fe.cssColorToHex=function(te){return te=te||0,typeof te=="number"?Number(te):parseInt((0,E.default)(te).toHex8(),16)},fe.limit255=function(te){return te=Math.max(te,0),te=Math.min(te,255),te},fe.diff=function(te,j){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.1;if(!(te instanceof fe)||!(j instanceof fe))return v.throwError.call(this,"img1 and img2 must be an Jimp images");var R=te.bitmap,Z=j.bitmap;if((R.width!==Z.width||R.height!==Z.height)&&(R.width*R.height>Z.width*Z.height?te=te.cloneQuiet().resize(Z.width,Z.height):j=j.cloneQuiet().resize(R.width,R.height)),typeof P!="number"||P<0||P>1)return v.throwError.call(this,"threshold must be a number between 0 and 1");var N=new fe(R.width,R.height,4294967295),C=(0,x.default)(R.data,Z.data,N.bitmap.data,N.bitmap.width,N.bitmap.height,{threshold:P});return{percent:C/(N.bitmap.width*N.bitmap.height),image:N}},fe.distance=function(te,j){var P=new S.default,R=P.getHash(te),Z=P.getHash(j);return P.distance(R,Z)},fe.compareHashes=function(te,j){var P=new S.default;return P.distance(te,j)},fe.colorDiff=function(te,j){var P=function(C){return Math.pow(C,2)},R=Math.max,Z=255*255*3;return te.a!==0&&!te.a&&(te.a=255),j.a!==0&&!j.a&&(j.a=255),(R(P(te.r-j.r),P(te.r-j.r-te.a+j.a))+R(P(te.g-j.g),P(te.g-j.g-te.a+j.a))+R(P(te.b-j.b),P(te.b-j.b-te.a+j.a)))/Z};function le(te,j,P){var R="before-"+j,Z=j.replace(/e$/,"")+"ed";fe.prototype[te]=function(){for(var N,C=arguments.length,T=new Array(C),H=0;H<C;H++)T[H]=arguments[H];var ue=T[P.length-1],me=this;typeof ue=="function"?(N=function(){for(var ke=arguments.length,Oe=new Array(ke),Te=0;Te<ke;Te++)Oe[Te]=arguments[Te];var Re=Oe[0],Le=Oe[1];Re?me.emitError(te,Re):me.emitMulti(te,Z,(0,i.default)({},te,Le)),ue.apply(this,Oe)},T[T.length-1]=N):N=!1,this.emitMulti(te,R);var ye;try{ye=P.apply(this,T),N||this.emitMulti(te,Z,(0,i.default)({},te,ye))}catch(Me){Me.methodName=te,this.emitError(te,Me)}return ye},fe.prototype[te+"Quiet"]=P}le("clone","clone",function(te){var j=new fe(this);return(0,v.isNodePattern)(te)&&te.call(j,null,j),j});function se(te,j){le(te,"change",j)}se("background",function(te,j){return typeof te!="number"?v.throwError.call(this,"hex must be a hexadecimal rgba value",j):(this._background=te,(0,v.isNodePattern)(j)&&j.call(this,null,this),this)}),se("scan",function(te,j,P,R,Z,N){if(typeof te!="number"||typeof j!="number")return v.throwError.call(this,"x and y must be numbers",N);if(typeof P!="number"||typeof R!="number")return v.throwError.call(this,"w and h must be numbers",N);if(typeof Z!="function")return v.throwError.call(this,"f must be a function",N);var C=(0,v.scan)(this,te,j,P,R,Z);return(0,v.isNodePattern)(N)&&N.call(this,null,C),C});{var X;typeof re<"u"&&(typeof re>"u"?"undefined":(0,f.default)(re))==="object"&&(X=re),typeof self<"u"&&(typeof self>"u"?"undefined":(0,f.default)(self))==="object"&&(X=self),X.Jimp=fe,X.Buffer=w}var J=fe;_.default=J}).call(this,y("buffer").Buffer)},{"./composite":191,"./constants":192,"./modules/phash":194,"./request":195,"./utils/image-bitmap":196,"./utils/mime":197,"./utils/promisify":198,"@babel/runtime/helpers/assertThisInitialized":3,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/construct":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/possibleConstructorReturn":17,"@babel/runtime/helpers/slicedToArray":19,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235,"any-base":23,buffer:48,events:52,fs:47,mkdirp:83,path:107,pixelmatch:109,tinycolor2:178}],194:[function(y,D,_){function w(s,n){this.size=this.size||s,this.smallerSize=this.smallerSize||n,d(this.size)}w.prototype.size=32,w.prototype.smallerSize=8,w.prototype.distance=function(s,n){for(var t=0,e=0;e<s.length;e++)s[e]!==n[e]&&t++;return t/s.length},w.prototype.getHash=function(s){s=s.clone().resize(this.size,this.size),s.grayscale();for(var n=[],t=0;t<s.bitmap.width;t++){n[t]=[];for(var e=0;e<s.bitmap.height;e++)n[t][e]=h(s.getPixelColor(t,e)).b}for(var a=o(n,this.size),l=0,i=0;i<this.smallerSize;i++)for(var f=0;f<this.smallerSize;f++)l+=a[i][f];for(var r=l/(this.smallerSize*this.smallerSize),u="",c=0;c<this.smallerSize;c++)for(var v=0;v<this.smallerSize;v++)u+=a[c][v]>r?"1":"0";return u};function h(s){var n={};return n.r=Math.floor(s/Math.pow(256,3)),n.g=Math.floor((s-n.r*Math.pow(256,3))/Math.pow(256,2)),n.b=Math.floor((s-n.r*Math.pow(256,3)-n.g*Math.pow(256,2))/Math.pow(256,1)),n.a=Math.floor((s-n.r*Math.pow(256,3)-n.g*Math.pow(256,2)-n.b*Math.pow(256,1))/Math.pow(256,0)),n}var m=[];function d(s){for(var n=1;n<s;n++)m[n]=1;m[0]=1/Math.sqrt(2)}function o(s,n){for(var t=n,e=[],a=0;a<t;a++){e[a]=[];for(var l=0;l<t;l++){for(var i=0,f=0;f<t;f++)for(var r=0;r<t;r++)i+=Math.cos((2*f+1)/(2*t)*a*Math.PI)*Math.cos((2*r+1)/(2*t)*l*Math.PI)*s[f][r];i*=m[a]*m[l]/4,e[a][l]=i}}return e}D.exports=w},{}],195:[function(y,D,_){(function(w,h){var m=y("@babel/runtime/helpers/interopRequireDefault"),d=m(y("@babel/runtime/helpers/defineProperty")),o=m(y("@babel/runtime/helpers/extends"));function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);e&&(l=l.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,l)}return a}function n(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?s(a,!0).forEach(function(l){(0,d.default)(t,l,a[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(a).forEach(function(l){Object.defineProperty(t,l,Object.getOwnPropertyDescriptor(a,l))})}return t}w.browser,D.exports=function(t,e){var a=new XMLHttpRequest;a.open("GET",t.url,!0),a.responseType="arraybuffer",a.addEventListener("load",function(){if(a.status<400)try{var l=h.from(this.response);e(null,a,l)}catch(i){return e(new Error("Response is not a buffer for url "+t.url+". Error: "+i.message))}else e(new Error("HTTP Status "+a.status+" for url "+t.url))}),a.addEventListener("error",function(l){e(l)}),a.send()}}).call(this,y("_process"),y("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/extends":8,"@babel/runtime/helpers/interopRequireDefault":11,_process:133,buffer:48,phin:108}],196:[function(y,D,_){(function(w){var h=y("@babel/runtime/helpers/interopRequireWildcard"),m=y("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(_,"__esModule",{value:!0}),_.parseBitmap=c,_.getBuffer=g,_.getBufferAsync=b;var d=m(y("@babel/runtime/helpers/slicedToArray")),o=m(y("file-type")),s=m(y("exif-parser")),n=y("@jimp/utils"),t=h(y("../constants")),e=h(y("./mime")),a=m(y("./promisify"));function l(x,E){var S=(0,o.default)(x);return S?S.mime:E?e.getType(E):null}function i(x){return x._exif&&x._exif.tags&&x._exif.tags.Orientation||1}function f(x){var E=x.getWidth(),S=x.getHeight();switch(i(x)){case 1:return null;case 2:return function(A,F){return[E-A-1,F]};case 3:return function(A,F){return[E-A-1,S-F-1]};case 4:return function(A,F){return[A,S-F-1]};case 5:return function(A,F){return[F,A]};case 6:return function(A,F){return[F,S-A-1]};case 7:return function(A,F){return[E-F-1,S-A-1]};case 8:return function(A,F){return[E-F-1,A]};default:return null}}function r(x,E,S,A){for(var F=x.bitmap.data,M=x.bitmap.width,z=w.alloc(F.length),U=0;U<E;U++)for(var I=0;I<S;I++){var O=A(U,I),B=(0,d.default)(O,2),Y=B[0],q=B[1],ie=E*I+U<<2,ee=M*q+Y<<2,G=F.readUInt32BE(ee);z.writeUInt32BE(G,ie)}x.bitmap.data=z,x.bitmap.width=E,x.bitmap.height=S}function u(x){if(!(i(x)<2)){var E=f(x),S=i(x)>4,A=S?x.bitmap.height:x.bitmap.width,F=S?x.bitmap.width:x.bitmap.height;r(x,A,F,E)}}function c(x,E,S){var A=l(x,E);if(typeof A!="string")return S(new Error("Could not find MIME for Buffer <"+E+">"));this._originalMime=A.toLowerCase();try{var F=this.getMIME();if(this.constructor.decoders[F])this.bitmap=this.constructor.decoders[F](x);else return n.throwError.call(this,"Unsupported MIME type: "+F,S)}catch(M){return S.call(this,M,this)}try{this._exif=s.default.create(x).parse(),u(this)}catch{}return S.call(this,null,this),this}function v(x,E){return new x(E.bitmap.width,E.bitmap.height,E._background).composite(E,0,0).bitmap}function g(x,E){if(x===t.AUTO&&(x=this.getMIME()),typeof x!="string")return n.throwError.call(this,"mime must be a string",E);if(typeof E!="function")return n.throwError.call(this,"cb must be a function",E);if(x=x.toLowerCase(),this._rgba&&this.constructor.hasAlpha[x]?this.bitmap.data=w.from(this.bitmap.data):this.bitmap.data=v(this.constructor,this).data,this.constructor.encoders[x]){var S=this.constructor.encoders[x](this);E.call(this,null,S)}else E.call(this,"Unsupported MIME type: "+x);return this}function b(x){return(0,a.default)(g,this,x)}}).call(this,y("buffer").Buffer)},{"../constants":192,"./mime":197,"./promisify":198,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/slicedToArray":19,"@jimp/utils":235,buffer:48,"exif-parser":53,"file-type":62}],197:[function(y,D,_){Object.defineProperty(_,"__esModule",{value:!0}),_.getExtension=_.getType=_.addType=void 0;var w={},h=function(n){return Object.entries(w).find(function(t){return t[1].includes(n)})||[]},m=function(n,t){w[n]=t};_.addType=m;var d=function(n){var t=n.split("/").slice(-1),e=t[t.length-1].split(".").pop(),a=h(e);return a[0]};_.getType=d;var o=function(n){return(w[n.toLowerCase()]||[])[0]};_.getExtension=o},{}],198:[function(y,D,_){Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var w=function(d,o){for(var s=arguments.length,n=new Array(s>2?s-2:0),t=2;t<s;t++)n[t-2]=arguments[t];return new Promise(function(e,a){n.push(function(l,i){l&&a(l),e(i)}),d.bind(o).apply(void 0,n)})},h=w;_.default=h,D.exports=_.default},{}],199:[function(y,D,_){var w=y("@babel/runtime/helpers/interopRequireWildcard"),h=y("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(_,"__esModule",{value:!0}),_.default=e;var m=h(y("@babel/runtime/helpers/toConsumableArray")),d=h(y("@babel/runtime/helpers/defineProperty")),o=h(y("@babel/runtime/helpers/slicedToArray")),s=w(y("@jimp/core"));function n(a,l){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);l&&(f=f.filter(function(r){return Object.getOwnPropertyDescriptor(a,r).enumerable})),i.push.apply(i,f)}return i}function t(a){for(var l=1;l<arguments.length;l++){var i=arguments[l]!=null?arguments[l]:{};l%2?n(i,!0).forEach(function(f){(0,d.default)(a,f,i[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):n(i).forEach(function(f){Object.defineProperty(a,f,Object.getOwnPropertyDescriptor(i,f))})}return a}function e(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.default,i={hasAlpha:{},encoders:{},decoders:{},class:{},constants:{}};function f(c){Object.entries(c).forEach(function(v){var g=(0,o.default)(v,2),b=g[0],x=g[1];i[b]=t({},i[b],{},x)})}function r(c){var v=c();Array.isArray(v.mime)?s.addType.apply(void 0,(0,m.default)(v.mime)):Object.entries(v.mime).forEach(function(g){return s.addType.apply(void 0,(0,m.default)(g))}),delete v.mime,f(v)}function u(c){var v=c(s.jimpEvChange)||{};!v.class&&!v.constants?f({class:v}):f(v)}return a.types&&(a.types.forEach(r),l.decoders=t({},l.decoders,{},i.decoders),l.encoders=t({},l.encoders,{},i.encoders),l.hasAlpha=t({},l.hasAlpha,{},i.hasAlpha)),a.plugins&&a.plugins.forEach(u),(0,s.addJimpMethods)(i.class,l),(0,s.addConstants)(i.constants,l),s.default}D.exports=_.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/slicedToArray":19,"@babel/runtime/helpers/toConsumableArray":20,"@jimp/core":193}],200:[function(y,D,_){var w=y("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var h=w(y("@jimp/custom")),m=w(y("@jimp/types")),d=w(y("@jimp/plugins")),o=(0,h.default)({types:[m.default],plugins:[d.default]});_.default=o,D.exports=_.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/custom":199,"@jimp/plugins":228,"@jimp/types":234}],201:[function(y,D,_){var w=y("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var h=w(y("@babel/runtime/helpers/typeof")),m=y("@jimp/utils"),d=function(){return{blit:function(n,t,e,a,l,i,f,r){if(!(n instanceof this.constructor))return m.throwError.call(this,"The source must be a Jimp image",r);if(typeof t!="number"||typeof e!="number")return m.throwError.call(this,"x and y must be numbers",r);if(typeof a=="function")r=a,a=0,l=0,i=n.bitmap.width,f=n.bitmap.height;else if((0,h.default)(a)===(0,h.default)(l)&&(0,h.default)(l)===(0,h.default)(i)&&(0,h.default)(i)===(0,h.default)(f))a=a||0,l=l||0,i=i||n.bitmap.width,f=f||n.bitmap.height;else return m.throwError.call(this,"srcx, srcy, srcw, srch must be numbers",r);t=Math.round(t),e=Math.round(e),a=Math.round(a),l=Math.round(l),i=Math.round(i),f=Math.round(f);var u=this.bitmap.width,c=this.bitmap.height,v=this;return n.scanQuiet(a,l,i,f,function(g,b,x){var E=t+g-a,S=e+b-l;if(E>=0&&S>=0&&u-E>0&&c-S>0){var A=v.getPixelIndex(E,S),F={r:this.bitmap.data[x],g:this.bitmap.data[x+1],b:this.bitmap.data[x+2],a:this.bitmap.data[x+3]},M={r:v.bitmap.data[A],g:v.bitmap.data[A+1],b:v.bitmap.data[A+2],a:v.bitmap.data[A+3]};v.bitmap.data[A]=(F.a*(F.r-M.r)-M.r+255>>8)+M.r,v.bitmap.data[A+1]=(F.a*(F.g-M.g)-M.g+255>>8)+M.g,v.bitmap.data[A+2]=(F.a*(F.b-M.b)-M.b+255>>8)+M.b,v.bitmap.data[A+3]=this.constructor.limit255(M.a+F.a)}}),(0,m.isNodePattern)(r)&&r.call(this,null,this),this}}};_.default=d,D.exports=_.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235}],202:[function(y,D,_){Object.defineProperty(_,"__esModule",{value:!0}),_.shgTable=_.mulTable=void 0;var w=[1,57,41,21,203,34,97,73,227,91,149,62,105,45,39,137,241,107,3,173,39,71,65,238,219,101,187,87,81,151,141,133,249,117,221,209,197,187,177,169,5,153,73,139,133,127,243,233,223,107,103,99,191,23,177,171,165,159,77,149,9,139,135,131,253,245,119,231,224,109,211,103,25,195,189,23,45,175,171,83,81,79,155,151,147,9,141,137,67,131,129,251,123,30,235,115,113,221,217,53,13,51,50,49,193,189,185,91,179,175,43,169,83,163,5,79,155,19,75,147,145,143,35,69,17,67,33,65,255,251,247,243,239,59,29,229,113,111,219,27,213,105,207,51,201,199,49,193,191,47,93,183,181,179,11,87,43,85,167,165,163,161,159,157,155,77,19,75,37,73,145,143,141,35,138,137,135,67,33,131,129,255,63,250,247,61,121,239,237,117,29,229,227,225,111,55,109,216,213,211,209,207,205,203,201,199,197,195,193,48,190,47,93,185,183,181,179,178,176,175,173,171,85,21,167,165,41,163,161,5,79,157,78,154,153,19,75,149,74,147,73,144,143,71,141,140,139,137,17,135,134,133,66,131,65,129,1];_.mulTable=w;var h=[0,9,10,10,14,12,14,14,16,15,16,15,16,15,15,17,18,17,12,18,16,17,17,19,19,18,19,18,18,19,19,19,20,19,20,20,20,20,20,20,15,20,19,20,20,20,21,21,21,20,20,20,21,18,21,21,21,21,20,21,17,21,21,21,22,22,21,22,22,21,22,21,19,22,22,19,20,22,22,21,21,21,22,22,22,18,22,22,21,22,22,23,22,20,23,22,22,23,23,21,19,21,21,21,23,23,23,22,23,23,21,23,22,23,18,22,23,20,22,23,23,23,21,22,20,22,21,22,24,24,24,24,24,22,21,24,23,23,24,21,24,23,24,22,24,24,22,24,24,22,23,24,24,24,20,23,22,23,24,24,24,24,24,24,24,23,21,23,22,23,24,24,24,22,24,24,24,23,22,24,24,25,23,25,25,23,24,25,25,24,22,25,25,25,24,23,24,25,25,25,25,25,25,25,25,25,25,25,25,23,25,23,24,25,25,25,25,25,25,25,25,25,24,22,25,25,23,25,25,20,24,25,24,25,25,22,24,25,24,25,24,25,25,24,25,25,25,25,22,25,25,25,24,25,24,25,18];_.shgTable=h},{}],203:[function(y,D,_){Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var w=y("@jimp/utils"),h=y("./blur-tables"),m=function(){return{blur:function(s,n){if(typeof s!="number")return w.throwError.call(this,"r must be a number",n);if(s<1)return w.throwError.call(this,"r must be greater than 0",n);for(var t,e,a,l,i,f,r,u,c,v,g,b,x,E,S=this.bitmap.width-1,A=this.bitmap.height-1,F=s+1,M=h.mulTable[s],z=h.shgTable[s],U=[],I=[],O=[],B=[],Y=[],q=[],ie=2;ie-- >0;){for(b=0,x=0,f=0;f<this.bitmap.height;f++){for(t=this.bitmap.data[x]*F,e=this.bitmap.data[x+1]*F,a=this.bitmap.data[x+2]*F,l=this.bitmap.data[x+3]*F,r=1;r<=s;r++)u=x+((r>S?S:r)<<2),t+=this.bitmap.data[u++],e+=this.bitmap.data[u++],a+=this.bitmap.data[u++],l+=this.bitmap.data[u];for(i=0;i<this.bitmap.width;i++)U[b]=t,I[b]=e,O[b]=a,B[b]=l,f===0&&(Y[i]=((u=i+F)<S?u:S)<<2,q[i]=(u=i-s)>0?u<<2:0),c=x+Y[i],v=x+q[i],t+=this.bitmap.data[c++]-this.bitmap.data[v++],e+=this.bitmap.data[c++]-this.bitmap.data[v++],a+=this.bitmap.data[c++]-this.bitmap.data[v++],l+=this.bitmap.data[c]-this.bitmap.data[v],b++;x+=this.bitmap.width<<2}for(i=0;i<this.bitmap.width;i++){for(g=i,t=U[g]*F,e=I[g]*F,a=O[g]*F,l=B[g]*F,r=1;r<=s;r++)g+=r>A?0:this.bitmap.width,t+=U[g],e+=I[g],a+=O[g],l+=B[g];for(b=i<<2,f=0;f<this.bitmap.height;f++)E=l*M>>>z,this.bitmap.data[b+3]=E,E>255&&(this.bitmap.data[b+3]=255),E>0?(E=255/E,this.bitmap.data[b]=(t*M>>>z)*E,this.bitmap.data[b+1]=(e*M>>>z)*E,this.bitmap.data[b+2]=(a*M>>>z)*E):(this.bitmap.data[b+2]=0,this.bitmap.data[b+1]=0,this.bitmap.data[b]=0),i===0&&(Y[f]=((u=f+F)<A?u:A)*this.bitmap.width,q[f]=(u=f-s)>0?u*this.bitmap.width:0),c=i+Y[f],v=i+q[f],t+=U[c]-U[v],e+=I[c]-I[v],a+=O[c]-O[v],l+=B[c]-B[v],b+=this.bitmap.width<<2}}return(0,w.isNodePattern)(n)&&n.call(this,null,this),this}}};_.default=m,D.exports=_.default},{"./blur-tables":202,"@jimp/utils":235}],204:[function(y,D,_){Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var w=y("@jimp/utils"),h=function(){return{circle:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;typeof o=="function"&&(s=o,o={});var n=o.radius||(this.bitmap.width>this.bitmap.height?this.bitmap.height:this.bitmap.width)/2,t={x:typeof o.x=="number"?o.x:this.bitmap.width/2,y:typeof o.y=="number"?o.y:this.bitmap.height/2};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,a,l){var i=Math.sqrt(Math.pow(e-t.x,2)+Math.pow(a-t.y,2));n-i<=0?this.bitmap.data[l+3]=0:n-i<1&&(this.bitmap.data[l+3]=255*(n-i))}),(0,w.isNodePattern)(s)&&s.call(this,null,this),this}}};_.default=h,D.exports=_.default},{"@jimp/utils":235}],205:[function(y,D,_){(function(w){var h=y("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var m=h(y("@babel/runtime/helpers/toConsumableArray")),d=h(y("tinycolor2")),o=y("@jimp/utils");function s(i,f,r,u){for(var c=[0,0,0],v=(f.length-1)/2,g=0;g<f.length;g+=1)for(var b=0;b<f[g].length;b+=1){var x=i.getPixelIndex(r+g-v,u+b-v);c[0]+=i.bitmap.data[x]*f[g][b],c[1]+=i.bitmap.data[x+1]*f[g][b],c[2]+=i.bitmap.data[x+2]*f[g][b]}return c}var n=function(f){return typeof f<"u"&&f!==null};function t(i){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(f,r,u){var c=parseInt(.2126*this.bitmap.data[u]+.7152*this.bitmap.data[u+1]+.0722*this.bitmap.data[u+2],10);this.bitmap.data[u]=c,this.bitmap.data[u+1]=c,this.bitmap.data[u+2]=c}),(0,o.isNodePattern)(i)&&i.call(this,null,this),this}function e(i,f){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:50;return{r:(f.r-i.r)*(r/100)+i.r,g:(f.g-i.g)*(r/100)+i.g,b:(f.b-i.b)*(r/100)+i.b}}function a(i,f){var r=this;return!i||!Array.isArray(i)?o.throwError.call(this,"actions must be an array",f):(i=i.map(function(u){return(u.apply==="xor"||u.apply==="mix")&&(u.params[0]=(0,d.default)(u.params[0]).toRgb()),u}),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(u,c,v){var g={r:r.bitmap.data[v],g:r.bitmap.data[v+1],b:r.bitmap.data[v+2]},b=function(E,S){return r.constructor.limit255(g[E]+S)};i.forEach(function(x){if(x.apply==="mix")g=e(g,x.params[0],x.params[1]);else if(x.apply==="tint")g=e(g,{r:255,g:255,b:255},x.params[0]);else if(x.apply==="shade")g=e(g,{r:0,g:0,b:0},x.params[0]);else if(x.apply==="xor")g={r:g.r^x.params[0].r,g:g.g^x.params[0].g,b:g.b^x.params[0].b};else if(x.apply==="red")g.r=b("r",x.params[0]);else if(x.apply==="green")g.g=b("g",x.params[0]);else if(x.apply==="blue")g.b=b("b",x.params[0]);else{var E;if(x.apply==="hue"&&(x.apply="spin"),g=(0,d.default)(g),!g[x.apply])return o.throwError.call(r,"action "+x.apply+" not supported",f);g=(E=g)[x.apply].apply(E,(0,m.default)(x.params)).toRgb()}}),r.bitmap.data[v]=g.r,r.bitmap.data[v+1]=g.g,r.bitmap.data[v+2]=g.b}),(0,o.isNodePattern)(f)&&f.call(this,null,this),this)}var l=function(){return{brightness:function(r,u){return typeof r!="number"?o.throwError.call(this,"val must be numbers",u):r<-1||r>1?o.throwError.call(this,"val must be a number between -1 and +1",u):(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(c,v,g){r<0?(this.bitmap.data[g]=this.bitmap.data[g]*(1+r),this.bitmap.data[g+1]=this.bitmap.data[g+1]*(1+r),this.bitmap.data[g+2]=this.bitmap.data[g+2]*(1+r)):(this.bitmap.data[g]=this.bitmap.data[g]+(255-this.bitmap.data[g])*r,this.bitmap.data[g+1]=this.bitmap.data[g+1]+(255-this.bitmap.data[g+1])*r,this.bitmap.data[g+2]=this.bitmap.data[g+2]+(255-this.bitmap.data[g+2])*r)}),(0,o.isNodePattern)(u)&&u.call(this,null,this),this)},contrast:function(r,u){if(typeof r!="number")return o.throwError.call(this,"val must be numbers",u);if(r<-1||r>1)return o.throwError.call(this,"val must be a number between -1 and +1",u);var c=(r+1)/(1-r);function v(g){return g=Math.floor(c*(g-127)+127),g<0?0:g>255?255:g}return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(g,b,x){this.bitmap.data[x]=v(this.bitmap.data[x]),this.bitmap.data[x+1]=v(this.bitmap.data[x+1]),this.bitmap.data[x+2]=v(this.bitmap.data[x+2])}),(0,o.isNodePattern)(u)&&u.call(this,null,this),this},posterize:function(r,u){return typeof r!="number"?o.throwError.call(this,"n must be numbers",u):(r<2&&(r=2),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(c,v,g){this.bitmap.data[g]=Math.floor(this.bitmap.data[g]/255*(r-1))/(r-1)*255,this.bitmap.data[g+1]=Math.floor(this.bitmap.data[g+1]/255*(r-1))/(r-1)*255,this.bitmap.data[g+2]=Math.floor(this.bitmap.data[g+2]/255*(r-1))/(r-1)*255}),(0,o.isNodePattern)(u)&&u.call(this,null,this),this)},greyscale:t,grayscale:t,opacity:function(r,u){return typeof r!="number"?o.throwError.call(this,"f must be a number",u):r<0||r>1?o.throwError.call(this,"f must be a number from 0 to 1",u):(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(c,v,g){var b=this.bitmap.data[g+3]*r;this.bitmap.data[g+3]=b}),(0,o.isNodePattern)(u)&&u.call(this,null,this),this)},sepia:function(r){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(u,c,v){var g=this.bitmap.data[v],b=this.bitmap.data[v+1],x=this.bitmap.data[v+2];g=g*.393+b*.769+x*.189,b=g*.349+b*.686+x*.168,x=g*.272+b*.534+x*.131,this.bitmap.data[v]=g<255?g:255,this.bitmap.data[v+1]=b<255?b:255,this.bitmap.data[v+2]=x<255?x:255}),(0,o.isNodePattern)(r)&&r.call(this,null,this),this},fade:function(r,u){return typeof r!="number"?o.throwError.call(this,"f must be a number",u):r<0||r>1?o.throwError.call(this,"f must be a number from 0 to 1",u):(this.opacity(1-r),(0,o.isNodePattern)(u)&&u.call(this,null,this),this)},convolution:function(r,u,c){typeof u=="function"&&typeof c>"u"&&(c=u,u=null),u||(u=this.constructor.EDGE_EXTEND);var v=w.from(this.bitmap.data),g=r.length,b=r[0].length,x=Math.floor(g/2),E=Math.floor(b/2),S=-x,A=-E,F,M,z,U,I,O,B,Y,q,ie;return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(ee,G,V){U=0,z=0,M=0;for(var W=S;W<=x;W++)for(var Q=A;Q<=E;Q++)Y=ee+Q,q=G+W,F=r[W+x][Q+E],ie=this.getPixelIndex(Y,q,u),ie===-1?(B=0,O=0,I=0):(I=this.bitmap.data[ie+0],O=this.bitmap.data[ie+1],B=this.bitmap.data[ie+2]),M+=F*I,z+=F*O,U+=F*B;M<0&&(M=0),z<0&&(z=0),U<0&&(U=0),M>255&&(M=255),z>255&&(z=255),U>255&&(U=255),v[V+0]=M,v[V+1]=z,v[V+2]=U}),this.bitmap.data=v,(0,o.isNodePattern)(c)&&c.call(this,null,this),this},opaque:function(r){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(u,c,v){this.bitmap.data[v+3]=255}),(0,o.isNodePattern)(r)&&r.call(this,null,this),this},pixelate:function(r,u,c,v,g,b){if(typeof u=="function")b=u,g=null,v=null,c=null,u=null;else{if(typeof r!="number")return o.throwError.call(this,"size must be a number",b);if(n(u)&&typeof u!="number")return o.throwError.call(this,"x must be a number",b);if(n(c)&&typeof c!="number")return o.throwError.call(this,"y must be a number",b);if(n(v)&&typeof v!="number")return o.throwError.call(this,"w must be a number",b);if(n(g)&&typeof g!="number")return o.throwError.call(this,"h must be a number",b)}var x=[[1/16,2/16,1/16],[2/16,4/16,2/16],[1/16,2/16,1/16]];u=u||0,c=c||0,v=n(v)?v:this.bitmap.width-u,g=n(g)?g:this.bitmap.height-c;var E=this.cloneQuiet();return this.scanQuiet(u,c,v,g,function(S,A,F){S=r*Math.floor(S/r),A=r*Math.floor(A/r);var M=s(E,x,S,A);this.bitmap.data[F]=M[0],this.bitmap.data[F+1]=M[1],this.bitmap.data[F+2]=M[2]}),(0,o.isNodePattern)(b)&&b.call(this,null,this),this},convolute:function(r,u,c,v,g,b){if(!Array.isArray(r))return o.throwError.call(this,"the kernel must be an array",b);if(typeof u=="function")b=u,u=null,c=null,v=null,g=null;else{if(n(u)&&typeof u!="number")return o.throwError.call(this,"x must be a number",b);if(n(c)&&typeof c!="number")return o.throwError.call(this,"y must be a number",b);if(n(v)&&typeof v!="number")return o.throwError.call(this,"w must be a number",b);if(n(g)&&typeof g!="number")return o.throwError.call(this,"h must be a number",b)}var x=(r.length-1)/2;u=n(u)?u:x,c=n(c)?c:x,v=n(v)?v:this.bitmap.width-u,g=n(g)?g:this.bitmap.height-c;var E=this.cloneQuiet();return this.scanQuiet(u,c,v,g,function(S,A,F){var M=s(E,r,S,A);this.bitmap.data[F]=this.constructor.limit255(M[0]),this.bitmap.data[F+1]=this.constructor.limit255(M[1]),this.bitmap.data[F+2]=this.constructor.limit255(M[2])}),(0,o.isNodePattern)(b)&&b.call(this,null,this),this},color:a,colour:a}};_.default=l,D.exports=_.default}).call(this,y("buffer").Buffer)},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20,"@jimp/utils":235,buffer:48,tinycolor2:178}],206:[function(y,D,_){Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var w=y("@jimp/utils"),h=function(){return{contain:function(o,s,n,t,e){if(typeof o!="number"||typeof s!="number")return w.throwError.call(this,"w and h must be numbers",e);typeof n=="string"&&(typeof t=="function"&&typeof e>"u"&&(e=t),t=n,n=null),typeof n=="function"&&(typeof e>"u"&&(e=n),t=null,n=null),typeof t=="function"&&typeof e>"u"&&(e=t,t=null),n=n||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE;var a=n&(1<<3)-1,l=n>>3;if(!(a!==0&&!(a&a-1)||l!==0&&!(l&l-1)))return w.throwError.call(this,"only use one flag per alignment direction",e);var i=a>>1,f=l>>1,r=o/s>this.bitmap.width/this.bitmap.height?s/this.bitmap.height:o/this.bitmap.width,u=this.cloneQuiet().scale(r,t);return this.resize(o,s,t),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(c,v,g){this.bitmap.data.writeUInt32BE(this._background,g)}),this.blit(u,(this.bitmap.width-u.bitmap.width)/2*i,(this.bitmap.height-u.bitmap.height)/2*f),(0,w.isNodePattern)(e)&&e.call(this,null,this),this}}};_.default=h,D.exports=_.default},{"@jimp/utils":235}],207:[function(y,D,_){Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var w=y("@jimp/utils"),h=function(){return{cover:function(o,s,n,t,e){if(typeof o!="number"||typeof s!="number")return w.throwError.call(this,"w and h must be numbers",e);n&&typeof n=="function"&&typeof e>"u"?(e=n,n=null,t=null):typeof t=="function"&&typeof e>"u"&&(e=t,t=null),n=n||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE;var a=n&(1<<3)-1,l=n>>3;if(!(a!==0&&!(a&a-1)||l!==0&&!(l&l-1)))return w.throwError.call(this,"only use one flag per alignment direction",e);var i=a>>1,f=l>>1,r=o/s>this.bitmap.width/this.bitmap.height?o/this.bitmap.width:s/this.bitmap.height;return this.scale(r,t),this.crop((this.bitmap.width-o)/2*i,(this.bitmap.height-s)/2*f,o,s),(0,w.isNodePattern)(e)&&e.call(this,null,this),this}}};_.default=h,D.exports=_.default},{"@jimp/utils":235}],208:[function(y,D,_){(function(w){var h=y("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(_,"__esModule",{value:!0}),_.default=o;var m=h(y("@babel/runtime/helpers/typeof")),d=y("@jimp/utils");function o(s){return s("crop",function(n,t,e,a,l){if(typeof n!="number"||typeof t!="number")return d.throwError.call(this,"x and y must be numbers",l);if(typeof e!="number"||typeof a!="number")return d.throwError.call(this,"w and h must be numbers",l);if(n=Math.round(n),t=Math.round(t),e=Math.round(e),a=Math.round(a),n===0&&e===this.bitmap.width){var i=e*t+n<<2,f=i+a*e<<2;this.bitmap.data=this.bitmap.data.slice(i,f)}else{var r=w.allocUnsafe(e*a*4),u=0;this.scanQuiet(n,t,e,a,function(c,v,g){var b=this.bitmap.data.readUInt32BE(g,!0);r.writeUInt32BE(b,u,!0),u+=4}),this.bitmap.data=r}return this.bitmap.width=e,this.bitmap.height=a,(0,d.isNodePattern)(l)&&l.call(this,null,this),this}),{class:{autocrop:function(){for(var t=this.bitmap.width,e=this.bitmap.height,a=1,l,i=0,f=2e-4,r=!0,u=!1,c={north:!1,south:!1,east:!1,west:!1},v=arguments.length,g=new Array(v),b=0;b<v;b++)g[b]=arguments[b];for(var x=0,E=g.length;x<E;x++)if(typeof g[x]=="number"&&(f=g[x]),typeof g[x]=="boolean"&&(r=g[x]),typeof g[x]=="function"&&(l=g[x]),(0,m.default)(g[x])==="object"){var S=g[x];typeof S.tolerance<"u"&&(f=S.tolerance),typeof S.cropOnlyFrames<"u"&&(r=S.cropOnlyFrames),typeof S.cropSymmetric<"u"&&(u=S.cropSymmetric),typeof S.leaveBorder<"u"&&(i=S.leaveBorder),typeof S.ignoreSides<"u"&&(c=S.ignoreSides)}var A=this.getPixelColor(0,0),F=this.constructor.intToRGBA(A),M=0,z=0,U=0,I=0;if(A=this.getPixelColor(0,0),!c.north){e:for(var O=0;O<e-a;O++){for(var B=0;B<t;B++){var Y=this.getPixelColor(B,O),q=this.constructor.intToRGBA(Y);if(this.constructor.colorDiff(F,q)>f)break e}M++}}if(A=this.getPixelColor(t,0),!c.east){e:for(var ie=0;ie<t-a;ie++){for(var ee=0+M;ee<e;ee++){var G=this.getPixelColor(ie,ee),V=this.constructor.intToRGBA(G);if(this.constructor.colorDiff(F,V)>f)break e}z++}}if(A=this.getPixelColor(0,e),!c.south){e:for(var W=e-1;W>=M+a;W--){for(var Q=t-z-1;Q>=0;Q--){var oe=this.getPixelColor(Q,W),ve=this.constructor.intToRGBA(oe);if(this.constructor.colorDiff(F,ve)>f)break e}U++}}if(A=this.getPixelColor(t,e),!c.west){e:for(var fe=t-1;fe>=0+z+a;fe--){for(var de=e-1;de>=0+M;de--){var be=this.getPixelColor(fe,de),le=this.constructor.intToRGBA(be);if(this.constructor.colorDiff(F,le)>f)break e}I++}}var se=!1;if(I-=i,z-=i,M-=i,U-=i,u){var X=Math.min(z,I),J=Math.min(M,U);I=X,z=X,M=J,U=J}I=I>=0?I:0,z=z>=0?z:0,M=M>=0?M:0,U=U>=0?U:0;var te=t-(I+z),j=e-(U+M);return r?se=z!==0&&M!==0&&I!==0&&U!==0:se=z!==0||M!==0||I!==0||U!==0,se&&this.crop(z,M,te,j),(0,d.isNodePattern)(l)&&l.call(this,null,this),this}}}}D.exports=_.default}).call(this,y("buffer").Buffer)},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235,buffer:48}],209:[function(y,D,_){var w=y("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var h=w(y("@babel/runtime/helpers/typeof")),m=y("@jimp/utils"),d=function(){return{displace:function(n,t,e){if((0,h.default)(n)!=="object"||n.constructor!==this.constructor)return m.throwError.call(this,"The source must be a Jimp image",e);if(typeof t!="number")return m.throwError.call(this,"factor must be a number",e);var a=this.cloneQuiet();return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(l,i,f){var r=n.bitmap.data[f]/256*t;r=Math.round(r);var u=this.getPixelIndex(l+r,i);this.bitmap.data[u]=a.bitmap.data[f],this.bitmap.data[u+1]=a.bitmap.data[f+1],this.bitmap.data[u+2]=a.bitmap.data[f+2]}),(0,m.isNodePattern)(e)&&e.call(this,null,this),this}}};_.default=d,D.exports=_.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235}],210:[function(y,D,_){Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var w=y("@jimp/utils");function h(d){var o=[1,9,3,11,13,5,15,7,4,12,2,10,16,8,14,6];return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(s,n,t){var e=((n&3)<<2)+s%4,a=o[e];this.bitmap.data[t]=Math.min(this.bitmap.data[t]+a,255),this.bitmap.data[t+1]=Math.min(this.bitmap.data[t+1]+a,255),this.bitmap.data[t+2]=Math.min(this.bitmap.data[t+2]+a,255)}),(0,w.isNodePattern)(d)&&d.call(this,null,this),this}var m=function(){return{dither565:h,dither16:h}};_.default=m,D.exports=_.default},{"@jimp/utils":235}],211:[function(y,D,_){Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var w=y("@jimp/utils"),h=function(){return{fisheye:function(){var o=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{r:2.5},n=arguments.length>1?arguments[1]:void 0;typeof s=="function"&&(n=s,s={r:2.5});var t=this.cloneQuiet(),e=t.bitmap,a=e.width,l=e.height;return t.scanQuiet(0,0,a,l,function(i,f){var r=i/a,u=f/l,c=Math.sqrt(Math.pow(r-.5,2)+Math.pow(u-.5,2)),v=2*Math.pow(c,s.r),g=(r-.5)/c,b=(u-.5)/c,x=Math.round((v*g+.5)*a),E=Math.round((v*b+.5)*l),S=t.getPixelColor(x,E);o.setPixelColor(S,i,f)}),this.setPixelColor(t.getPixelColor(a/2,l/2),a/2,l/2),(0,w.isNodePattern)(n)&&n.call(this,null,this),this}}};_.default=h,D.exports=_.default},{"@jimp/utils":235}],212:[function(y,D,_){(function(w){Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var h=y("@jimp/utils");function m(o,s,n){if(typeof o!="boolean"||typeof s!="boolean")return h.throwError.call(this,"horizontal and vertical must be Booleans",n);var t=w.alloc(this.bitmap.data.length);return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,a,l){var i=o?this.bitmap.width-1-e:e,f=s?this.bitmap.height-1-a:a,r=this.bitmap.width*f+i<<2,u=this.bitmap.data.readUInt32BE(l);t.writeUInt32BE(u,r)}),this.bitmap.data=w.from(t),(0,h.isNodePattern)(n)&&n.call(this,null,this),this}var d=function(){return{flip:m,mirror:m}};_.default=d,D.exports=_.default}).call(this,y("buffer").Buffer)},{"@jimp/utils":235,buffer:48}],213:[function(y,D,_){Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var w=y("@jimp/utils"),h=function(){return{gaussian:function(o,s){if(typeof o!="number")return w.throwError.call(this,"r must be a number",s);if(o<1)return w.throwError.call(this,"r must be greater than 0",s);for(var n=Math.ceil(o*2.57),t=n*2+1,e=o*o*2,a=e*Math.PI,l=[],i=0;i<t;i++){l[i]=[];for(var f=0;f<t;f++){var r=Math.pow(f-n,2)+Math.pow(i-n,2);l[i][f]=Math.exp(-r/e)/a}}for(var u=0;u<this.bitmap.height;u++)for(var c=0;c<this.bitmap.width;c++)for(var v=0,g=0,b=0,x=0,E=0,S=0;S<t;S++){for(var A=0;A<t;A++){var F=Math.min(this.bitmap.width-1,Math.max(0,A+c-n)),M=Math.min(this.bitmap.height-1,Math.max(0,S+u-n)),z=l[S][A],U=M*this.bitmap.width+F<<2;v+=this.bitmap.data[U]*z,g+=this.bitmap.data[U+1]*z,b+=this.bitmap.data[U+2]*z,x+=this.bitmap.data[U+3]*z,E+=z}var I=u*this.bitmap.width+c<<2;this.bitmap.data[I]=Math.round(v/E),this.bitmap.data[I+1]=Math.round(g/E),this.bitmap.data[I+2]=Math.round(b/E),this.bitmap.data[I+3]=Math.round(x/E)}return(0,w.isNodePattern)(s)&&s.call(this,null,this),this}}};_.default=h,D.exports=_.default},{"@jimp/utils":235}],214:[function(y,D,_){Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var w=y("@jimp/utils"),h=function(){return{invert:function(o){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(s,n,t){this.bitmap.data[t]=255-this.bitmap.data[t],this.bitmap.data[t+1]=255-this.bitmap.data[t+1],this.bitmap.data[t+2]=255-this.bitmap.data[t+2]}),(0,w.isNodePattern)(o)&&o.call(this,null,this),this}}};_.default=h,D.exports=_.default},{"@jimp/utils":235}],215:[function(y,D,_){Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var w=y("@jimp/utils"),h=function(){return{mask:function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,t=arguments.length>3?arguments[3]:void 0;if(!(o instanceof this.constructor))return w.throwError.call(this,"The source must be a Jimp image",t);if(typeof s!="number"||typeof n!="number")return w.throwError.call(this,"x and y must be numbers",t);s=Math.round(s),n=Math.round(n);var e=this.bitmap.width,a=this.bitmap.height,l=this;return o.scanQuiet(0,0,o.bitmap.width,o.bitmap.height,function(i,f,r){var u=s+i,c=n+f;if(u>=0&&c>=0&&u<e&&c<a){var v=l.getPixelIndex(u,c),g=this.bitmap.data,b=(g[r+0]+g[r+1]+g[r+2])/3;l.bitmap.data[v+3]*=b/255}}),(0,w.isNodePattern)(t)&&t.call(this,null,this),this}}};_.default=h,D.exports=_.default},{"@jimp/utils":235}],216:[function(y,D,_){Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var w=y("@jimp/utils");function h(){var s={r:new Array(256).fill(0),g:new Array(256).fill(0),b:new Array(256).fill(0)};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(n,t,e){s.r[this.bitmap.data[e+0]]++,s.g[this.bitmap.data[e+1]]++,s.b[this.bitmap.data[e+2]]++}),s}var m=function(n,t,e){return(n-t)*255/(e-t)},d=function(n){return[n.findIndex(function(t){return t>0}),255-n.slice().reverse().findIndex(function(t){return t>0})]},o=function(){return{normalize:function(t){var e=h.call(this),a={r:d(e.r),g:d(e.g),b:d(e.b)};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(l,i,f){var r=this.bitmap.data[f+0],u=this.bitmap.data[f+1],c=this.bitmap.data[f+2];this.bitmap.data[f+0]=m(r,a.r[0],a.r[1]),this.bitmap.data[f+1]=m(u,a.g[0],a.g[1]),this.bitmap.data[f+2]=m(c,a.b[0],a.b[1])}),(0,w.isNodePattern)(t)&&t.call(this,null,this),this}}};_.default=o,D.exports=_.default},{"@jimp/utils":235}],217:[function(y,D,_){(function(w){var h=y("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var m=h(y("@babel/runtime/helpers/typeof")),d=h(y("@babel/runtime/helpers/toConsumableArray")),o=h(y("path")),s=h(y("load-bmfont")),n=y("@jimp/utils"),t=y("./measure-text");function e(c,v,g,b,x){return x===c.HORIZONTAL_ALIGN_LEFT?0:x===c.HORIZONTAL_ALIGN_CENTER?(b-(0,t.measureText)(v,g))/2:b-(0,t.measureText)(v,g)}function a(c,v,g,b,x){if(x.width>0&&x.height>0){var E=v.pages[x.page];c.blit(E,g+x.xoffset,b+x.yoffset,x.x,x.y,x.width,x.height)}return c}function l(c,v,g,b,x){for(var E=0;E<b.length;E++){var S=void 0;c.chars[b[E]]?S=b[E]:/\s/.test(b[E])?S="":S="?";var A=c.chars[S]||{},F=c.kernings[S];a(this,c,v,g,A||{});var M=F&&F[b[E+1]]?F[b[E+1]]:0;v+=M+(A.xadvance||x)}}function i(c,v,g){var b=v.split(" "),x=[],E=[],S=0;return b.forEach(function(A){var F=[].concat((0,d.default)(E),[A]).join(" "),M=(0,t.measureText)(c,F);M<=g?(M>S&&(S=M),E.push(A)):(x.push(E),E=[A])}),x.push(E),{lines:x,longestLine:S}}function f(c,v,g){var b=g.map(function(x){return c.read(v+"/"+x)});return Promise.all(b)}var r="browser/lib/",u=function(){return{constants:{measureText:t.measureText,measureTextHeight:t.measureTextHeight,FONT_SANS_8_BLACK:o.default.join(r,"fonts/open-sans/open-sans-8-black/open-sans-8-black.fnt"),FONT_SANS_10_BLACK:o.default.join(r,"fonts/open-sans/open-sans-10-black/open-sans-10-black.fnt"),FONT_SANS_12_BLACK:o.default.join(r,"fonts/open-sans/open-sans-12-black/open-sans-12-black.fnt"),FONT_SANS_14_BLACK:o.default.join(r,"fonts/open-sans/open-sans-14-black/open-sans-14-black.fnt"),FONT_SANS_16_BLACK:o.default.join(r,"fonts/open-sans/open-sans-16-black/open-sans-16-black.fnt"),FONT_SANS_32_BLACK:o.default.join(r,"fonts/open-sans/open-sans-32-black/open-sans-32-black.fnt"),FONT_SANS_64_BLACK:o.default.join(r,"fonts/open-sans/open-sans-64-black/open-sans-64-black.fnt"),FONT_SANS_128_BLACK:o.default.join(r,"fonts/open-sans/open-sans-128-black/open-sans-128-black.fnt"),FONT_SANS_8_WHITE:o.default.join(r,"fonts/open-sans/open-sans-8-white/open-sans-8-white.fnt"),FONT_SANS_16_WHITE:o.default.join(r,"fonts/open-sans/open-sans-16-white/open-sans-16-white.fnt"),FONT_SANS_32_WHITE:o.default.join(r,"fonts/open-sans/open-sans-32-white/open-sans-32-white.fnt"),FONT_SANS_64_WHITE:o.default.join(r,"fonts/open-sans/open-sans-64-white/open-sans-64-white.fnt"),FONT_SANS_128_WHITE:o.default.join(r,"fonts/open-sans/open-sans-128-white/open-sans-128-white.fnt"),loadFont:function(g,b){var x=this;return typeof g!="string"?n.throwError.call(this,"file must be a string",b):new Promise(function(E,S){b=b||function(A,F){A?S(A):E(F)},(0,s.default)(g,function(A,F){var M={},z={};if(A)return n.throwError.call(x,A,b);for(var U=0;U<F.chars.length;U++)M[String.fromCharCode(F.chars[U].id)]=F.chars[U];for(var I=0;I<F.kernings.length;I++){var O=String.fromCharCode(F.kernings[I].first);z[O]=z[O]||{},z[O][String.fromCharCode(F.kernings[I].second)]=F.kernings[I].amount}f(x,o.default.dirname(g),F.pages).then(function(B){b(null,{chars:M,kernings:z,pages:B,common:F.common,info:F.info})})})})}},class:{print:function(g,b,x,E,S,A,F){var M=this;if(typeof S=="function"&&typeof F>"u"&&(F=S,S=1/0),typeof S>"u"&&(S=1/0),typeof A=="function"&&typeof F>"u"&&(F=A,A=1/0),typeof A>"u"&&(A=1/0),(0,m.default)(g)!=="object")return n.throwError.call(this,"font must be a Jimp loadFont",F);if(typeof b!="number"||typeof x!="number"||typeof S!="number")return n.throwError.call(this,"x, y and maxWidth must be numbers",F);if(typeof S!="number")return n.throwError.call(this,"maxWidth must be a number",F);if(typeof A!="number")return n.throwError.call(this,"maxHeight must be a number",F);var z,U;if((0,m.default)(E)==="object"&&E.text!==null&&E.text!==void 0){z=E.alignmentX||this.constructor.HORIZONTAL_ALIGN_LEFT,U=E.alignmentY||this.constructor.VERTICAL_ALIGN_TOP;var I=E;E=I.text}else z=this.constructor.HORIZONTAL_ALIGN_LEFT,U=this.constructor.VERTICAL_ALIGN_TOP,E=E.toString();A!==1/0&&U===this.constructor.VERTICAL_ALIGN_BOTTOM?x+=A-(0,t.measureTextHeight)(g,E,S):A!==1/0&&U===this.constructor.VERTICAL_ALIGN_MIDDLE&&(x+=A/2-(0,t.measureTextHeight)(g,E,S)/2);var O=Object.entries(g.chars)[0][1].xadvance,B=i(g,E,S),Y=B.lines,q=B.longestLine;return Y.forEach(function(ie){var ee=ie.join(" "),G=e(M.constructor,g,ee,S,z);l.call(M,g,b+G,x,ee,O),x+=g.common.lineHeight}),(0,n.isNodePattern)(F)&&F.call(this,null,this,{x:b+q,y:x}),this}}}};_.default=u,D.exports=_.default}).call(this,"/../../node_modules/@jimp/plugin-print/dist")},{"./measure-text":218,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235,"load-bmfont":219,path:107}],218:[function(y,D,_){Object.defineProperty(_,"__esModule",{value:!0}),_.measureText=w,_.measureTextHeight=h;function w(m,d){for(var o=0,s=0;s<d.length;s++)if(m.chars[d[s]]){var n=m.kernings[d[s]]&&m.kernings[d[s]][d[s+1]]?m.kernings[d[s]][d[s+1]]:0;o+=(m.chars[d[s]].xadvance||0)+n}return o}function h(m,d,o){for(var s=d.split(" "),n="",t=m.common.lineHeight,e=0;e<s.length;e++){var a=n+s[e]+" ",l=w(m,a);l>o&&e>0?(t+=m.common.lineHeight,n=s[e]+" "):n=a}return t}},{}],219:[function(y,D,_){(function(w){var h=y("xhr"),m=function(){},d=y("parse-bmfont-ascii"),o=y("parse-bmfont-xml"),s=y("parse-bmfont-binary"),n=y("./lib/is-binary"),t=y("xtend"),e=function(){return self.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}();D.exports=function(i,f){f=typeof f=="function"?f:m,typeof i=="string"?i={uri:i}:i||(i={});var r=i.binary;r&&(i=l(i)),h(i,function(u,c,v){if(u)return f(u);if(!/^2/.test(c.statusCode))return f(new Error("http status code: "+c.statusCode));if(!v)return f(new Error("no body result"));var g=!1;if(a(v)){var b=new Uint8Array(v);v=new w(b,"binary")}n(v)&&(g=!0,typeof v=="string"&&(v=new w(v,"binary"))),g||(w.isBuffer(v)&&(v=v.toString(i.encoding)),v=v.trim());var x;try{var E=c.headers["content-type"];g?x=s(v):/json/.test(E)||v.charAt(0)==="{"?x=JSON.parse(v):/xml/.test(E)||v.charAt(0)==="<"?x=o(v):x=d(v)}catch(S){f(new Error("error parsing font "+S.message)),f=m}f(null,x)})};function a(i){var f=Object.prototype.toString;return f.call(i)==="[object ArrayBuffer]"}function l(i){if(e)return t(i,{responseType:"arraybuffer"});if(typeof self.XMLHttpRequest>"u")throw new Error("your browser does not support XHR loading");var f=new self.XMLHttpRequest;return f.overrideMimeType("text/plain; charset=x-user-defined"),t({xhr:f},i)}}).call(this,y("buffer").Buffer)},{"./lib/is-binary":220,buffer:48,"parse-bmfont-ascii":102,"parse-bmfont-binary":103,"parse-bmfont-xml":104,xhr:187,xtend:189}],220:[function(y,D,_){(function(w){var h=y("buffer-equal"),m=new w([66,77,70,3]);D.exports=function(d){return typeof d=="string"?d.substring(0,3)==="BMF":d.length>4&&h(d.slice(0,4),m)}}).call(this,y("buffer").Buffer)},{buffer:48,"buffer-equal":49}],221:[function(y,D,_){(function(w){var h=y("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var m=y("@jimp/utils"),d=h(y("./modules/resize")),o=h(y("./modules/resize2")),s=function(){return{constants:{RESIZE_NEAREST_NEIGHBOR:"nearestNeighbor",RESIZE_BILINEAR:"bilinearInterpolation",RESIZE_BICUBIC:"bicubicInterpolation",RESIZE_HERMITE:"hermiteInterpolation",RESIZE_BEZIER:"bezierInterpolation"},class:{resize:function(e,a,l,i){if(typeof e!="number"||typeof a!="number")return m.throwError.call(this,"w and h must be numbers",i);if(typeof l=="function"&&typeof i>"u"&&(i=l,l=null),e===this.constructor.AUTO&&a===this.constructor.AUTO)return m.throwError.call(this,"w and h cannot both be set to auto",i);if(e===this.constructor.AUTO&&(e=this.bitmap.width*(a/this.bitmap.height)),a===this.constructor.AUTO&&(a=this.bitmap.height*(e/this.bitmap.width)),e<0||a<0)return m.throwError.call(this,"w and h must be positive numbers",i);if(e=Math.round(e),a=Math.round(a),typeof o.default[l]=="function"){var f={data:w.alloc(e*a*4),width:e,height:a};o.default[l](this.bitmap,f),this.bitmap=f}else{var r=this,u=new d.default(this.bitmap.width,this.bitmap.height,e,a,!0,!0,function(c){r.bitmap.data=w.from(c),r.bitmap.width=e,r.bitmap.height=a});u.resize(this.bitmap.data)}return(0,m.isNodePattern)(i)&&i.call(this,null,this),this}}}};_.default=s,D.exports=_.default}).call(this,y("buffer").Buffer)},{"./modules/resize":222,"./modules/resize2":223,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,buffer:48}],222:[function(y,D,_){function w(h,m,d,o,s,n,t){this.widthOriginal=Math.abs(Math.floor(h)||0),this.heightOriginal=Math.abs(Math.floor(m)||0),this.targetWidth=Math.abs(Math.floor(d)||0),this.targetHeight=Math.abs(Math.floor(o)||0),this.colorChannels=s?4:3,this.interpolationPass=Boolean(n),this.resizeCallback=typeof t=="function"?t:function(){},this.targetWidthMultipliedByChannels=this.targetWidth*this.colorChannels,this.originalWidthMultipliedByChannels=this.widthOriginal*this.colorChannels,this.originalHeightMultipliedByChannels=this.heightOriginal*this.colorChannels,this.widthPassResultSize=this.targetWidthMultipliedByChannels*this.heightOriginal,this.finalResultSize=this.targetWidthMultipliedByChannels*this.targetHeight,this.initialize()}w.prototype.initialize=function(){if(this.widthOriginal>0&&this.heightOriginal>0&&this.targetWidth>0&&this.targetHeight>0)this.configurePasses();else throw new Error("Invalid settings specified for the resizer.")},w.prototype.configurePasses=function(){this.widthOriginal===this.targetWidth?this.resizeWidth=this.bypassResizer:(this.ratioWeightWidthPass=this.widthOriginal/this.targetWidth,this.ratioWeightWidthPass<1&&this.interpolationPass?(this.initializeFirstPassBuffers(!0),this.resizeWidth=this.colorChannels===4?this.resizeWidthInterpolatedRGBA:this.resizeWidthInterpolatedRGB):(this.initializeFirstPassBuffers(!1),this.resizeWidth=this.colorChannels===4?this.resizeWidthRGBA:this.resizeWidthRGB)),this.heightOriginal===this.targetHeight?this.resizeHeight=this.bypassResizer:(this.ratioWeightHeightPass=this.heightOriginal/this.targetHeight,this.ratioWeightHeightPass<1&&this.interpolationPass?(this.initializeSecondPassBuffers(!0),this.resizeHeight=this.resizeHeightInterpolated):(this.initializeSecondPassBuffers(!1),this.resizeHeight=this.colorChannels===4?this.resizeHeightRGBA:this.resizeHeightRGB))},w.prototype._resizeWidthInterpolatedRGBChannels=function(h,m){var d=m?4:3,o=this.ratioWeightWidthPass,s=this.widthBuffer,n=0,t=0,e=0,a=0,l=0,i;for(i=0;n<1/3;i+=d,n+=o)for(t=i,e=0;t<this.widthPassResultSize;e+=this.originalWidthMultipliedByChannels,t+=this.targetWidthMultipliedByChannels)s[t]=h[e],s[t+1]=h[e+1],s[t+2]=h[e+2],m&&(s[t+3]=h[e+3]);n-=1/3;var f;for(f=this.widthOriginal-1;n<f;i+=d,n+=o)for(l=n%1,a=1-l,t=i,e=Math.floor(n)*d;t<this.widthPassResultSize;e+=this.originalWidthMultipliedByChannels,t+=this.targetWidthMultipliedByChannels)s[t+0]=h[e+0]*a+h[e+d+0]*l,s[t+1]=h[e+1]*a+h[e+d+1]*l,s[t+2]=h[e+2]*a+h[e+d+2]*l,m&&(s[t+3]=h[e+3]*a+h[e+d+3]*l);for(f=this.originalWidthMultipliedByChannels-d;i<this.targetWidthMultipliedByChannels;i+=d)for(t=i,e=f;t<this.widthPassResultSize;e+=this.originalWidthMultipliedByChannels,t+=this.targetWidthMultipliedByChannels)s[t]=h[e],s[t+1]=h[e+1],s[t+2]=h[e+2],m&&(s[t+3]=h[e+3]);return s},w.prototype._resizeWidthRGBChannels=function(h,m){var d=m?4:3,o=this.ratioWeightWidthPass,s=1/o,n=this.originalWidthMultipliedByChannels-d+1,t=this.targetWidthMultipliedByChannels-d+1,e=this.outputWidthWorkBench,a=this.widthBuffer,l=this.outputWidthWorkBenchOpaquePixelsCount,i=0,f=0,r=0,u=0,c=0,v=0,g=0,b=1,x=0,E=0,S=0,A=0;do{for(c=0;c<this.originalHeightMultipliedByChannels;)e[c++]=0,e[c++]=0,e[c++]=0,m&&(e[c++]=0,l[c/d-1]=0);i=o;do{for(f=1+r-u,b=Math.min(i,f),c=0,v=r;c<this.originalHeightMultipliedByChannels;v+=n)x=h[v],E=h[++v],S=h[++v],A=m?h[++v]:255,e[c++]+=(A?x:0)*b,e[c++]+=(A?E:0)*b,e[c++]+=(A?S:0)*b,m&&(e[c++]+=A*b,l[c/d-1]+=A?b:0);if(i>=f)r+=d,u=r,i-=f;else{u+=i;break}}while(i>0&&r<this.originalWidthMultipliedByChannels);for(c=0,v=g;c<this.originalHeightMultipliedByChannels;v+=t)i=m?l[c/d]:1,b=m?i?1/i:0:s,a[v]=e[c++]*b,a[++v]=e[c++]*b,a[++v]=e[c++]*b,m&&(a[++v]=e[c++]*s);g+=d}while(g<this.targetWidthMultipliedByChannels);return a},w.prototype._resizeHeightRGBChannels=function(h,m){var d=this.ratioWeightHeightPass,o=1/d,s=this.outputHeightWorkBench,n=this.heightBuffer,t=this.outputHeightWorkBenchOpaquePixelsCount,e=0,a=0,l=0,i=0,f=0,r=0,u=0,c=1,v=0,g=0,b=0,x=0;do{for(f=0;f<this.targetWidthMultipliedByChannels;)s[f++]=0,s[f++]=0,s[f++]=0,m&&(s[f++]=0,t[f/4-1]=0);e=d;do{for(a=1+l-i,c=Math.min(e,a),u=l,f=0;f<this.targetWidthMultipliedByChannels;)v=h[u++],g=h[u++],b=h[u++],x=m?h[u++]:255,s[f++]+=(x?v:0)*c,s[f++]+=(x?g:0)*c,s[f++]+=(x?b:0)*c,m&&(s[f++]+=x*c,t[f/4-1]+=x?c:0);if(e>=a)l=u,i=l,e-=a;else{i+=e;break}}while(e>0&&l<this.widthPassResultSize);for(f=0;f<this.targetWidthMultipliedByChannels;)e=m?t[f/4]:1,c=m?e?1/e:0:o,n[r++]=Math.round(s[f++]*c),n[r++]=Math.round(s[f++]*c),n[r++]=Math.round(s[f++]*c),m&&(n[r++]=Math.round(s[f++]*o))}while(r<this.finalResultSize);return n},w.prototype.resizeWidthInterpolatedRGB=function(h){return this._resizeWidthInterpolatedRGBChannels(h,!1)},w.prototype.resizeWidthInterpolatedRGBA=function(h){return this._resizeWidthInterpolatedRGBChannels(h,!0)},w.prototype.resizeWidthRGB=function(h){return this._resizeWidthRGBChannels(h,!1)},w.prototype.resizeWidthRGBA=function(h){return this._resizeWidthRGBChannels(h,!0)},w.prototype.resizeHeightInterpolated=function(h){for(var m=this.ratioWeightHeightPass,d=this.heightBuffer,o=0,s=0,n=0,t=0,e=0,a=0,l=0,i;o<1/3;o+=m)for(n=0;n<this.targetWidthMultipliedByChannels;)d[s++]=Math.round(h[n++]);for(o-=1/3,i=this.heightOriginal-1;o<i;o+=m)for(l=o%1,a=1-l,t=Math.floor(o)*this.targetWidthMultipliedByChannels,e=t+this.targetWidthMultipliedByChannels,n=0;n<this.targetWidthMultipliedByChannels;++n)d[s++]=Math.round(h[t++]*a+h[e++]*l);for(;s<this.finalResultSize;)for(n=0,t=i*this.targetWidthMultipliedByChannels;n<this.targetWidthMultipliedByChannels;++n)d[s++]=Math.round(h[t++]);return d},w.prototype.resizeHeightRGB=function(h){return this._resizeHeightRGBChannels(h,!1)},w.prototype.resizeHeightRGBA=function(h){return this._resizeHeightRGBChannels(h,!0)},w.prototype.resize=function(h){this.resizeCallback(this.resizeHeight(this.resizeWidth(h)))},w.prototype.bypassResizer=function(h){return h},w.prototype.initializeFirstPassBuffers=function(h){this.widthBuffer=this.generateFloatBuffer(this.widthPassResultSize),h||(this.outputWidthWorkBench=this.generateFloatBuffer(this.originalHeightMultipliedByChannels),this.colorChannels>3&&(this.outputWidthWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.heightOriginal)))},w.prototype.initializeSecondPassBuffers=function(h){this.heightBuffer=this.generateUint8Buffer(this.finalResultSize),h||(this.outputHeightWorkBench=this.generateFloatBuffer(this.targetWidthMultipliedByChannels),this.colorChannels>3&&(this.outputHeightWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.targetWidth)))},w.prototype.generateFloatBuffer=function(h){try{return new Float32Array(h)}catch{return[]}},w.prototype.generateFloat64Buffer=function(h){try{return new Float64Array(h)}catch{return[]}},w.prototype.generateUint8Buffer=function(h){try{return new Uint8Array(h)}catch{return[]}},D.exports=w},{}],223:[function(y,D,_){(function(w){D.exports={nearestNeighbor:function(m,d){for(var o=m.width,s=m.height,n=d.width,t=d.height,e=m.data,a=d.data,l=0;l<t;l++)for(var i=0;i<n;i++){var f=(l*n+i)*4,r=Math.floor(l*s/t),u=Math.floor(i*o/n),c=(r*o+u)*4;a[f++]=e[c++],a[f++]=e[c++],a[f++]=e[c++],a[f++]=e[c++]}},bilinearInterpolation:function(m,d){for(var o=m.width,s=m.height,n=d.width,t=d.height,e=m.data,a=d.data,l=function(A,F,M,z,U){return F===z?M:Math.round((A-F)*U+(z-A)*M)},i=function(A,F,M,z,U,I,O,B){var Y=(O*o+z)*4+F,q=(O*o+U)*4+F,ie=l(M,z,e[Y],U,e[q]);if(B===O)a[A+F]=ie;else{Y=(B*o+z)*4+F,q=(B*o+U)*4+F;var ee=l(M,z,e[Y],U,e[q]);a[A+F]=l(I,O,ie,B,ee)}},f=0;f<t;f++)for(var r=0;r<n;r++){var u=(f*n+r)*4,c=r*o/n,v=Math.floor(c),g=Math.min(Math.ceil(c),o-1),b=f*s/t,x=Math.floor(b),E=Math.min(Math.ceil(b),s-1);i(u,0,c,v,g,b,x,E),i(u,1,c,v,g,b,x,E),i(u,2,c,v,g,b,x,E),i(u,3,c,v,g,b,x,E)}},_interpolate2D:function(m,d,o,s){for(var n=m.data,t=d.data,e=m.width,a=m.height,l=d.width,i=d.height,f=Math.max(1,Math.floor(e/l)),r=l*f,u=Math.max(1,Math.floor(a/i)),c=i*u,v=w.alloc(r*a*4),g=0;g<a;g++)for(var b=0;b<r;b++)for(var x=b*(e-1)/r,E=Math.floor(x),S=x-E,A=(g*e+E)*4,F=(g*r+b)*4,M=0;M<4;M++){var z=A+M,U=E>0?n[z-4]:2*n[z]-n[z+4],I=n[z],O=n[z+4],B=E<e-2?n[z+8]:2*n[z+4]-n[z];v[F+M]=s(U,I,O,B,S)}for(var Y=w.alloc(r*c*4),q=0;q<c;q++)for(var ie=0;ie<r;ie++)for(var ee=q*(a-1)/c,G=Math.floor(ee),V=ee-G,W=(G*r+ie)*4,Q=(q*r+ie)*4,oe=0;oe<4;oe++){var ve=W+oe,fe=G>0?v[ve-r*4]:2*v[ve]-v[ve+r*4],de=v[ve],be=v[ve+r*4],le=G<a-2?v[ve+r*8]:2*v[ve+r*4]-v[ve];Y[Q+oe]=s(fe,de,be,le,V)}var se=f*u;if(se>1)for(var X=0;X<i;X++)for(var J=0;J<l;J++){for(var te=0,j=0,P=0,R=0,Z=0,N=0;N<u;N++)for(var C=X*u+N,T=0;T<f;T++){var H=J*f+T,ue=(C*r+H)*4,me=Y[ue+3];me&&(te+=Y[ue],j+=Y[ue+1],P+=Y[ue+2],Z++),R+=me}var ye=(X*l+J)*4;t[ye]=Z?Math.round(te/Z):0,t[ye+1]=Z?Math.round(j/Z):0,t[ye+2]=Z?Math.round(P/Z):0,t[ye+3]=Math.round(R/se)}else d.data=Y},bicubicInterpolation:function(m,d,o){var s=function(t,e,a,l,i){var f=l-a-t+e,r=t-e-f,u=a-t,c=e;return Math.max(0,Math.min(255,f*(i*i*i)+r*(i*i)+u*i+c))};return this._interpolate2D(m,d,o,s)},hermiteInterpolation:function(m,d,o){var s=function(t,e,a,l,i){var f=e,r=.5*(a-t),u=t-2.5*e+2*a-.5*l,c=.5*(l-t)+1.5*(e-a);return Math.max(0,Math.min(255,Math.round(((c*i+u)*i+r)*i+f)))};return this._interpolate2D(m,d,o,s)},bezierInterpolation:function(m,d,o){var s=function(t,e,a,l,i){var f=e+(a-t)/4,r=a-(l-e)/4,u=1-i,c=e*u*u*u,v=3*f*u*u*i,g=3*r*u*i*i,b=a*i*i*i;return Math.max(0,Math.min(255,Math.round(c+v+g+b)))};return this._interpolate2D(m,d,o,s)}}}).call(this,y("buffer").Buffer)},{buffer:48}],224:[function(y,D,_){(function(w){Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var h=y("@jimp/utils");function m(o,s){o%=360;var n=o*Math.PI/180,t=Math.cos(n),e=Math.sin(n),a=this.bitmap.width,l=this.bitmap.height;if(s===!0||typeof s=="string"){a=Math.ceil(Math.abs(this.bitmap.width*t)+Math.abs(this.bitmap.height*e))+1,l=Math.ceil(Math.abs(this.bitmap.width*e)+Math.abs(this.bitmap.height*t))+1,a%2!==0&&a++,l%2!==0&&l++;var i=this.cloneQuiet();this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(O,B,Y){this.bitmap.data.writeUInt32BE(this._background,Y)});var f=Math.max(a,l,this.bitmap.width,this.bitmap.height);this.resize(f,f,s),this.blit(i,this.bitmap.width/2-i.bitmap.width/2,this.bitmap.height/2-i.bitmap.height/2)}var r=this.bitmap.width,u=this.bitmap.height,c=w.alloc(this.bitmap.data.length);function v(O,B){return function(Y,q){return{x:Y+O,y:q+B}}}for(var g=v(-(r/2),-(u/2)),b=v(r/2+.5,u/2+.5),x=1;x<=u;x++)for(var E=1;E<=r;E++){var S=g(E,x),A=b(t*S.x-e*S.y,t*S.y+e*S.x),F=r*(x-1)+E-1<<2;if(A.x>=0&&A.x<r&&A.y>=0&&A.y<u){var M=(r*(A.y|0)+A.x|0)<<2,z=this.bitmap.data.readUInt32BE(M);c.writeUInt32BE(z,F)}else c.writeUInt32BE(this._background,F)}if(this.bitmap.data=c,s===!0||typeof s=="string"){var U=r/2-a/2,I=u/2-l/2;this.crop(U,I,a,l)}}var d=function(){return{rotate:function(n,t,e){return(typeof t>"u"||t===null)&&(t=!0),typeof t=="function"&&typeof e>"u"&&(e=t,t=!0),typeof n!="number"?h.throwError.call(this,"deg must be a number",e):typeof t!="boolean"&&typeof t!="string"?h.throwError.call(this,"mode must be a boolean or a string",e):(m.call(this,n,t,e),(0,h.isNodePattern)(e)&&e.call(this,null,this),this)}}};_.default=d,D.exports=_.default}).call(this,y("buffer").Buffer)},{"@jimp/utils":235,buffer:48}],225:[function(y,D,_){Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var w=y("@jimp/utils"),h=function(){return{scale:function(o,s,n){if(typeof o!="number")return w.throwError.call(this,"f must be a number",n);if(o<0)return w.throwError.call(this,"f must be a positive number",n);typeof s=="function"&&typeof n>"u"&&(n=s,s=null);var t=this.bitmap.width*o,e=this.bitmap.height*o;return this.resize(t,e,s),(0,w.isNodePattern)(n)&&n.call(this,null,this),this},scaleToFit:function(o,s,n,t){if(typeof o!="number"||typeof s!="number")return w.throwError.call(this,"w and h must be numbers",t);typeof n=="function"&&typeof t>"u"&&(t=n,n=null);var e=o/s>this.bitmap.width/this.bitmap.height?s/this.bitmap.height:o/this.bitmap.width;return this.scale(e,n),(0,w.isNodePattern)(t)&&t.call(this,null,this),this}}};_.default=h,D.exports=_.default},{"@jimp/utils":235}],226:[function(y,D,_){Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var w=y("@jimp/utils"),h=function(){return{shadow:function(){var o=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;typeof s=="function"&&(n=s,s={});var t=s,e=t.opacity,a=e===void 0?.7:e,l=t.size,i=l===void 0?1.1:l,f=t.x,r=f===void 0?-25:f,u=t.y,c=u===void 0?25:u,v=t.blur,g=v===void 0?5:v,b=this.clone(),x=this.clone();return x.scan(0,0,x.bitmap.width,x.bitmap.height,function(E,S,A){x.bitmap.data[A]=0,x.bitmap.data[A+1]=0,x.bitmap.data[A+2]=0,x.bitmap.data[A+3]=x.constructor.limit255(x.bitmap.data[A+3]*a),o.bitmap.data[A]=0,o.bitmap.data[A+1]=0,o.bitmap.data[A+2]=0,o.bitmap.data[A+3]=0}),x.resize(x.bitmap.width*i,x.bitmap.height*i).blur(g),this.composite(x,r,c),this.composite(b,0,0),(0,w.isNodePattern)(n)&&n.call(this,null,this),this}}};_.default=h,D.exports=_.default},{"@jimp/utils":235}],227:[function(y,D,_){Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var w=y("@jimp/utils"),h=function(){return{threshold:function(o,s){var n=this,t=o.max,e=o.replace,a=e===void 0?255:e,l=o.autoGreyscale,i=l===void 0?!0:l;return typeof t!="number"?w.throwError.call(this,"max must be a number",s):typeof a!="number"?w.throwError.call(this,"replace must be a number",s):typeof i!="boolean"?w.throwError.call(this,"autoGreyscale must be a boolean",s):(t=this.constructor.limit255(t),a=this.constructor.limit255(a),i&&this.greyscale(),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(f,r,u){var c=n.bitmap.data[u]<t?n.bitmap.data[u]:a;n.bitmap.data[u]=c,n.bitmap.data[u+1]=c,n.bitmap.data[u+2]=c}),(0,w.isNodePattern)(s)&&s.call(this,null,this),this)}}};_.default=h,D.exports=_.default},{"@jimp/utils":235}],228:[function(y,D,_){var w=y("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var h=w(y("@babel/runtime/helpers/toConsumableArray")),m=y("timm"),d=w(y("@jimp/plugin-blit")),o=w(y("@jimp/plugin-blur")),s=w(y("@jimp/plugin-circle")),n=w(y("@jimp/plugin-color")),t=w(y("@jimp/plugin-contain")),e=w(y("@jimp/plugin-cover")),a=w(y("@jimp/plugin-crop")),l=w(y("@jimp/plugin-displace")),i=w(y("@jimp/plugin-dither")),f=w(y("@jimp/plugin-fisheye")),r=w(y("@jimp/plugin-flip")),u=w(y("@jimp/plugin-gaussian")),c=w(y("@jimp/plugin-invert")),v=w(y("@jimp/plugin-mask")),g=w(y("@jimp/plugin-normalize")),b=w(y("@jimp/plugin-print")),x=w(y("@jimp/plugin-resize")),E=w(y("@jimp/plugin-rotate")),S=w(y("@jimp/plugin-scale")),A=w(y("@jimp/plugin-shadow")),F=w(y("@jimp/plugin-threshold")),M=[d.default,o.default,s.default,n.default,t.default,e.default,a.default,l.default,i.default,f.default,r.default,u.default,c.default,v.default,g.default,b.default,x.default,E.default,S.default,A.default,F.default],z=function(I){var O=M.map(function(B){var Y=B(I)||{};return!Y.class&&!Y.constants&&(Y={class:Y}),Y});return m.mergeDeep.apply(void 0,(0,h.default)(O))};_.default=z,D.exports=_.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20,"@jimp/plugin-blit":201,"@jimp/plugin-blur":203,"@jimp/plugin-circle":204,"@jimp/plugin-color":205,"@jimp/plugin-contain":206,"@jimp/plugin-cover":207,"@jimp/plugin-crop":208,"@jimp/plugin-displace":209,"@jimp/plugin-dither":210,"@jimp/plugin-fisheye":211,"@jimp/plugin-flip":212,"@jimp/plugin-gaussian":213,"@jimp/plugin-invert":214,"@jimp/plugin-mask":215,"@jimp/plugin-normalize":216,"@jimp/plugin-print":217,"@jimp/plugin-resize":221,"@jimp/plugin-rotate":224,"@jimp/plugin-scale":225,"@jimp/plugin-shadow":226,"@jimp/plugin-threshold":227,timm:177}],229:[function(y,D,_){var w=y("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var h=w(y("@babel/runtime/helpers/defineProperty")),m=w(y("bmp-js")),d=y("@jimp/utils"),o="image/bmp",s="image/x-ms-bmp";function n(i){return(0,d.scan)(i,0,0,i.bitmap.width,i.bitmap.height,function(f,r,u){var c=this.bitmap.data[u+0],v=this.bitmap.data[u+1],g=this.bitmap.data[u+2],b=this.bitmap.data[u+3];this.bitmap.data[u+0]=b,this.bitmap.data[u+1]=g,this.bitmap.data[u+2]=v,this.bitmap.data[u+3]=c}).bitmap}function t(i){return(0,d.scan)({bitmap:i},0,0,i.width,i.height,function(f,r,u){var c=this.bitmap.data[u+0],v=this.bitmap.data[u+1],g=this.bitmap.data[u+2],b=this.bitmap.data[u+3];this.bitmap.data[u+0]=b,this.bitmap.data[u+1]=g,this.bitmap.data[u+2]=v,this.bitmap.data[u+3]=i.is_with_alpha?c:255}).bitmap}var e=function(f){return t(m.default.decode(f))},a=function(f){return m.default.encode(n(f)).data},l=function(){var f,r;return{mime:(0,h.default)({},o,["bmp"]),constants:{MIME_BMP:o,MIME_X_MS_BMP:s},decoders:(f={},(0,h.default)(f,o,e),(0,h.default)(f,s,e),f),encoders:(r={},(0,h.default)(r,o,a),(0,h.default)(r,s,a),r)}};_.default=l,D.exports=_.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,"bmp-js":30}],230:[function(y,D,_){(function(w){var h=y("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var m=h(y("@babel/runtime/helpers/defineProperty")),d=h(y("omggif")),o=y("gifwrap"),s="image/gif",n=function(){return{mime:(0,m.default)({},s,["gif"]),constants:{MIME_GIF:s},decoders:(0,m.default)({},s,function(e){var a=new d.default.GifReader(e),l=w.alloc(a.width*a.height*4);return a.decodeAndBlitFrameRGBA(0,l),{data:l,width:a.width,height:a.height}}),encoders:(0,m.default)({},s,function(e){var a=new o.BitmapImage(e.bitmap);o.GifUtil.quantizeDekker(a,256);var l=new o.GifFrame(a),i=new o.GifCodec;return i.encodeGif([l],{}).then(function(f){return f.buffer})})}};_.default=n,D.exports=_.default}).call(this,y("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,buffer:48,gifwrap:70,omggif:85}],231:[function(y,D,_){var w=y("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var h=w(y("@babel/runtime/helpers/defineProperty")),m=w(y("jpeg-js")),d=y("@jimp/utils"),o="image/jpeg",s=function(){return{mime:(0,h.default)({},o,["jpeg","jpg","jpe"]),constants:{MIME_JPEG:o},decoders:(0,h.default)({},o,m.default.decode),encoders:(0,h.default)({},o,function(t){return m.default.encode(t.bitmap,t._quality).data}),class:{_quality:100,quality:function(e,a){return typeof e!="number"?d.throwError.call(this,"n must be a number",a):e<0||e>100?d.throwError.call(this,"n must be a number 0 - 100",a):(this._quality=Math.round(e),(0,d.isNodePattern)(a)&&a.call(this,null,this),this)}}}};_.default=s,D.exports=_.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,"jpeg-js":80}],232:[function(y,D,_){var w=y("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var h=w(y("@babel/runtime/helpers/defineProperty")),m=y("pngjs"),d=y("@jimp/utils"),o="image/png",s=-1,n=0,t=1,e=2,a=3,l=4,i=function(){return{mime:(0,h.default)({},o,["png"]),constants:{MIME_PNG:o,PNG_FILTER_AUTO:s,PNG_FILTER_NONE:n,PNG_FILTER_SUB:t,PNG_FILTER_UP:e,PNG_FILTER_AVERAGE:a,PNG_FILTER_PATH:l},hasAlpha:(0,h.default)({},o,!0),decoders:(0,h.default)({},o,m.PNG.sync.read),encoders:(0,h.default)({},o,function(r){var u=new m.PNG({width:r.bitmap.width,height:r.bitmap.height});return u.data=r.bitmap.data,m.PNG.sync.write(u,{width:r.bitmap.width,height:r.bitmap.height,deflateLevel:r._deflateLevel,deflateStrategy:r._deflateStrategy,filterType:r._filterType,colorType:typeof r._colorType=="number"?r._colorType:r._rgba?6:2,inputHasAlpha:r._rgba})}),class:{_deflateLevel:9,_deflateStrategy:3,_filterType:s,_colorType:null,deflateLevel:function(u,c){return typeof u!="number"?d.throwError.call(this,"l must be a number",c):u<0||u>9?d.throwError.call(this,"l must be a number 0 - 9",c):(this._deflateLevel=Math.round(u),(0,d.isNodePattern)(c)&&c.call(this,null,this),this)},deflateStrategy:function(u,c){return typeof u!="number"?d.throwError.call(this,"s must be a number",c):u<0||u>3?d.throwError.call(this,"s must be a number 0 - 3",c):(this._deflateStrategy=Math.round(u),(0,d.isNodePattern)(c)&&c.call(this,null,this),this)},filterType:function(u,c){return typeof u!="number"?d.throwError.call(this,"n must be a number",c):u<-1||u>4?d.throwError.call(this,"n must be -1 (auto) or a number 0 - 4",c):(this._filterType=Math.round(u),(0,d.isNodePattern)(c)&&c.call(this,null,this),this)},colorType:function(u,c){return typeof u!="number"?d.throwError.call(this,"s must be a number",c):u!==0&&u!==2&&u!==4&&u!==6?d.throwError.call(this,"s must be a number 0, 2, 4, 6.",c):(this._colorType=Math.round(u),(0,d.isNodePattern)(c)&&c.call(this,null,this),this)}}}};_.default=i,D.exports=_.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,pngjs:129}],233:[function(y,D,_){(function(w){var h=y("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var m=h(y("@babel/runtime/helpers/defineProperty")),d=h(y("utif")),o="image/tiff",s=function(){return{mime:(0,m.default)({},o,["tiff","tif"]),constants:{MIME_TIFF:o},decoders:(0,m.default)({},o,function(t){var e=d.default.decode(t),a=e[0];d.default.decodeImages(t,e);var l=d.default.toRGBA8(a);return{data:w.from(l),width:a.t256[0],height:a.t257[0]}}),encoders:(0,m.default)({},o,function(t){var e=d.default.encodeImage(t.bitmap.data,t.bitmap.width,t.bitmap.height);return w.from(e)})}};_.default=s,D.exports=_.default}).call(this,y("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,buffer:48,utif:182}],234:[function(y,D,_){var w=y("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var h=y("timm"),m=w(y("@jimp/jpeg")),d=w(y("@jimp/png")),o=w(y("@jimp/bmp")),s=w(y("@jimp/tiff")),n=w(y("@jimp/gif")),t=function(){return(0,h.mergeDeep)((0,m.default)(),(0,d.default)(),(0,o.default)(),(0,s.default)(),(0,n.default)())};_.default=t,D.exports=_.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/bmp":229,"@jimp/gif":230,"@jimp/jpeg":231,"@jimp/png":232,"@jimp/tiff":233,timm:177}],235:[function(y,D,_){var w=y("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(_,"__esModule",{value:!0}),_.isNodePattern=d,_.throwError=o,_.scan=s,_.scanIterator=n;var h=w(y("@babel/runtime/regenerator")),m=h.default.mark(n);function d(t){if(typeof t>"u")return!1;if(typeof t!="function")throw new TypeError("Callback must be a function");return!0}function o(t,e){if(typeof t=="string"&&(t=new Error(t)),typeof e=="function")return e.call(this,t);throw t}function s(t,e,a,l,i,f){e=Math.round(e),a=Math.round(a),l=Math.round(l),i=Math.round(i);for(var r=a;r<a+i;r++)for(var u=e;u<e+l;u++){var c=t.bitmap.width*r+u<<2;f.call(t,u,r,c)}return t}function n(t,e,a,l,i){var f,r,u;return h.default.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:e=Math.round(e),a=Math.round(a),l=Math.round(l),i=Math.round(i),f=a;case 5:if(!(f<a+i)){v.next=17;break}r=e;case 7:if(!(r<e+l)){v.next=14;break}return u=t.bitmap.width*f+r<<2,v.next=11,{x:r,y:f,idx:u,image:t};case 11:r++,v.next=7;break;case 14:f++,v.next=5;break;case 17:case"end":return v.stop()}},m)}},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/regenerator":22}]},{},[200])(200)})})(dr);const Ot=ii(dr.exports),wt=new Proxy({},{get:($,ne)=>re=>y=>(y.class=`${re} ${y.class??""}`,et(ri,Rr({component:ne},y)))});const Nt=Symbol("store-raw"),gt=Symbol("store-node"),ni=Symbol("store-name");function pr($,ne){let re=$[rt];if(!re&&(Object.defineProperty($,rt,{value:re=new Proxy($,si)}),!Array.isArray($))){const y=Object.keys($),D=Object.getOwnPropertyDescriptors($);for(let _=0,w=y.length;_<w;_++){const h=y[_];if(D[h].get){const m=D[h].get.bind(re);Object.defineProperty($,h,{enumerable:D[h].enumerable,get:m})}}}return re}function Pt($){let ne;return $!=null&&typeof $=="object"&&($[rt]||!(ne=Object.getPrototypeOf($))||ne===Object.prototype||Array.isArray($))}function bt($,ne=new Set){let re,y,D,_;if(re=$!=null&&$[Nt])return re;if(!Pt($)||ne.has($))return $;if(Array.isArray($)){Object.isFrozen($)?$=$.slice(0):ne.add($);for(let w=0,h=$.length;w<h;w++)D=$[w],(y=bt(D,ne))!==D&&($[w]=y)}else{Object.isFrozen($)?$=Object.assign({},$):ne.add($);const w=Object.keys($),h=Object.getOwnPropertyDescriptors($);for(let m=0,d=w.length;m<d;m++)_=w[m],!h[_].get&&(D=$[_],(y=bt(D,ne))!==D&&($[_]=y))}return $}function Lt($){let ne=$[gt];return ne||Object.defineProperty($,gt,{value:ne={}}),ne}function zt($,ne,re){return $[ne]||($[ne]=mr(re))}function ai($,ne){const re=Reflect.getOwnPropertyDescriptor($,ne);return!re||re.get||!re.configurable||ne===rt||ne===gt||ne===ni||(delete re.value,delete re.writable,re.get=()=>$[rt][ne]),re}function vr($){if(nr()){const ne=Lt($);(ne._||(ne._=mr()))()}}function oi($){return vr($),Reflect.ownKeys($)}function mr($){const[ne,re]=Rt($,{equals:!1,internal:!0});return ne.$=re,ne}const si={get($,ne,re){if(ne===Nt)return $;if(ne===rt)return re;if(ne===Dt)return vr($),re;const y=Lt($),D=y.hasOwnProperty(ne);let _=D?y[ne]():$[ne];if(ne===gt||ne==="__proto__")return _;if(!D){const w=Object.getOwnPropertyDescriptor($,ne);nr()&&(typeof _!="function"||$.hasOwnProperty(ne))&&!(w&&w.get)&&(_=zt(y,ne,_)())}return Pt(_)?pr(_):_},has($,ne){if(ne===Nt||ne===rt||ne===Dt||ne===gt||ne==="__proto__")return!0;const re=Lt($)[ne];return re&&re(),ne in $},set(){return!0},deleteProperty(){return!0},ownKeys:oi,getOwnPropertyDescriptor:ai};function kt($,ne,re,y=!1){if(!y&&$[ne]===re)return;const D=$[ne],_=$.length;re===void 0?delete $[ne]:$[ne]=re;let w=Lt($),h;(h=zt(w,ne,D))&&h.$(()=>re),Array.isArray($)&&$.length!==_&&(h=zt(w,"length",_))&&h.$($.length),(h=w._)&&h.$()}function _r($,ne){const re=Object.keys(ne);for(let y=0;y<re.length;y+=1){const D=re[y];kt($,D,ne[D])}}function fi($,ne){if(typeof ne=="function"&&(ne=ne($)),ne=bt(ne),Array.isArray(ne)){if($===ne)return;let re=0,y=ne.length;for(;re<y;re++){const D=ne[re];$[re]!==D&&kt($,re,D)}kt($,"length",y)}else _r($,ne)}function vt($,ne,re=[]){let y,D=$;if(ne.length>1){y=ne.shift();const w=typeof y,h=Array.isArray($);if(Array.isArray(y)){for(let m=0;m<y.length;m++)vt($,[y[m]].concat(ne),re);return}else if(h&&w==="function"){for(let m=0;m<$.length;m++)y($[m],m)&&vt($,[m].concat(ne),re);return}else if(h&&w==="object"){const{from:m=0,to:d=$.length-1,by:o=1}=y;for(let s=m;s<=d;s+=o)vt($,[s].concat(ne),re);return}else if(ne.length>1){vt($[y],ne,[y].concat(re));return}D=$[y],re=[y].concat(re)}let _=ne[0];typeof _=="function"&&(_=_(D,re),_===D)||y===void 0&&_==null||(_=bt(_),y===void 0||Pt(D)&&Pt(_)&&!Array.isArray(_)?_r(D,_):kt($,y,_))}function li(...[$,ne]){const re=bt($||{}),y=Array.isArray(re),D=pr(re);function _(...w){wr(()=>{y&&w.length===1?fi(re,w[0]):vt(re,w)})}return[D,_]}const[tt,ui]=li({frames:[]}),gr=()=>tt.frames.length>0?[tt.frames[0].image.getWidth(),tt.frames[0].image.getHeight()]:[0,0],hi=async $=>{const ne=$.image;if(tt.frames.length>0){const[re,y]=gr();if(ne.getWidth()!==re||ne.getHeight()!==y)throw new Error("All existing and new frames must be the same size");let D=0;const _=()=>D===0?$.name:`${$.name} (${D})`;for(;tt.frames.some(w=>w.name===_());)D++;$.name=_()}$.previewBase64=await ne.getBase64Async(Ot.MIME_PNG),ui("frames",[...tt.frames,$])},ci=async($,ne=void 0)=>{let re=0;const y=async()=>{re<$.length?(await hi($[re]),re++,setTimeout(y,0)):ne&&ne()};y()},di=async()=>{if(tt.frames.length===0)throw new Error("No frames to generate sprite sheet from");const[$,ne]=gr(),re=tt.frames.length,y=Math.ceil(Math.sqrt(re)),D=Math.ceil(re/y),_=await Ot.create($*D,ne*y);for(let w=0,h=0;h<y&&w<re;h++)for(let m=0;m<D&&w<re;m++,w++)_.blit(tt.frames[w].image,m*$,h*ne);return _},pi=yt('<input type="file" accept="image/*" multiple hidden>'),vi=yt('<img class="w-100 border border-1 border-info rounded-3 bg-dark" alt="final image">'),mi=yt('<div class="m-5"><h1 class="text-center fw-bold">Welcome to Sprite Gen V1</h1><div class="mx-auto"><div class="mt-5 drag-drop"><div class="d-flex flex-column align-items-stretch"></div></div><div class="mt-3 w-75 mx-auto row"></div><div class="m-4"></div></div></div>'),_i=yt('<div><img class="w-100 border border-1 border-info rounded-3 bg-dark"></div>'),gi=yt('<div class="flex-fill d-flex justify-content-center align-items-center"><label></label></div>'),bi=wt.div`m-3 flex-fill d-flex flex-row flex-wrap justify-content-center align-items-center gap-3`,yi=wt.div`border border-2 border-info rounded-3 overflow-hidden`,wi=wt.div`d-flex flex-column justify-content-evenly align-items-center p-2 gap-2`,tr=wt.div`col-6 d-grid`,rr=wt.button`btn btn-block btn-primary btn-lg`,xi=()=>{const[$,ne]=Rt(!1),[re,y]=Rt(""),D=t=>async()=>{ne(!0),await t(),ne(!1)},_=async t=>{if(!t||t.length===0){console.log("no files");return}ne(!0);const e=[];for(let i=0;i<t.length;i++){const f=t[i],r=f.name;e.push((async()=>{const u=await Ot.read(URL.createObjectURL(f));return{name:r,image:u}})())}const a=await Promise.all(e),l=h;l.value="",ci(a,()=>{ne(!1)})};let w,h;const m=async()=>{h.click()},d=async()=>{_(h.files)},o=t=>{t.preventDefault(),t.dataTransfer&&_(t.dataTransfer.files)},s=t=>{t.preventDefault(),t.dataTransfer&&(t.dataTransfer.dropEffect="move")},n=D(async()=>{const e=await(await di()).getBase64Async(Ot.MIME_PNG);y(e)});return(()=>{const t=mi.cloneNode(!0),e=t.firstChild,a=e.nextSibling,l=a.firstChild,i=l.firstChild,f=l.nextSibling,r=f.nextSibling;return a.style.setProperty("max-width","1400px"),l.addEventListener("dragover",s),l.addEventListener("drop",o),ct(i,et(bi,{get children(){return et(Or,{get each(){return tt.frames},children:u=>et(yi,{style:{width:"10%","min-width":"180px"},get children(){return et(wi,{get children(){return[(()=>{const c=_i.cloneNode(!0),v=c.firstChild;return it(g=>{const b=u.name,x=u.previewBase64;return b!==g._v$&&mt(v,"alt",g._v$=b),x!==g._v$2&&mt(v,"src",g._v$2=x),g},{_v$:void 0,_v$2:void 0}),c})(),(()=>{const c=gi.cloneNode(!0),v=c.firstChild;return ct(v,()=>u.name),c})()]}})}})})}})),ct(f,et(tr,{get children(){return[et(rr,{ref(u){const c=w;typeof c=="function"?c(u):w=u},class:"btn-primary",onclick:m,get disabled(){return $()},children:"Upload"}),(()=>{const u=pi.cloneNode(!0);u.addEventListener("change",d);const c=h;return typeof c=="function"?Xr(c,u):h=u,u})()]}}),null),ct(f,et(tr,{get children(){return et(rr,{class:"btn-success",onclick:n,get disabled(){return $()},children:"Generate"})}}),null),ct(r,et(Pr,{get when(){return re()},get children(){const u=vi.cloneNode(!0);return it(()=>mt(u,"src",re())),u}})),t})()};Ur(()=>et(xi,{}),document.getElementById("root"));
